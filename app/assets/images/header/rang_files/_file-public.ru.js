!function t(e,n,r){function a(s,o){if(!n[s]){if(!e[s]){var c="function"==typeof require&&require;if(!o&&c)return c(s,!0);if(i)return i(s,!0);throw new Error("Cannot find module '"+s+"'")}var l=n[s]={exports:{}};e[s][0].call(l.exports,function(t){var n=e[s][1][t];return a(n?n:t)},l,l.exports,t,e,n,r)}return n[s].exports}for(var i="function"==typeof require&&require,s=0;s<r.length;s++)a(r[s]);return a}({1:[function(t,e,n){!function(t){"use strict";function r(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t}!function(a){function i(t){throw RangeError(D[t])}function s(t,e){for(var n=t.length;n--;)t[n]=e(t[n]);return t}function o(t,e){return s(t.split(I),e).join(".")}function c(t){for(var e,n,r=[],a=0,i=t.length;i>a;)e=t.charCodeAt(a++),e>=55296&&56319>=e&&i>a?(n=t.charCodeAt(a++),56320==(64512&n)?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),a--)):r.push(e);return r}function l(t){return s(t,function(t){var e="";return t>65535&&(t-=65536,e+=N(55296|1023&t>>>10),t=56320|1023&t),e+=N(t)}).join("")}function d(t){return 10>t-48?t-22:26>t-65?t-65:26>t-97?t-97:k}function u(t,e){return t+22+75*(26>t)-((0!=e)<<5)}function f(t,e,n){var r=0;for(t=n?O(t/S):t>>1,t+=O(t/e);t>E*j>>1;r+=k)t=O(t/E);return O(r+(E+1)*t/(t+C))}function p(t){var e,n,r,a,s,o,c,u,p,m,h=[],v=t.length,y=0,b=z,g=M;for(n=t.lastIndexOf(T),0>n&&(n=0),r=0;n>r;++r)t.charCodeAt(r)>=128&&i("not-basic"),h.push(t.charCodeAt(r));for(a=n>0?n+1:0;v>a;){for(s=y,o=1,c=k;a>=v&&i("invalid-input"),u=d(t.charCodeAt(a++)),(u>=k||u>O((x-y)/o))&&i("overflow"),y+=u*o,p=g>=c?A:c>=g+j?j:c-g,!(p>u);c+=k)m=k-p,o>O(x/m)&&i("overflow"),o*=m;e=h.length+1,g=f(y-s,e,0==s),O(y/e)>x-b&&i("overflow"),b+=O(y/e),y%=e,h.splice(y++,0,b)}return l(h)}function m(t){var e,n,r,a,s,o,l,d,p,m,h,v,y,b,g,_=[];for(t=c(t),v=t.length,e=z,n=0,s=M,o=0;v>o;++o)h=t[o],128>h&&_.push(N(h));for(r=a=_.length,a&&_.push(T);v>r;){for(l=x,o=0;v>o;++o)h=t[o],h>=e&&l>h&&(l=h);for(y=r+1,l-e>O((x-n)/y)&&i("overflow"),n+=(l-e)*y,e=l,o=0;v>o;++o)if(h=t[o],e>h&&++n>x&&i("overflow"),h==e){for(d=n,p=k;m=s>=p?A:p>=s+j?j:p-s,!(m>d);p+=k)g=d-m,b=k-m,_.push(N(u(m+g%b,0))),d=O(g/b);_.push(N(u(d,0))),s=f(n,y,r==a),n=0,++r}++n,++e}return _.join("")}function h(t){return o(t,function(t){return P.test(t)?p(t.slice(4).toLowerCase()):t})}function v(t){return o(t,function(t){return R.test(t)?"xn--"+m(t):t})}var y="object"==("undefined"==typeof n?"undefined":r(n))&&n,b="object"==("undefined"==typeof e?"undefined":r(e))&&e&&e.exports==y&&e,g="object"==("undefined"==typeof t?"undefined":r(t))&&t;(g.global===g||g.window===g)&&(a=g);var _,w,x=2147483647,k=36,A=1,j=26,C=38,S=700,M=72,z=128,T="-",P=/^xn--/,R=/[^ -~]/,I=/\x2E|\u3002|\uFF0E|\uFF61/g,D={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},E=k-A,O=Math.floor,N=String.fromCharCode;if(_={version:"1.2.4",ucs2:{decode:c,encode:l},decode:p,encode:m,toASCII:v,toUnicode:h},"function"==typeof define&&"object"==r(define.amd)&&define.amd)define("punycode",function(){return _});else if(y&&!y.nodeType)if(b)b.exports=_;else for(w in _)_.hasOwnProperty(w)&&(y[w]=_[w]);else a.punycode=_}(void 0)}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(t,e){"use strict";function n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.exports=function(t,e,a,i){e=e||"&",a=a||"=";var s={};if("string"!=typeof t||0===t.length)return s;var o=/\+/g;t=t.split(e);var c=1e3;i&&"number"==typeof i.maxKeys&&(c=i.maxKeys);var l=t.length;c>0&&l>c&&(l=c);for(var d=0;l>d;++d){var u,f,p,m,h=t[d].replace(o,"%20"),v=h.indexOf(a);v>=0?(u=h.substr(0,v),f=h.substr(v+1)):(u=h,f=""),p=decodeURIComponent(u),m=decodeURIComponent(f),n(s,p)?r(s[p])?s[p].push(m):s[p]=[s[p],m]:s[p]=m}return s};var r=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},{}],3:[function(t,e){"use strict";function n(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t}function r(t,e){if(t.map)return t.map(e);for(var n=[],r=0;r<t.length;r++)n.push(e(t[r],r));return n}var a=function(t){switch("undefined"==typeof t?"undefined":n(t)){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};e.exports=function(t,e,o,c){return e=e||"&",o=o||"=",null===t&&(t=void 0),"object"===("undefined"==typeof t?"undefined":n(t))?r(s(t),function(n){var s=encodeURIComponent(a(n))+o;return i(t[n])?r(t[n],function(t){return s+encodeURIComponent(a(t))}).join(e):s+encodeURIComponent(a(t[n]))}).join(e):c?encodeURIComponent(a(c))+o+encodeURIComponent(a(t)):""};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},s=Object.keys||function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return e}},{}],4:[function(t,e,n){"use strict";n.decode=n.parse=t("./decode"),n.encode=n.stringify=t("./encode")},{"./decode":2,"./encode":3}],5:[function(t,e,n){"use strict";function r(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t}function a(t,e){return null!=e&&e[Symbol.hasInstance]?e[Symbol.hasInstance](t):t instanceof e}function i(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function s(t,e,n){if(t&&u(t)&&a(t,i))return t;var r=new i;return r.parse(t,e,n),r}function o(t){return d(t)&&(t=s(t)),a(t,i)?t.format():i.prototype.format.call(t)}function c(t,e){return s(t,!1,!0).resolve(e)}function l(t,e){return t?s(t,!1,!0).resolveObject(e):e}function d(t){return"string"==typeof t}function u(t){return"object"===("undefined"==typeof t?"undefined":r(t))&&null!==t}function f(t){return null===t}function p(t){return null==t}var m=t("punycode");n.parse=s,n.resolve=c,n.resolveObject=l,n.format=o,n.Url=i;var h=/^([a-z0-9.+-]+:)/i,v=/:[0-9]*$/,y=["<",">",'"',"`"," ","\r","\n","	"],b=["{","}","|","\\","^","`"].concat(y),g=["'"].concat(b),_=["%","/","?",";","#"].concat(g),w=["/","?","#"],x=255,k=/^[a-z0-9A-Z_-]{0,63}$/,A=/^([a-z0-9A-Z_-]{0,63})(.*)$/,j={javascript:!0,"javascript:":!0},C={javascript:!0,"javascript:":!0},S={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},M=t("querystring");i.prototype.parse=function(t,e,n){if(!d(t))throw new TypeError("Parameter 'url' must be a string, not "+("undefined"==typeof t?"undefined":r(t)));var a=t;a=a.trim();var i=h.exec(a);if(i){i=i[0];var s=i.toLowerCase();this.protocol=s,a=a.substr(i.length)}if(n||i||a.match(/^\/\/[^@\/]+@[^@\/]+/)){var o="//"===a.substr(0,2);!o||i&&C[i]||(a=a.substr(2),this.slashes=!0)}if(!C[i]&&(o||i&&!S[i])){for(var c=-1,l=0;l<w.length;l++){var u=a.indexOf(w[l]);-1!==u&&(-1===c||c>u)&&(c=u)}var f,p;p=-1===c?a.lastIndexOf("@"):a.lastIndexOf("@",c),-1!==p&&(f=a.slice(0,p),a=a.slice(p+1),this.auth=decodeURIComponent(f)),c=-1;for(var l=0;l<_.length;l++){var u=a.indexOf(_[l]);-1!==u&&(-1===c||c>u)&&(c=u)}-1===c&&(c=a.length),this.host=a.slice(0,c),a=a.slice(c),this.parseHost(),this.hostname=this.hostname||"";var v="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!v)for(var y=this.hostname.split(/\./),l=0,b=y.length;b>l;l++){var z=y[l];if(z&&!z.match(k)){for(var T="",P=0,R=z.length;R>P;P++)T+=z.charCodeAt(P)>127?"x":z[P];if(!T.match(k)){var I=y.slice(0,l),D=y.slice(l+1),E=z.match(A);E&&(I.push(E[1]),D.unshift(E[2])),D.length&&(a="/"+D.join(".")+a),this.hostname=I.join(".");break}}}if(this.hostname=this.hostname.length>x?"":this.hostname.toLowerCase(),!v){for(var O=this.hostname.split("."),N=[],l=0;l<O.length;++l){var L=O[l];N.push(L.match(/[^A-Za-z0-9_-]/)?"xn--"+m.encode(L):L)}this.hostname=N.join(".")}var V=this.port?":"+this.port:"",q=this.hostname||"";this.host=q+V,this.href+=this.host,v&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==a[0]&&(a="/"+a))}if(!j[s])for(var l=0,b=g.length;b>l;l++){var F=g[l],B=encodeURIComponent(F);B===F&&(B=escape(F)),a=a.split(F).join(B)}var H=a.indexOf("#");-1!==H&&(this.hash=a.substr(H),a=a.slice(0,H));var U=a.indexOf("?");if(-1!==U?(this.search=a.substr(U),this.query=a.substr(U+1),e&&(this.query=M.parse(this.query)),a=a.slice(0,U)):e&&(this.search="",this.query={}),a&&(this.pathname=a),S[s]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var V=this.pathname||"",L=this.search||"";this.path=V+L}return this.href=this.format(),this},i.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",n=this.pathname||"",r=this.hash||"",a=!1,i="";this.host?a=t+this.host:this.hostname&&(a=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(a+=":"+this.port)),this.query&&u(this.query)&&Object.keys(this.query).length&&(i=M.stringify(this.query));var s=this.search||i&&"?"+i||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||S[e])&&a!==!1?(a="//"+(a||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):a||(a=""),r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),n=n.replace(/[?#]/g,function(t){return encodeURIComponent(t)}),s=s.replace("#","%23"),e+a+n+s+r},i.prototype.resolve=function(t){return this.resolveObject(s(t,!1,!0)).format()},i.prototype.resolveObject=function(t){if(d(t)){var e=new i;e.parse(t,!1,!0),t=e}var n=new i;if(Object.keys(this).forEach(function(t){n[t]=this[t]},this),n.hash=t.hash,""===t.href)return n.href=n.format(),n;if(t.slashes&&!t.protocol)return Object.keys(t).forEach(function(e){"protocol"!==e&&(n[e]=t[e])}),S[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n;if(t.protocol&&t.protocol!==n.protocol){if(!S[t.protocol])return Object.keys(t).forEach(function(e){n[e]=t[e]}),n.href=n.format(),n;if(n.protocol=t.protocol,t.host||C[t.protocol])n.pathname=t.pathname;else{for(var r=(t.pathname||"").split("/");r.length&&!(t.host=r.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==r[0]&&r.unshift(""),r.length<2&&r.unshift(""),n.pathname=r.join("/")}if(n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var a=n.pathname||"",s=n.search||"";n.path=a+s}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var o=n.pathname&&"/"===n.pathname.charAt(0),c=t.host||t.pathname&&"/"===t.pathname.charAt(0),l=c||o||n.host&&t.pathname,u=l,m=n.pathname&&n.pathname.split("/")||[],r=t.pathname&&t.pathname.split("/")||[],h=n.protocol&&!S[n.protocol];if(h&&(n.hostname="",n.port=null,n.host&&(""===m[0]?m[0]=n.host:m.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===r[0]?r[0]=t.host:r.unshift(t.host)),t.host=null),l=l&&(""===r[0]||""===m[0])),c)n.host=t.host||""===t.host?t.host:n.host,n.hostname=t.hostname||""===t.hostname?t.hostname:n.hostname,n.search=t.search,n.query=t.query,m=r;else if(r.length)m||(m=[]),m.pop(),m=m.concat(r),n.search=t.search,n.query=t.query;else if(!p(t.search)){if(h){n.hostname=n.host=m.shift();var v=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;v&&(n.auth=v.shift(),n.host=n.hostname=v.shift())}return n.search=t.search,n.query=t.query,f(n.pathname)&&f(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!m.length)return n.pathname=null,n.path=n.search?"/"+n.search:null,n.href=n.format(),n;for(var y=m.slice(-1)[0],b=(n.host||t.host)&&("."===y||".."===y)||""===y,g=0,_=m.length;_>=0;_--)y=m[_],"."==y?m.splice(_,1):".."===y?(m.splice(_,1),g++):g&&(m.splice(_,1),g--);if(!l&&!u)for(;g--;g)m.unshift("..");!l||""===m[0]||m[0]&&"/"===m[0].charAt(0)||m.unshift(""),b&&"/"!==m.join("/").substr(-1)&&m.push("");var w=""===m[0]||m[0]&&"/"===m[0].charAt(0);if(h){n.hostname=n.host=w?"":m.length?m.shift():"";var v=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;v&&(n.auth=v.shift(),n.host=n.hostname=v.shift())}return l=l||n.host&&m.length,l&&!w&&m.unshift(""),m.length?n.pathname=m.join("/"):(n.pathname=null,n.path=null),f(n.pathname)&&f(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n},i.prototype.parseHost=function(){var t=this.host,e=v.exec(t);e&&(e=e[0],":"!==e&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},{punycode:1,querystring:4}],6:[function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a="__",i="_",s=function(t){return"[object Object]"==={}.toString.call(t)},o=function(){function t(e){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];n(this,t),this.block=e,this.__=r.ELEMENT_DELIMITER||a,this._=r.MODIFIER_DELIMITER||i,this.stack=[],this.concatStack=[]}return r(t,[{key:"e",value:function(t){return this.stack.push({block:this.block,element:String(t)}),this}},{key:"m",value:function(t,e){if(s(t)){for(var n in t)this.m(n,t[n]);return this}return"string"==typeof t&&t?((arguments.length<2||e===!0)&&(e=""),null===e||void 0===e||e===!1?this:(0===this.stack.length&&this.stack.push({block:this.block}),this.stack.push({block:this.block,element:(this.stack[this.stack.length-1]||{}).element,modifier:String(t),value:String(e)}),this)):this}},{key:"concat",value:function(t){return this.concatStack.push(String(t)),this}},{key:"toString",value:function(){var t=this;return 0===this.stack.length?[this.block].concat(this.concatStack.filter(Boolean)).join(" "):this.stack.map(function(e){return[e.block,e.element?t.__+e.element:null,e.modifier?t._+e.modifier:null,e.modifier&&e.value?t._+e.value:null].filter(Boolean).join("")}).concat(this.concatStack.filter(Boolean)).join(" ")}}]),t}();e.exports=o},{}],7:[function(t,e){"use strict";function n(t,e){return function(){var e=new r(this.constructor.displayName);return this.props.className&&"e"!==t&&e.concat(this.props.className),e[t].apply(e,arguments)}.bind(e)}var r=t("../lib");e.exports={componentWillMount:function(){this.b.e=n("e",this),this.b.m=n("m",this),this.b.toString=n("toString",this)},b:function(t){return new r(t)}}},{"../lib":6}],8:[function(t){"use strict";t("./src/ns.viewReactMixin.js"),t("./src/ns.viewReact.js"),t("./src/ns.viewReactCollection.js"),t("./src/ns.boxReact.js")},{"./src/ns.boxReact.js":9,"./src/ns.viewReact.js":10,"./src/ns.viewReactCollection.js":11,"./src/ns.viewReactMixin.js":12}],9:[function(){"use strict";!function(){ns.BoxReact=function(){ns.Box.apply(this,arguments),this.previousActive={},this.info.compmonentDecl=ns.BoxReact.mixComponent(this.id),this.info.componentClass=ns.BoxReact.createClass(this.info.compmonentDecl)},no.inherit(ns.BoxReact,ns.Box,[ns.ViewReactMixin,ns.Events]),no.extend(ns.BoxReact,ns.Box,ns.ViewReactStaticMixin),ns.BoxReact.prototype._baseClass=ns.Box.prototype,ns.BoxReact.prototype.hasInheritingProps=!0,ns.BoxReact.prototype._addView=function(t,e,n){var r=this._getView(t,e,n);return r||(r=n===ns.L.BOX?new ns.BoxReact(t,e):ns.View.create(t,e,n===ns.L.ASYNC),this.views[r.key]=r),r},ns.BoxReact.prototype._getRequestViews=function(){return this.previousActive=this.active,ns.Box.prototype._getRequestViews.apply(this,arguments)},ns.BoxReact.prototype._hideInactiveViews=function(){for(var t in this.views){var e=this.views[t];if(this.active[e.id]!==e.key)for(var n=e._getDescendantsAndSelf([]),r=0,a=n.length;a>r;r++)n[r].hideAndUnbindEvents()}},ns.BoxReact.prototype._checkActiveSequence=function(){var t,e=Object.keys(this.active),n=Object.keys(this.previousActive),r=n.length;for(t=0;r>t;t++)if(n[t]!==e[t]){this.reactComponentType="none";break}},ns.BoxReact.prototype.beforePrepareRenderElement=function(){this._hideInactiveViews(),this._checkActiveSequence()},ns.BoxReact.prototype._apply=function(t){for(var e in this.active)this.active.hasOwnProperty(e)&&t(this.getActiveView(e))},ns.BoxReact.prototype._extractNode=function(t){var e=ns.byClass("ns-view-"+this.id,t)[0];if(!e)throw new Error("[ns.Box] Can't find node for \""+this.id+'"');return e},ns.BoxReact.prototype._saveModelsVersions=no.nop,ns.BoxReact.prototype.__modelsEventsBinded=!0,ns.BoxReact.prototype.__bindModelsEvents=no.nop,ns.BoxReact.prototype.getChildView=function(t){return this.getActiveView(t)},ns.BoxReact.prototype.forEachItem=function(t){this._apply(t)},ns.BoxReact.prototype.getActiveView=function(t){var e=this.active[t];return e?this.views[e]:null},ns.BoxReact.prototype.isNone=function(){return"none"===this.reactComponentType||"destroyed"===this.reactComponentType},ns.BoxReact.prototype.isValid=ns.BoxReact.prototype.isValidSelf=function(){return!this.isNone()},ns.BoxReact.prototype.destroy=function(){return this.previousActive=null,ns.ViewReactMixin.destroy.apply(this,arguments)}}()},{}],10:[function(){"use strict";!function(){ns.ViewReact=function(){},no.inherit(ns.ViewReact,ns.View,ns.ViewReactMixin),no.extend(ns.ViewReact,ns.View,ns.ViewReactStaticMixin),ns.ViewReact.prototype._baseClass=ns.View.prototype,ns.ViewReact.define=function(t,e){return e=e||{},e.componentDecl=this.mixComponent(t,e.component),e.componentClass=this.createClass(e.componentDecl),ns.View.define(t,e,ns.ViewReact)},ns.ViewReact.prototype._addView=function(t,e,n){var r=this._getView(t);return r||(r=n===ns.L.BOX?new ns.BoxReact(t,e):ns.View.create(t,e,n===ns.L.ASYNC),this.views[r.id]=r),r}}()},{}],11:[function(){"use strict";!function(){ns.ViewReactCollection=function(){},no.inherit(ns.ViewReactCollection,ns.ViewCollection,ns.ViewReactMixin),no.extend(ns.ViewReactCollection,ns.ViewCollection,ns.ViewReactStaticMixin),ns.ViewReactCollection.prototype._baseClass=ns.ViewCollection.prototype,ns.ViewReactCollection.define=function(t,e){return e=e||{},e.componentDecl=this.mixComponent(t,e.component),e.componentClass=this.createClass(e.componentDecl),ns.ViewCollection.define.call(this,t,e,ns.ViewReactCollection)},ns.ViewReactCollection.eventsModelCollectionDefault={"ns-model-insert":"invalidate","ns-model-remove":"invalidate","ns-model-changed":"invalidate","ns-model-destroyed":"invalidate"},ns.ViewReactCollection.prototype.getChildView=function(t){return this.getItemByModel(t)},ns.ViewReactCollection.prototype.forEachItem=ns.ViewCollection.prototype.forEachItem,ns.ViewReactCollection.prototype.beforePrepareRenderElement=function(){for(var t=this.__itemsToRemove,e=t.length,n=0;e>n;n++)t[n].softDestroy();this.__itemsToRemove=[]}}()},{}],12:[function(t){!function(e){"use strict";function n(t,e){return null!=e&&e[Symbol.hasInstance]?e[Symbol.hasInstance](t):t instanceof e}function r(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t}!function(t,e,a){ns.View.ERROR_CODES["view-react-1"]="Can't render string template of child's ns.ViewReact `%s`",ns.BaseReactMixin={componentWillMount:function(){this.props.view.on("ns-view-react-force-update",this.__update),this.props.view.on("ns-view-react-destroy",this.__handleDestroy)},componentWillUnmount:function(){this.props.view.off("ns-view-react-force-update",this.__update),this.props.view.off("ns-view-react-destroy",this.__handleDestroy)},shouldComponentUpdate:function(t){return t.view._needBeUpdated},__update:function(){this.forceUpdate()},__handleDestroy:function(){this.props._onDestroy()},__extendDestroyToProps:function(t){return t=t||{},this.props.view.hasInheritingProps&&this.props._extendedProps&&(t=no.extend({},this.props._extendedProps,t)),no.extend({_onDestroy:this.__handleDestroy},t)},createChildren:function(t,e){if("object"!==("undefined"==typeof t?"undefined":r(t))||Array.isArray(t)||n(t,ns.Model)||(e=t,t=null),e?e._extendedProps=e:e={},!t)return this.__createChildren(e);Array.isArray(t)||(t=[t]);var a,i=t.length,s=[];for(a=0;i>a;a++)s.push(this.__createChild(t[a],e));return s},__createChild:function(t,e){var n=this.props.view.getChildView(t);return n?n.createElement(this.__extendDestroyToProps(e)):null},__createChildren:function(t){var e=[],n=this;return this.props.view.forEachItem(function(r){e.push(r.createElement(n.__extendDestroyToProps(t)))}),e},getModel:function(t){return this.props.models[t]},getModelData:function(t,e){var n=this.props.models[t],r=n&&n.getData();return ns.View.assert(!!r,9,[t]),e?no.jpath(e,r):r}},ns.ViewReactStaticMixin={mixComponent:function(t,e){return e||(e={}),e.render||(e.render=ns.ViewReactStaticMixin.render),e.mixins=e.mixins||[],e.mixins.push(ns.BaseReactMixin),e.displayName=e.displayName||String(t).replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),e},render:function(){return this.props.view.isLoading()?t.createElement("div",this.props):t.createElement("div",this.props,this.createChildren())},createClass:function(e){return t.createClass(e)}},ns.ViewReactMixin={hasInheritingProps:!1,hideAndUnbindEvents:function(){switch(this.reactComponentType){case"root":"function"==typeof this._hideNode&&this._hideNode(),this.reactComponentType="none",e.unmountComponentAtNode(this.node);break;case"child":this.reactComponentType="none"}this._visible=!1},getChildView:function(t){var e=this.views[t];return e?e:null},forEachItem:function(t){this._apply(t)},hasReactComponent:function(){return"destroyed"!==this.reactComponentType&&"none"!==this.reactComponentType},createElement:function(e){return this.hasReactComponent()?t.createElement(this.info.componentClass,no.extend({},e,{models:this.models,view:this,key:this.key})):null},reactComponentType:"none",_needBeUpdated:!1,hasStateOfUpdate:function(){return this._needBeUpdated},resetStateOfUpdate:function(){this._needBeUpdated=!1},isError:function(){return!this.isModelsValid()},renderToString:function(){switch(this.reactComponentType){case"none":case"root":return this._prepareRenderElement("root"),a.renderToString(this.createElement());default:return ns.View.assert(!1,"view-react-1",[this.id]),null}},_updateHTML:function(t,e,n){switch(t=t||null,e=e||{},this.reactComponentType){case"none":this.isValid()?"function"==typeof this._showNode&&this._showNode():this._updateNode(t),this._prepareRenderElement("root",n),this._renderElement();break;case"root":!e.toplevel&&e.parent_added&&(this.hideAndUnbindEvents(),this._updateNode(t)),this._prepareRenderElement("root",n),this._renderElement();break;case"child":this._prepareRenderElement("child",n),this._renderElement()}},_updateNode:function(t){var e=this._extractNode(t);ns.View.assert(!!e,6,[this.id]),this.node=e,this.$node=$(e),"function"==typeof this._showNode&&this._showNode()},_renderElement:function(){switch(this.reactComponentType){case"root":e.render(this.createElement({_onDestroy:this._onChildrenDestroyed.bind(this)}),this.node);break;case"child":this.trigger("ns-view-react-force-update")}},_onChildrenDestroyed:function(){this._prepareRenderElement("root"),this._renderElement()},_applyProperties:function(t){"destroyed"!==this.reactComponentType&&(this.reactComponentType=t,this.status=this.asyncState?ns.V.STATUS.LOADING:ns.V.STATUS.OK,this._visible=this.hasReactComponent(),this._saveModelsVersions())},__fillEventsQueue:function(t){this.asyncState?t["ns-view-async"].push(this):(this.isValidSelf()?this._visible||t["ns-view-show"].push(this):(t["ns-view-htmlinit"].push(this),t["ns-view-show"].push(this)),t["ns-view-touch"].push(this))},_prepareRenderElement:function(t,e){if("destroyed"!==this.reactComponentType){this.beforePrepareRenderElement(t),e&&this.__fillEventsQueue(e);var n=this.hasChildrenNeedBeUpdated(e);this._needBeUpdated=!this.isValidSelf()||n||!this.hasReactComponent(),this._applyProperties(t),this.__modelsEventsBinded||this.__bindModelsEvents()}},hasChildrenNeedBeUpdated:function i(t){var i=!1;return this._apply(function(e){e._prepareRenderElement("child",t),e._needBeUpdated&&(i=!0)}),i},beforePrepareRenderElement:no.nop,_selfBeforeUpdateHTML:function(t,e){return e?(this._visible&&!this.isLoading()&&t["ns-view-hide"].push(this),void 0):(this.isValidSelf()||this.isNone()||this.isLoading()||(this._visible&&t["ns-view-hide"].push(this),t["ns-view-htmldestroy"].push(this)),void 0)},patchTree:function(t){return t=ns.View.prototype.patchTree.apply(this,arguments),t.isReactView=!0,t.isServer=Boolean(ns.SERVER),t},_applyDestroyedComponentType:function(){this.reactComponentType="destroyed",this._apply(function(t){t.reactComponentType="destroyed"})},_destroyComponent:function(){switch(this.reactComponentType){case"child":this._applyDestroyedComponentType(),this.trigger("ns-view-react-destroy");break;case"root":this._applyDestroyedComponentType(),e.unmountComponentAtNode(this.node);break;case"none":this._applyDestroyedComponentType()}},softDestroy:function(){this._applyDestroyedComponentType(),this._baseClass.destroy.apply(this)},destroy:function(){"destroyed"!==this.reactComponentType&&this._destroyComponent(),this._baseClass.destroy.apply(this)}}}.apply(null,"function"==typeof t?["undefined"!=typeof window?window.React:"undefined"!=typeof e?e.React:null,"undefined"!=typeof window?window.ReactDOM:"undefined"!=typeof e?e.ReactDOM:null,"undefined"!=typeof window?window.ReactDOMServer:"undefined"!=typeof e?e.ReactDOMServer:null]:[window.React,window.ReactDOM,window.ReactDOMServer])}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],13:[function(t,e){"use strict";var n={blockDidMount:function(t){t.on("change",function(){this.callHandler("change",{target:t,value:t.getVal()})}.bind(this)).on({modName:"focused",modVal:"*"},function(e,n){this.callHandler(n.modVal?"focus":"blur",{target:t,value:t.getVal()})}.bind(this)).bindTo("control","keydown",function(e){this.callHandler("keyDown",{target:t,keyCode:e.which,value:t.getVal()})}.bind(this)).bindTo("control","keyup",function(e){this.callHandler("keyUp",{target:t,keyCode:e.which,value:t.getVal()})}.bind(this))},focus:function(){return this.block.elem("control").focus(),this},blur:function(){return this.block.elem("control").blur(),this},select:function(){return this.block.elem("control").select(),this},value:function(){return this.block.getVal()}};e.exports=n},{}],14:[function(t,e){!function(n){"use strict";var r="undefined"!=typeof window?window.React:"undefined"!=typeof n?n.React:null,a="undefined"!=typeof window?window.ReactDOM:"undefined"!=typeof n?n.ReactDOM:null,i="undefined"!=typeof window?window.ReactDOMServer:"undefined"!=typeof n?n.ReactDOMServer:null,s=t("./normalizeProps"),o=t("./config"),c=new RegExp('^<(\\S+)\\s+.*?(?:class="(.+?)"\\s*)?.*?(?:'+o.jsAttribute+"='(.+?)'\\s*)?.*?(?:class=\"(.+?)\"\\s*)?.*?>(.*?)</\\1>$"),l=/^(input|img|br|link|meta)$/,d="сustom",u={getBlockName:function(){return String.prototype.toLowerCase.call(this.blockName||this.constructor.displayName)},getPropsMap:function(){return this.constructor.propsMap||{}},getChildrenContainer:function(){var t=this.childrenContainer,e=this.block;return"function"==typeof t?t(e):t&&e.elem(t)[0]},getBemJson:function(){var t={block:this.getBlockName(),mods:{}},e=this.props,n=this.getPropsMap();for(var r in e)if(e.hasOwnProperty(r)){var a=e[r],i=t,s=n[r];if("mod"!==r){if("children"===r&&this.nested!==!1&&(a=this.renderChildren(a)),void 0===s){if(s=(n.mods||{})[r],void 0===s)continue;s&&a===!0&&(a=s[1]||a),i=t.mods}else if(s){var o=s[2];"function"==typeof o&&(a=o(a))}r=s&&s[0]||r,i[r]=a}else i.mods[d]=a}return t},callHandler:function(t,e){t="on"+t[0].toUpperCase()+t.substr(1);var n=this.props[t];"function"==typeof n&&n(e)},shouldComponentUpdate:function(){return!1},componentWillReceiveProps:function(t){var e=this.block,n=this.getPropsMap();if(e)for(var r in t){var a=t[r];if(t.hasOwnProperty(r)&&a!==this.props[r])if("children"!==r)if("mod"!==r)if("className"!==r||this.props.className===t.className){var i=n[r];if(void 0===i){if(i=n.mods&&n.mods[r],void 0===i)continue;i&&a===!0&&(a=i[1]||a),e.setMod(i&&i[0]||r,a)}else if(i&&i[1]){var s=i[2];"function"==typeof s&&(a=s(a)),e[i[1]](a)}}else e.domElem.removeClass(this.props.className).addClass(t.className);else e.setMod(d,a);else this.renderChildren(a)}},ensureElement:function(){var t=o.bh.processBemJson(this.getBemJson()),e=o.bh.toHtml(t),n=document.createElement("div");n.innerHTML=e,n=n.firstChild;var r=this.props.className;r&&(n.className+=r),document.body.appendChild(n),this._blockEl=n},componentDidMount:function(){this.nested===!1&&this.ensureElement();var t=o.ibem.init(o.jQuery(this._blockEl)).bem(this.getBlockName());this.block=t;var e=this.blockDidMount;"function"==typeof e&&e(t),this.renderChildren(this.props.children)},componentWillUnmount:function(){var t=this.getChildrenContainer();t&&a.unmountComponentAtNode(t);var e=this.block,n=this.blockWillUnmount;"function"==typeof n&&n(e),o.ibem.detach(e.domElem,!0),this.block=null,this._blockEl=null},render:function(){if(this.nested===!1)return null;var t=this.getBemJson();t=o.bh.processBemJson(t);var e=o.bh.toHtml(t).match(c),n=s(t.attrs);n.className=e[2]||e[4],n[o.jsAttribute]=e[3],n.ref=function(t){this._blockEl=t}.bind(this);var a=this.props.className;a&&(n.className+=" "+String(a).trim());var i=e[1],d=e[5];return"textarea"===i?n.defaultValue=d:l.test(i)||(n.dangerouslySetInnerHTML={__html:d}),r.createElement(i,n)},renderChildren:function(t){var e=r.createElement("div",null,t);if(this.block){var n=this.getChildrenContainer();return n&&a.render(e,n,this.afterRenderChildren),e}return i.renderToString(e)}};e.exports=u}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./config":24,"./normalizeProps":25}],15:[function(t,e){"use strict";var n={blockDidMount:function(t){t.on({modName:"visible",modVal:"*"},function(e,n){this.callHandler(n.modVal?"open":"close",{target:t})}.bind(this))},open:function(){this.block.setMod("visible",!0)},close:function(){this.block.setMod("visible",!1)}};e.exports=n},{}],16:[function(t,e){!function(n){"use strict";var r="undefined"!=typeof window?window.React:"undefined"!=typeof n?n.React:null,a=t("./BemMixin"),i=r.PropTypes,s=function(t){return{block:"icon",mods:{action:t.action},url:t.url,content:t.content}},o=r.createClass({displayName:"Button",mixins:[a],blockDidMount:function(t){t.on("click",function(){this.callHandler("click",{target:t,value:t.getVal()})}.bind(this))}});o.propTypes={checked:i.bool,disabled:i.bool,id:i.string,mod:i.string,name:i.string,onClick:i.func,pressed:i.bool,size:i.oneOf(["s","m","l","xl"]),switcher:i.oneOf(["check","radio"]),tabIndex:i.number,target:i.string,text:i.string,theme:i.oneOf(["islands"]),title:i.string,type:i.oneOf(["link","submit"]),url:i.string,val:i.oneOfType([i.string,i.number]),view:i.oneOf(["action","pseudo","plain"]),icon:i.object},o.propsMap={mods:{checked:null,disabled:null,pressed:null,size:null,switcher:["togglable"],theme:null,type:null,view:null},id:null,name:null,tabIndex:null,target:null,text:[null,"setText"],title:[null,"setTitle"],url:[null,"setUrl"],val:[null],icon:[null,null,s]},o.defaultProps={size:"m",theme:"islands"},e.exports=o}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./BemMixin":14}],17:[function(t,e){!function(n){"use strict";var r="undefined"!=typeof window?window.React:"undefined"!=typeof n?n.React:null,a=t("./BemMixin"),i=r.PropTypes,s=r.createClass({displayName:"Checkbox",mixins:[a],blockDidMount:function(t){t.on({modName:"checked",modVal:"*"},function(e,n){this.callHandler("change",{target:t,checked:n.modVal===!0,value:t.getVal()})}.bind(this))}});s.propTypes={checked:i.bool,disabled:i.bool,id:i.string,text:i.string,mod:i.string,name:i.string,onChange:i.func,size:i.oneOf(["m","l"]),tabIndex:i.number,theme:i.oneOf(["islands"]),val:i.oneOfType([i.string,i.number])},s.propsMap={mods:{checked:null,disabled:null,theme:null,size:null},id:null,text:null,name:null,tabIndex:null,val:null},s.defaultProps={theme:"islands",size:"m"},e.exports=s}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})
},{"./BemMixin":14}],18:[function(t,e){"use strict";var n={"for":"htmlFor","class":"className","http-equiv":"httpEquiv","accept-charset":"acceptCharset"};["accessKey","allowFullScreen","allowTransparency","autoComplete","autoFocus","autoPlay","cellPadding","cellSpacing","charSet","classID","colSpan","contentEditable","contextMenu","crossOrigin","dateTime","encType","formAction","formEncType","formMethod","formNoValidate","formTarget","frameBorder","hrefLang","inputMode","keyParams","keyType","marginHeight","marginWidth","maxLength","mediaGroup","noValidate","radioGroup","readOnly","rowSpan","spellCheck","srcDoc","srcSet","tabIndex","useMap"].forEach(function(t){n[t.toLowerCase()]=t}),e.exports=n},{}],19:[function(t,e){!function(n){"use strict";var r="undefined"!=typeof window?window.React:"undefined"!=typeof n?n.React:null,a=t("./BemMixin"),i=t("./BemInputMixin"),s=r.PropTypes,o=r.createClass({displayName:"Input",mixins:[a,i]});o.propTypes={autoComplete:s.bool,disabled:s.bool,focused:s.bool,hasClear:s.bool,id:s.string,maxLength:s.number,mod:s.string,name:s.string,onBlur:s.func,onChange:s.func,onFocus:s.func,onKeyDown:s.func,placeholder:s.string,size:s.oneOf(["s","m","l","xl"]),tabIndex:s.number,type:s.oneOf(["password","search"]),value:s.string,width:s.oneOf(["available"])},o.propsMap={mods:{disabled:null,focused:null,hasClear:["has-clear"],size:null,theme:null,type:null,width:null},autoComplete:["autocomplete"],id:null,maxLength:null,name:null,placeholder:null,tabIndex:null,val:[null,"setVal"]},o.defaultProps={size:"m",theme:"islands"},e.exports=o}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./BemInputMixin":13,"./BemMixin":14}],20:[function(t,e){!function(n){"use strict";var r="undefined"!=typeof window?window.React:"undefined"!=typeof n?n.React:null,a=t("./BemMixin"),i=r.PropTypes,s=r.createClass({mixins:[a],displayName:"Link",blockDidMount:function(t){t.on("click",function(){this.callHandler("click",{target:t})}.bind(this))}});s.propTypes={disabled:i.bool,mod:i.string,onClick:i.func,pseudo:i.bool,size:i.oneOf(["s","m","l","xl"]),tabIndex:i.number,target:i.oneOf(["_blank","_self","_parent","_top"]),text:i.string,theme:i.oneOf(["islands"]),title:i.string,url:i.string,view:i.oneOf(["minor","external"])},s.propsMap={mods:{disabled:null,focused:null,pseudo:null,size:null,theme:null,view:null},url:[null,"setUrl"],title:null,target:null,tabIndex:null,text:["content"]},s.defaultProps={size:"m",theme:"islands"},e.exports=s}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./BemMixin":14}],21:[function(t,e){!function(n){"use strict";var r="undefined"!=typeof window?window.React:"undefined"!=typeof n?n.React:null,a=t("./BemMixin"),i=r.PropTypes,s=function(t){var e={block:"menu-item",mods:{disabled:t.disabled},val:t.val,content:t.text};return"link"===t.type&&(e.mods.type="link",e.content={block:"link",url:t.url,content:t.text}),e},o=function(t){return t.map(function(t){return t.group?{elem:"group",title:t.title,content:t.group.map(s)}:s(t)})},c=r.createClass({displayName:"Menu",mixins:[a],blockDidMount:function(t){t.on("change",function(){this.callHandler("change",{target:t,value:t.getVal()})}.bind(this)).on("item-click",function(e,n){this.callHandler("select",{target:t,value:n.item.getVal()})}.bind(this))}});c.propTypes={disabled:i.bool,mod:i.string,mode:i.oneOf(["check","radio","radio-check"]),onChange:i.func,onSelect:i.func,options:i.array.isRequired,size:i.oneOf(["s","m","l","xl"]),theme:i.oneOf(["islands"]),val:i.oneOfType([i.number,i.string,i.array])},c.propsMap={mods:{disabled:null,mode:null,size:null,theme:null},val:[null,"setVal"],options:["content",null,o]},c.defaultProps={size:"m",theme:"islands"},e.exports=c}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./BemMixin":14}],22:[function(t,e){!function(n){"use strict";var r="undefined"!=typeof window?window.React:"undefined"!=typeof n?n.React:null,a=t("./BemMixin"),i=t("./BemPopupMixin"),s=t("./config"),o=r.PropTypes,c=r.createClass({displayName:"Popup",mixins:[a,i],childrenContainer:function(t){var e=t.hasMod("tail")?t.elem("content"):t.domElem;return e[0]},afterRenderChildren:function(){this.props.visible&&this.redraw()},nested:!1,redraw:function(){this.block.redraw.apply(this.block,arguments)},setAnchor:function(t){var e=s.jQuery(t);this.block.setAnchor(e)},setPosition:function(){this.block.setPosition.apply(this.block,arguments)}});c.propTypes={closable:o.bool,directions:o.array,mainOffset:o.number,mod:o.string,secondaryOffset:o.number,target:o.oneOf(["anchor","position"]).isRequired,theme:o.oneOf(["islands"]),view:o.string,tail:o.bool,viewportOffset:o.number,visible:o.bool,fixed:o.bool,zIndex:o.number},c.propsMap={mods:{closable:["autoclosable"],target:null,theme:null,visible:null,fixed:null,view:null,tail:null},directions:null,mainOffset:null,secondaryOffset:null,viewportOffset:null,zIndex:["zIndexGroupLevel"]},c.defaultProps={theme:"islands"},e.exports=c}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./BemMixin":14,"./BemPopupMixin":15,"./config":24}],23:[function(t,e){!function(n){"use strict";var r="undefined"!=typeof window?window.React:"undefined"!=typeof n?n.React:null,a=t("./BemMixin"),i=r.PropTypes,s=r.createClass({displayName:"Spin",mixins:[a]});s.propTypes={mod:i.string,size:i.oneOf(["xs","s","m","l","xl"]),theme:i.oneOf(["islands"]),visible:i.bool},s.propsMap={mods:{size:null,theme:null,visible:null}},s.defaultProps={size:"m",theme:"islands"},e.exports=s}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./BemMixin":14}],24:[function(t,e){"use strict";e.exports={bh:null,jQuery:null,ibem:null,jsAttribute:"data-bem"}},{}],25:[function(t,e){"use strict";var n=t("./DOMPropsConfig"),r=function(t){var e={};for(var r in t)if(t.hasOwnProperty(r)){var a=t[r];r=r.toLowerCase(),"style"!==r&&(r=n[r]||r,e[r]=a)}return e};e.exports=r},{"./DOMPropsConfig":18}],26:[function(t,e){"use strict";function n(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t}var r=t("./config");e.exports=function(t){if("object"!==("undefined"==typeof t?"undefined":n(t)))throw new TypeError("`options` must be an object");for(var e in t)if(t.hasOwnProperty(e)){var a=t[e];void 0!==a&&(r[e]=a)}}},{"./config":24}],27:[function(t,e){"use strict";!function(){var t="undefined"!=typeof e&&e.exports,n="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,r=function(){for(var t,e,n=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],r=0,a=n.length,i={};a>r;r++)if(t=n[r],t&&t[1]in document){for(r=0,e=t.length;e>r;r++)i[n[0][r]]=t[r];return i}return!1}(),a={request:function i(t){var i=r.requestFullscreen;t=t||document.documentElement,/5\.1[\.\d]* Safari/.test(navigator.userAgent)?t[i]():t[i](n&&Element.ALLOW_KEYBOARD_INPUT)},exit:function(){document[r.exitFullscreen]()},toggle:function(t){this.isFullscreen?this.exit():this.request(t)},onchange:function(){},onerror:function(){},raw:r};return r?(Object.defineProperties(a,{isFullscreen:{get:function(){return!!document[r.fullscreenElement]}},element:{enumerable:!0,get:function(){return document[r.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return!!document[r.fullscreenEnabled]}}}),document.addEventListener(r.fullscreenchange,function(t){a.onchange.call(a,t)}),document.addEventListener(r.fullscreenerror,function(t){a.onerror.call(a,t)}),t?e.exports=a:window.screenfull=a,void 0):(t?e.exports=!1:window.screenfull=!1,void 0)}()},{}],28:[function(t,e,n){!function(t){"use strict";function e(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0});var r="undefined"!=typeof window?window.React:"undefined"!=typeof t?t.React:null,a=e(r),i=a.default.createClass({render:function(){var t=Number(this.props.size),e="avatar",n={};return this.props.url&&(n.backgroundImage="url("+this.props.url+")"),isNaN(t)?e+=" avatar_size_"+this.props.size:(n.width=t+"px",n.height=t+"px"),a.default.createElement("div",{className:e,style:n})}});i.propTypes={size:r.PropTypes.oneOfType([r.PropTypes.number,r.PropTypes.oneOf(["xxs","xs","s","m","l","xl"])]),url:r.PropTypes.string},i.defaultProps={size:"m"},n.default=i}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],29:[function(t,e,n){!function(e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0});var a="undefined"!=typeof window?window.React:"undefined"!=typeof e?e.React:null,i=r(a),s="undefined"!=typeof window?window.ReactDOM:"undefined"!=typeof e?e.ReactDOM:null,o=r(s),c=t("react-bem-components/lib/Popup"),l=r(c),d=t("react-bem-components/lib/Menu"),u=r(d),f=i.default.createClass({getInitialState:function(){return{popupOpened:!1,menuLimit:this.props.menu.limit,menuItemsWidth:[]}},componentDidMount:function(){this.cacheItemsWidth(),window.addEventListener("resize",this.handleResize)},componentDidUpdate:function(){this.updateMenuLimit(this.state),this.refs.popup&&this.refs.popup.setAnchor(o.default.findDOMNode(this.refs.anchor))},componentWillUnmount:function(){window.removeEventListener("resize",this.handleResize)},cacheItemsWidth:function(){for(var t=this.refs.menu.querySelectorAll(".header__menu-item"),e=[t.item(t.length-1).getBoundingClientRect().width],n=16,r=0;r<t.length-1;r++)e.push(t.item(r).getBoundingClientRect().width+n);this.setState({menuItemsWidth:e})},handleResize:function(){var t=this;this._handlingResize||(this._handlingResize=!0,requestAnimationFrame(function(){t.updateMenuLimit(t.state),t._handlingResize=!1}))},updateMenuLimit:function(t){for(var e=this.props.menu.limit||this.props.menu.items.length,n=1,r=t.menuLimit,a=this.refs.menu.getBoundingClientRect().width,i=0,s=0;s<t.menuItemsWidth.length;s++){if(i+=t.menuItemsWidth[s],i>a){r=n>s-1?n:s-1;break}r=s}r=e>=r?r:e,r!==this.state.menuLimit&&this.setState({menuLimit:r})},handleClickMore:function(t){t.preventDefault(),this.setState({popupOpened:!this.state.popupOpened}),this.props.handlerMetrika("more",t)},handleClickMenu:function(t){this.setState({popupOpened:!1}),this.props.handlerMetrika(t.value)},handlePopupClose:function(){this.setState({popupOpened:!1})},render:function(){var t=this,e=this.props.menu.items.slice(0),n=this.state.menuLimit?e.splice(this.state.menuLimit,this.props.menu.items.length):[];e=e.map(function(e,n){return i.default.createElement("a",{onClick:function(n){t.props.handlerMetrika(e.id,n)},className:"header__menu-item",href:e.url,key:"item-"+n},e.text)}),n=n.map(function(t){return{text:t.text,url:t.url,val:t.id,type:"link",pseudo:!0}});var r=i.default.createElement("a",{className:"header__menu-item header__menu-item_more",ref:"anchor",href:this.props.menu.url,onClick:this.handleClickMore},this.props.menu.more),a=i.default.createElement(l.default,{ref:"popup",closable:!0,target:"anchor",directions:["bottom-left","bottom-center"],visible:this.state.popupOpened,onClose:this.handlePopupClose},i.default.createElement(u.default,{key:"menu-"+n.length,onSelect:this.handleClickMenu,options:n})),s=this.state.menuItemsWidth,o=s.length?s[0]+s[1]:0,c=this.props.title?i.default.createElement("a",{onClick:function(e){t.props.handlerMetrika("title",e)},className:"header__title",href:this.props.titleUrl,target:"_top"},this.props.title):null,d=this.props.toolbar?i.default.createElement("div",{className:"header__side-center"},this.props.toolbar):null;return i.default.createElement("div",{className:"header"+(this.props.toolbar?" header_toolbar":"")},i.default.createElement("div",{className:"header__side-left"},i.default.createElement("a",{onClick:function(e){t.props.handlerMetrika("logo",e)},className:"header__logo header__logo_"+this.props.locale,href:this.props.logoUrl,target:"_top"},this.props.logo),c,i.default.createElement("div",{ref:"menu",className:"header__menu",style:{minWidth:o}},e,n.length>0?r:null,n.length>0?a:null)),d,i.default.createElement("div",{className:"header__side-right"},this.props.children))}});f.propTypes={children:a.PropTypes.node,locale:a.PropTypes.string,logo:a.PropTypes.oneOfType([a.PropTypes.string,a.PropTypes.element]),logoUrl:a.PropTypes.string,menu:a.PropTypes.shape({items:a.PropTypes.arrayOf(a.PropTypes.shape({url:a.PropTypes.string,text:a.PropTypes.string})),limit:a.PropTypes.number,more:a.PropTypes.string}),toolbar:a.PropTypes.oneOfType([a.PropTypes.arrayOf(a.PropTypes.element),a.PropTypes.element]),title:a.PropTypes.string,handlerMetrika:a.PropTypes.func},f.defaultProps={locale:"ru",logoUrl:"//yandex.ru",menu:{items:[],limit:0,more:"…",url:null},titleUrl:"/",handlerMetrika:function(){}},n.default=f}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"react-bem-components/lib/Menu":21,"react-bem-components/lib/Popup":22}],30:[function(t){!function(e){"use strict";t("models/resource/resource"),t("models/operation/operation-save-public"),t("models/slices/slices"),t("models/states/state-dialog-mobile-app");var n="undefined"!=typeof window?window._:"undefined"!=typeof e?e._:null,r=t("environment"),a=t("config"),i=t("helpers/page"),s=t("helpers/path"),o=t("helpers/metrika"),c=t("helpers/operation"),l=t("routers/public");t("./common"),t("./auth"),t("./locale-yadisk");var d=function(t,e){var n=l.parseUrl(ns.page.getCurrentUrl()),r=l.parseId(e.id);n.pathResource=r.pathResource,i.go(l.formatUrl(n))};ns.action.define("app.openFolderPublic",d),ns.action.define("resource.save",function(t,e){e=n.extend({source:"copy-public"},e),ns.Model.get("resource",e).get(".meta.blockings.simple.public")&&(e.source="copy-public-limit");var i=ns.Model.get("userCurrent");return i.get(".hasDisk")?c.create("savePublic",{idSrc:e.id,silent:e.silent}):"Presto"===r.agent.BrowserEngine||i.get(".uid")||!a.yandexuid?(document.location=a.links.disk+"/copy/?hash="+encodeURIComponent(l.formatPrivateHash(e.id))+"&source="+e.source+"&sk="+a.skExternal,void 0):ns.action.run("dialog-auth.show",{source:e.source,idResource:e.id})}),ns.action.define("dialog.close",function(){if(ns.events.trigger("ufo-dialog-close"),"slider"===ns.page.current.params.dialog){var t=l.parseUrl(ns.page.getCurrentUrl());t.pathResource=s.dirname(t.pathResource),i.go(l.formatUrl(t))}}),ns.action.define("listing.openFolder",function(t,e){var r=function(){document.location=a.links.disk+"/client"+e.id};if(e.from){var i=n.find(ns.Model.get("slices").get(".slice"),function(t){return t.idContext?t.idContext===decodeURIComponent(e.id):void 0});o.countLeave("navigation","via "+e.from,i?i.id:"custom folder").always(r,this)}else r()}),ns.action.define("app.search",function(t,e){document.location=a.links.disk+"/client/search/"+encodeURIComponent(e.querySearch)+e.scopeSearch}),ns.action.define("resource.view-docviewer",function(t,e){var n="ya-disk-public://"+l.formatPrivateHash(e.id),r=a.domains.docviewer+"/?url="+encodeURIComponent(n)+"&name="+encodeURIComponent(e.name);window.open(r,"_blank")}),ns.action.define("resource.move-audio",function(t,e){var r=ns.Model.getValid("resources",ns.page.current.params),a=n.last(r.getSiblingsOf(e.id,{take:e.delta,loop:!0,filter:function(t){return"player"===t.get(".app")}}));ns.action.run("resource.play",{id:a.get(".id")})}),ns.action.define("resource.play-next",function(t,e){return ns.action.run("resource.move-audio",{id:e.id,delta:1}),!0}),ns.action.define("resource.play-prev",function(t,e){return ns.action.run("resource.move-audio",{id:e.id,delta:-1}),!0}),ns.action.define("resource.play",function(t,e){var n=ns.Model.get("statePlayer"),r=e.id,a=n.get(".track.id");a!==r&&(n.set(".track.status","stopped"),n.set(".track",{id:r})),n.set(".track.status","playing")}),ns.action.define("resource.pause",function(){var t=ns.Model.get("statePlayer");t.set(".track.status","paused")}),ns.action.define("app.syncAuth",function(){return t("client-auth").findAuthStatus([a.links.clientAuth])}),ns.action.define("dialog-mobile-app.open",function(){ns.Model.get("stateDialogMobileApp").open()})}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./auth":31,"./common":32,"./locale-yadisk":33,"client-auth":39,config:40,environment:42,"helpers/metrika":60,"helpers/operation":63,"helpers/page":64,"helpers/path":65,"models/operation/operation-save-public":121,"models/resource/resource":138,"models/slices/slices":148,"models/states/state-dialog-mobile-app":153,"routers/public":194}],31:[function(t){"use strict";var e=t("helpers/page"),n=t("helpers/uri"),r=t("environment");ns.action.define("auth.switch-account",function(e,n){var r=t("client-auth"),a=t("config");r.switchAccount(n.uid).then(function(){r.findAuthStatus([a.links.clientAuth])},function(t){"action-not-required"===t.status&&r.findAuthStatus([a.links.clientAuth])})}),ns.action.define("dialog-auth.show",function(t,a){a=a||ns.page.current.params;var i=ns.Model.get("stateDialogAuth");a.register&&i.set(".register",!0),a.idAlbum&&i.set(".idAlbum",a.idAlbum),(a.idResource||a.idResourceAlbum)&&i.set(".idResource",a.idResource||a.idResourceAlbum);var s=a.source||r.session.source;i.set(".source",s),a.retpathDialog&&i.set(".retpathDialog",n.addParams(a.retpathDialog,{source:s})),i.set(".isOpen",!0),e.update()}),ns.action.define("dialog-auth.close",function(){var t=ns.Model.get("stateDialogAuth");t.set(".idAlbum",null),t.set(".idResource",null),t.get(".retpathDialog")&&t.set(".retpathDialog",!1),t.get(".register")&&t.set(".register",!1),t.set(".isOpen",!1),ns.events.trigger("dialog-auth.close"),e.update()})},{"client-auth":39,config:40,environment:42,"helpers/page":64,"helpers/uri":74}],32:[function(t){"use strict";t("./share"),t("./resource"),t("./resource-download"),t("./resource-view-slider"),t("./slider"),ns.action.define("popup.close",function(){nb.trigger("popup-close")})},{"./resource":36,"./resource-download":34,"./resource-view-slider":35,"./share":37,"./slider":38}],33:[function(t){"use strict";var e=t("config"),n=t("environment");ns.action.define("locale.set",function(t,r,a){var i=window.location,s=window.location.pathname+window.location.search;return n.session.canHaveAuth||(i=e.links.disk+"/auth/retpath"+s,$.cookie("lang",r.locale,{expires:30,path:"/"})),window.location=a.href+"&retpath="+encodeURIComponent(i),!1})},{config:40,environment:42}],34:[function(t){"use strict";t("models/queues/queue-confirmations"),t("models/user-current/user-current"),t("models/state-resource/state-resource"),t("models/resources/do-get-resources-url");var e=t("helpers/path"),n=t("helpers/metrika"),r=t("helpers/page");ns.action.define("resource.download",function(t,a){var i=e.getIdApp(a.id);e.isParent("/attach/yaruarchive",a.id)?n.count("interface elements","yaru","actions","download"):e.isParent("/mail",a.id)?n.count("interface elements","mail attachments","/mail","actions","download"):e.isParent("/attach",a.id)&&n.count("interface elements","mail attachments","/attach","actions","download");var s=ns.Model.getValid("resource",{id:a.id}),o=function(){s.getURL().then(function(t){ns.events.trigger("ufo-resource-start-download",s);var n=t.get(".file")||t.get(".folder");n&&(e.isParent("/mail",a.id)?r.downloadInThisWindow(n):r.download(n))},function(){ns.events.trigger("ufo-resource-start-download-fail",s)})};if(2===s.get(".meta.drweb")?ns.Model.get("queueConfirmations").add({operation:"download",status:"virused"}).then(o):o(),r.isSearch()&&n.count("about search","actions","download"),"public"===i&&"dir"===s.get(".type")){var c=ns.Model.get("stateResource",{id:s.get(".id")});c.set(".downloaded",!0)}return!0}),ns.action.define("resources.download",function(t,e){ns.Model.get("queueRequest").push({id:"do-get-resources-url",params:{idsResources:JSON.stringify(e.idsResources)}}).then(function(t){r.download(t.get(".download_url"))})})},{"helpers/metrika":60,"helpers/page":64,"helpers/path":65,"models/queues/queue-confirmations":124,"models/resources/do-get-resources-url":141,"models/state-resource/state-resource":151,"models/user-current/user-current":159}],35:[function(t){"use strict";t("models/resource/resource"),t("models/state-resource/state-resource");var e=t("helpers/path"),n=t("helpers/metrika"),r=t("helpers/page");ns.action.define("resource.view-slider",function(t,a){var i=a.id,s=ns.Model.getValid("resource",{id:i}),o=ns.Model.get("stateResource",{id:i,idContext:a.idContext||ns.page.current.params.idContext});return o.isValid()||o.setDataDefault(),s&&"video"===s.get(".meta.mediatype")&&Modernizr.videostream&&o.set(".autoplay",!0),e.isParent("/attach/yaruarchive",i)&&n.count("interface elements","yaru","actions","open"),r.isSearch()&&n.count("about search","actions","view"),ns.action.run("app.openSlider",{id:i,idContextSlider:a.idContextSlider}),!0})},{"helpers/metrika":60,"helpers/page":64,"helpers/path":65,"models/resource/resource":138,"models/state-resource/state-resource":151}],36:[function(t){"use strict";t("models/resource/resource");var e=t("environment");ns.action.define("resource.show-fullsize",function(t,n){var r=ns.Model.getValid("resource",{id:n.id}),a=function(){return(r.get('.meta.sizes[.name == "ORIGINAL"].url')||r.get('.meta.sizes[.name == "XXXL"].url'))[0]};if(e.agent.isMobile)window.open(a(),"_blank");else{var i=window.open("about:blank","_blank");r.fetch().then(function(){i.document.location=a(),i.focus()},function(){i.close()})}})},{environment:42,"models/resource/resource":138}],37:[function(t){"use strict";function e(t){if("mail"===t.service){var e,n;return"dir"===t.type?(n="Ссылка на папку «"+t.title+"» на Яндекс.Диске",e=["Посмотреть или скачать папку «"+t.title+"»"]):"file"===t.type?(n="Ссылка на файл «"+t.title+"» на Яндекс.Диске",e=["Посмотреть или скачать файл «"+t.title+"»"]):"album"===t.type&&(n="Ссылка на альбом «"+t.title+"» на Яндекс.Диске",e=["Посмотреть альбом «"+t.title+"»"]),e.push(" — ",t.link),[a.links.mail,"/compose?mode=html&body="+encodeURIComponent(e.join("")),"&subject="+encodeURIComponent(n)].join("")}var r=t.service;return"mailru"===r&&(r="moimir"),["http://share.yandex.ru/go.xml?service="+r,"&amp;url="+encodeURIComponent(t.link),t.title?"&amp;title="+encodeURIComponent(t.title):""].join("")}function n(t){var e=_.findWhere(s,{service:t}),n="";return e&&(n="scrollbars=1,resizable=1,menubar=0,toolbar=0,status=0",n+=",left="+(screen.width-e.width)/2,n+=",top="+(screen.height-e.height)/2,n+=",width="+e.width,n+=",height="+e.height),n}t("models/resource/resource");var r=t("helpers/metrika"),a=t("config"),i=t("environment"),s=[{service:"mail",width:1e3,height:600},{service:"vkontakte",width:550,height:420},{service:"twitter",width:650,height:520},{service:"odnoklassniki",width:560,height:370},{service:"facebook",width:800,height:500},{service:"mailru",width:560,height:400},{service:"gplus",width:560,height:370}];ns.action.define("share.resource",function(t,a){var i,s,o=a.id,c=ns.Model.getValid("resource",{id:o}),l=c.get(".meta.short_url"),d=c.get(".name"),u=c.get(".type"),f=n(a.service);return r.count("actions","with resources","public links","link sharing attempt",u,a.service),a.current&&(l=document.location.href),l?(i=e({service:a.service,type:u,link:l,title:d}),s=window.open(i,"YaShare",f)):(s=window.open("","YaShare",f),ns.action.run("resource.publish",{id:o,reverse:!1}).on("status.done",function(){s.location=e({service:a.service,type:u,link:c.get(".meta.short_url"),title:d})}).on("status.failed",function(){s.close()})),s}),ns.action.define("share.link",function(t,r){var a=e({service:r.service,link:r.link});return window.open(a,"YaShare",n(r.service))}),ns.action.define("share.album",function(t,r){var a=ns.Model.getValid("album",r),s=e({service:r.service,link:a.get(".public.short_url"),title:"Альбом «"+a.get(".title")+"» на Яндекс.Диске",type:"album"});return window.open(s,"YaShare",n(r.service)),!i.agent.isMobile})},{config:40,environment:42,"helpers/metrika":60,"models/resource/resource":138}],38:[function(t){"use strict";var e=t("helpers/page"),n=t("routers/public"),r=t("helpers/path");t("models/states/state-slider"),ns.action.define("slider.move",function(t,e){var n,r=ns.page.current.params,a=ns.Model.getValid("stateSlider",r);return"/photo"===r.idContext?(n=a.collection.getSiblingOf(r.idDialog,{take:e,loop:!1,filter:a.filterResources}),n=n&&n.resource):n=_.last(a.collection.getSiblingsOf(r.idDialog,{take:e,loop:!1,filter:a.filterResources})),n?ns.action.run("app.openSlider",{id:n.get(".id")}):ns.action.run("dialog.close")}),ns.action.define("app.openSlider",function(t,a){var i,s=r.getIdApp(a.id),o=a.id;if("album"===s||"public"===s){var c=_.extend(n.parseUrl(ns.page.getCurrentUrl()),n.parseId(o));i=n.formatUrl(c)}else{var l=a.idContextSlider||ns.page.current.params.idContextSlider;a.idContext?i="/client"+r.escape(a.idContext):(i=e.getUrlBase()+"|slider"+r.escape(a.id),l&&(i+="?idContextSlider="+l))}e.go(i)})},{"helpers/page":64,"helpers/path":65,"models/states/state-slider":157,"routers/public":194}],39:[function(t,e){!function(n){"use strict";if(n.window){var r=t("environment"),a=r.session.auth&&r.session.auth.isAuth,i=t("config"),s={passportHost:i.domains.passport};r.session.canHaveAuth||(s.authRetpath=i.links.disk+"/auth/retpath/auth.html");var o=t("libs/client-auth")(s,a);o.on("auth-status",function(e,n){n.data&&(_.each(n.data,function(t){ns.Model.get(t.model,t.params).setData(t.data)}),$.cookie("lang",r.session.locale,{expires:30,path:"/"}),$.cookie("tld",i.tld,{expires:30,path:"/"})),ns.request.URL=i.links.disk+"/models/",ns.request.requestParams.sk=i.sk,o.update({passportHost:i.domains.passport,yandexuid:i.yandexuid}),ns.events.trigger("ufo-detected-auth-status"),t("helpers/page").update().then(function(){ns.events.trigger("ufo-updated-after-detected-auth-status")})}),e.exports=o}}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{config:40,environment:42,"helpers/page":64,"libs/client-auth":79}],40:[function(t,e){"use strict";t("models/config/config");var n=ns.Model.get("config");e.exports=n&&n.getData()||{}},{"models/config/config":104}],41:[function(t,e){"use strict";var n={MAIL:"mail",VK:"vkontakte",TW:"twitter",FB:"facebook",OK:"odnoklassniki",LJ:"lj",GPLUS:"gplus",MAILRU:"mailru",GOOGLE:"google",INSTAGRAM:"instagram",QR:"qr"},r={VKONTAKTE:"vk",FACEBOOK:"fb",TWITTER:"tw",GOOGLE:"gg",ODNOKLASSNIKI:"ok"};e.exports={KEYS:{ENTER:13,ESC:27,RIGHT:39,LEFT:37},ONE_DAY:864e5,INTERVALS_COUNT_CONTACTS:[0,20,100,200,300,400,500],TYPE_FOLDER_SOCIAL:[n.VK,n.FB,n.OK,n.MAILRU,n.INSTAGRAM,n.GOOGLE],SELECTION_SOURCES:{LISTING:"listing",RECENT:"recent files",BOTH:"both"},PADDING_TOP_LAYER_FIXED:93,HEIGHT_TITLE_PHOTOSLICE_GROUP:76,COUNT_ITEMS_TO_FETCH_AROUND_PHOTO:10,HASH_LONG_NOT_FOUND:"404",USER_SETTINGS_DEFAULTS:{dropzoneState:"closed",view:"icons",viewPhotostream:"tile",viewSocial:"tile",wasDialogClosed:!1,countDisplaysDialogWelcome:"0",timestampLastDisplayedDialogWelcome:"0",timestampLastDisplayedDialogIntro:"0",timestampVisitPhotoslice:"0",timestampVisitAlbums:"0",timestampVisitJournal:"0",timestampRecentFilesClosed:"0",timestampDialogPromoOfficeClosed:"0",showAgreementOfficeConvertation:"1"},YA_IMAGES_CONTEXT:"/disk/Мои Яндекс.Картинки",SOCIAL:n,SOCIAL_PROVIDERS:r,COMMENTS:{MESSAGE_LIMIT:1e3}}},{}],42:[function(t,e){"use strict";t("models/environment/environment");var n=ns.Model.get("environment");e.exports=n&&n.getData()||{}},{"models/environment/environment":110}],43:[function(t,e){!function(t){"use strict";function n(t){var e=t[0].toUpperCase()+t.slice(1);return a.map(function(n){return n+(n?e:t)})}function r(t){for(var e=n(t),r=0;r<e.length;r++)if("undefined"!=typeof document.body.style[e[r]])return e[r];return null}if(t.window){var a=["","webkit","o","MS","ms"],i=r("transition"),s=i+"end";e.exports={nameEventTransition:i,nameEventTransitionEnd:s,getSupportedPropertyName:r,onTransitionEnd:function(t,e){return t.on(s,e),t},oneTransitionEnd:function(t,e){return t.one(s,e),t}}}}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],44:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0});var a=t("client-auth"),i=r(a),s={hasAuth:function(){return"undefined"!=typeof ns.Model.get("userCurrent").get(".uid")},getAuthDialogPromise:function(t){var e=this;ns.action.run("dialog-auth.show");var n=t?"ufo-detected-auth-status":"ufo-updated-after-detected-auth-status";return new Promise(function(t,r){var a=function o(){ns.events.off(n,o),ns.events.off("dialog-auth.close",s),e.hasAuth()?t():r()},s=function c(){ns.events.off("dialog-auth.close",c),i.default.findingAuthStatus||(ns.events.off(n,a),r())};ns.events.on(n,a),ns.events.on("dialog-auth.close",s)})}};n.default=s},{"client-auth":39}],45:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0});var a=t("./metrika"),i=r(a),s={metrikaCount:function(t){var e=ns.page.current.params.poster;i.default.count.apply(i.default,[e?"adv poster":"interface elements","public sidebar","comments"].concat(t))}};n.default=s},{"./metrika":60}],46:[function(t,e){"use strict";function n(t){return(i[t]||i.ru).split(",")}function r(t){return!!i[t]}function a(t){function e(t){return t.replace(/\.yandex\.(\w+|com\.tr)/,".yandex."+o)}function r(t){return t.replace(/\.yandex\.(\w+|com\.tr)/,".yandex."+c)}var a=t.data,i=t.urlsBase,o=a.tld,c=o;"ua"===c&&a.mda&&!a.isMobile&&(c="ru");var l="yandex."+o,d=e(i.disk),u=d+"/download/",f="https://"+l+"/support/disk/troubleshooting.xml",p="https://"+l+"/support/disk/troubleshooting",m=r(i.passport),h=e(i.pass),v="https://"+a.host+a.path,y=v;a.tld!==a.tldOrigin&&(y=d+"/auth/retpath"+a.pathOrigin,t.tldFinal=a.tld);var b="&retpath="+encodeURIComponent(y),g=b;a.source&&!/[&?]source=\w/.test(y)&&(g="&retpath="+encodeURIComponent(y+(y.indexOf("?")>-1?"&":"?")+"source="+encodeURIComponent(a.source)));var _="&retpath="+encodeURIComponent("http://www."+l);a.tld!==a.tldOrigin&&(_=b);var w=a.locale||"ru",x="https://"+l+"/support/",k=x+"disk/",A="https://yandex."+("ua"===o?"ua":"ru")+"/support/disk/",j="https://yandex.ru/support/disk/",C="&origin="+encodeURIComponent(a.source+"."+w),S={yandex:"https://www."+l,current:v,diskQR:i.disk.replace(/(\w+|com\.tr)$/,"net")+"/qr/",statbox:"//clck.yandex.ru/click",disk:d,diskRoot:d+"/client/disk",clientAuth:r(i.disk+"/auth/status"),download:u+"?from=webinterface",screenshot:d+"/screenshot/",langSwitch:r(a.mda?i.tune+"/api/lang/v1.1/save.xml":"https://"+l+"/portal/set/lang/"),blog:"https://yandex.ru/blog/disk",twitterDisk:"https://twitter.com/yandexdisk",vkDisk:"https://vk.com/ya_disk",api:"http://api.yandex."+("ru"===o||"ua"===o?"ru":"com")+"/disk",feedback:{disk:f,blocked:p+"/blocked.xml",abuse:"https://yandex.ru/support/zout_abuse/disk.xml",disk4Yandex:"ru"===o?p+"/zout_yandex.xml":f},termsOfUse:"https://"+l+"/support/legal/disk_termsofuse/",tariffs:d+"/pay/tariffs/",all:"https://"+l+("ru"===o||"ua"===o?"/all/":""),appmetrika:"https://appmetrika."+l,browser:"https://browser."+l,calendar:"https://calendar.yandex.ru",contacts:"https://mail."+l+"/#contacts",images:"https://"+l+("com.tr"===o?"/gorsel/":"/images/"),mail:"https://mail."+l,maps:"https://"+("com.tr"===o?"harita.":"maps.")+l,market:"https://market."+l,money:"https://money."+l,music:"https://music."+l,news:"https://"+("com.tr"===o?"haber.":"news.")+l,portal:"https://connect.yandex.ru",yamb:"https://yamb.yandex.ru",probki:"https://"+("com.tr"===o?"harita.":"maps.")+l+"/?l=trf",rasp:"https://rasp."+l,translate:"https://translate."+l,video:"https://"+l+"/video/",weather:"https://weather."+l,drweb:"http://www.drweb.com",photo:d+"/photo/?from=main",downloadApp:{win:u+"YandexDiskSetup.exe?referer=webinterface",mac:u+"Yandex.Disk.Mac.dmg?referer=webinterface",linux:"http://repo.yandex.ru/yandex-disk/",ios:"http://appmetrika.yandex.ru/serve/17589353581187627129?action=click&app_id=ru.yandex.disk",android:"http://appmetrika.yandex.ru/serve/8634663676703474913?action=click&app_id=ru.yandex.disk",winphone:"http://appmetrika.yandex.ru/serve/12056877220594364778"},deepLink:"https://redirect.appmetrica.yandex.com/serve/96639634120940843",downloadMobileApp:{banner:{ios:"http://appmetrika.yandex.ru/serve/1168735115035726045?action=click&app_id=ru.yandex.disk",android:"http://appmetrika.yandex.ru/serve/11718107456729729427?action=click&app_id=ru.yandex.disk",winphone:"http://appmetrika.yandex.ru/serve/13536603132086410463"},auth:{ios:"http://appmetrika.yandex.ru/serve/6383341804356989855?action=click&app_id=ru.yandex.disk",android:"http://appmetrika.yandex.ru/serve/7174361144714440002?action=click&app_id=ru.yandex.disk ",winphone:"http://appmetrika.yandex.ru/serve/6778704649069329413"},welcomeScreen:{ios:"http://appmetrika.yandex.ru/serve/9563509207267024590?action=click&app_id=ru.yandex.disk",android:"http://appmetrika.yandex.ru/serve/932489569810911545?action=click&app_id=ru.yandex.disk",winphone:"http://appmetrika.yandex.ru/serve/10746198976653216604"},buttonLoggedMobile:{ios:"http://appmetrika.yandex.ru/serve/11819965846003333915?action=click&app_id=ru.yandex.disk",android:"http://appmetrika.yandex.ru/serve/16530543430544369100?action=click&app_id=ru.yandex.disk",winphone:"http://appmetrika.yandex.ru/serve/13823790423947476378"},linkLoggedMobile:{ios:"http://appmetrika.yandex.ru/serve/6599940477191233912?action=click&app_id=ru.yandex.disk",android:"http://appmetrika.yandex.ru/serve/17287776162656388787?action=click&app_id=ru.yandex.disk",winphone:"http://appmetrika.yandex.ru/serve/10693121967941026935"},promo:u+"#mobile"},agreement:"https://"+l+"/support/legal/desktop_software_agreement/",pddLegalDisclaimer:"https://"+l+"/support/legal/domain_termsofuse/",blocked:"https://"+l+"/support/legal/ugc_takedown/",reportBugVirus:p+"/web-problems/virus.xml",downloadBrowser:"http://browser."+l,downloadFlash:"http://get.adobe.com/"+("ru"===o||"ua"===o?"ru/":"")+"flashplayer/",passport:{origin:m,home:m,resign:(a.mda?h+"/resign":m+"/auth/update")+"/?"+b.slice(1),init:h+"/?"+b.slice(1)+C,nocookiesupport:m+"?mode=error&error=nocki",register:m+"/passport?mode=register&from=cloud"+g+C,qrcode:m+"/auth?mode=qr&from=cloud"+b,auth:m+"/auth?from=cloud"+C+b,login:m+"/auth?from=cloud"+C,restore:m+"/passport?mode=restore&from=cloud"+b+C,logout:m+"?mode=logout&yu="+a.yandexuid+_+"&clean=yes",userapprove:m+"/passport?mode=userapprove&from=cloud"+b,postregistration:m+"/passport?mode=postregistration&from=cloud&create_login=1&create_password=1"+g,light2full:m+"/passport?mode=light2full&from=cloud"+g,lightauth2full:m+"/passport?mode=lightauth2full&from=cloud"+g},help:{disk:k,partners:k+"enlarge/bonus-space.xml#current-actions",samsungUltrabook:j+"enlarge/bonus-space.xml#250-samsung",sonyXperia:j+"enlarge/bonus-space.xml#40-sony",sonyVaio:j+"enlarge/bonus-space.xml#30-sony",ativ:A+"enlarge/bonus-space.xml#50-samsung",intel:j+"enlarge/bonus-space.xml#30-intel",kingstonFlash:A+"enlarge/bonus-space.xml#flash-kingston",correctionSearch:x+"search/"+("com.tr"===o?"info/request-correction.xml#concept1":"how-to-search/request-correction.xml#misspell"),autoclean:k+"actions-files/spec-folders/trash.xml"},pathVideoPlayerFlash:i.pathVideoPlayerFlash,updateBrowser:{yandex:"http://browser.yandex."+o+"/?from=link_disk___|&banerid=0468000000",firefox:"http://fx.yandex."+o+"/?from=link_disk___|",opera:"http://opera.yandex."+o+"/?from=link_disk___|",ie:"http://ie.yandex."+o+"/?from=link_disk___|"},"static":{host:i.static,root:i.static+"/disk"},promoElements:"https://yandex."+o+"/promo/diskelement",extChrome:"https://chrome.google.com/webstore/detail/cbhneibcbgciicaihkefieefieeldnil"};
S.static.libsRoot=S.static.root+"/www/"+s,S.static.libs=S.static.libsRoot+"/_libs.js",S.static.aviary=S.static.libsRoot+"/_feather.js","com"===o?(delete S.updateBrowser.firefox,delete S.updateBrowser.opera,delete S.updateBrowser.ie):"com.tr"===o&&delete S.updateBrowser.firefox;var M={social:r(i.social),docviewer:e(i.docviewer),"public":i.public,video:i.video,passport:m};return S.yapic=i.yapic,S.avatarDefault=i.yapic+"0/islands-middle",t.links=S,t.domains=M,t.languagesAvailable=n(o),t.tld=o,t.tldRoot=c,t.yandexuid=a.yandexuid,t}e.exports={prepare:a,getLanguagesSupported:n,canHaveAuth:r};var i={"com.tr":"tr,en",com:"en,ru,uk,tr",ua:"uk,ru,en,tr",ru:"ru,en,uk,tr"},s="5.4.0"},{}],47:[function(t,e){"use strict";e.exports={player:{extnames:[".mp3"],mimetypes:["audio/mpeg","audio/mp3"]},docviewer:{mimetypes:["application/gzip","application/x-gzip","application/x-gunzip","application/gzipped","application/x-bzip2","application/x-bz2","application/zip","application/x-compressed","application/x-zip-compressed","application/rar","application/x-rar","application/x-rar-compressed","compressed/rar","application/vnd.ms-excel","application/x-msexcel","application/x-ms-excel","application/x-excel","application/xls","application/x-xls","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.sun.xml.calc","application/vnd.sun.xml.calc.template","application/x-vnd.oasis.opendocument.spreadsheet","application/x-vnd.oasis.opendocument.spreadsheet-template","application/msexcel","application/x-dos_ms_excel","text/csv","text/comma-separated-values","application/pdf","application/x-pdf","application/acrobat","applications/vnd.pdf","text/pdf","text/x-pdf","application/mspowerpoint","application/ms-powerpoint","application/mspowerpnt","application/vnd-mspowerpoint","application/vnd.ms-powerpoint","application/powerpoint","application/x-powerpoint","application/x-mspowerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/msword","application/rtf","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.sun.xml.writer","application/vnd.sun.xml.writer.template","application/vnd.oasis.opendocument.text","application/x-vnd.oasis.opendocument.text","application/doc","application/vnd.msword","application/vnd.ms-word","application/winword","application/word","application/x-msw6","application/x-msword","text/rtf","application/vnd.oasis.opendocument.text","image/tiff","application/x-shockwave-flash","application/postscript","application/futuresplash","image/vnd.adobe.photoshop","image/photoshop","image/x-photoshop","image/psd","application/photoshop","application/psd","zz-application/zz-winassoc-psd","application/x-fictionbook+xml","application/epub+zip","image/vnd.djvu","image/x-djvu","application/djvu"],extnames:[".xls",".xlsx",".ods",".xlt",".csv",".pdf",".ppt",".pptx",".odp",".rtf",".jpg",".jpeg",".png",".bmp",".gif",".doc",".docx",".odt",".docm",".dotx",".dot",".dotm",".tiff",".tif",".ps",".psd",".eps",".ai",".cdr",".nef",".dng",".ini",".log",".asc",".txt",".zip",".rar",".cab",".xar",".7z",".chm",".epub",".fb2"]}}},{}],48:[function(t,e){"use strict";e.exports={"default":"none",virus:"virus",mediatypes:{image:"image",audio:"audio",video:"video",archive:"archive",text:"text",font:"font",executable:"application",flash:"flash",development:"development",book:"book",compressed:"archive"},extnames:{".7z":"archive",".cab":"archive",".gz":"archive",".gzip":"archive",".rar":"rar",".tar":"archive",".zip":"zip",".zipx":"zip",".aud":"audio",".flac":"audio",".iff":"audio",".m3u":"audio",".m3u8":"audio",".m4a":"audio",".m4b":"audio",".m4r":"audio",".mp3":"mp3",".pls":"pls",".ogg":"audio",".wav":"wav",".wma":"wma",".asf":"video",".avi":"avi",".flv":"flash",".mov":"mov",".mp4":"mp4",".mpeg":"video",".mkv":"video",".mpg":"video",".srt":"srt",".swf":"flash",".vob":"video",".wmv":"wmv",".ai":"ai",".cur":"image",".bmp":"bmp",".dng":"image",".djvu":"djvu",".ico":"image",".gif":"gif",".jpg":"jpg",".jpeg":"jpg",".png":"png",".psd":"psd",".pcx":"pcx",".mng":"image",".tif":"tiff",".tiff":"tiff",".xcf":"image",".epub":"book",".ibooks":"book",".mobi":"book",".fb2":"book",".cdr":"cdr",".csv":"csv",".doc":"doc",".docx":"doc",".dot":"doc",".dotx":"doc",".indd":"text",".key":"text",".odt":"odt",".odp":"odp",".pdf":"pdf",".pps":"text",".ppsm":"text",".ppsx":"text",".ppt":"ppt",".pptx":"ppt",".ods":"ods",".rtf":"rtf",".txt":"txt",".xls":"xls",".xlsb":"xls",".xlsx":"xls",".xltm":"xls",".xltx":"xls",".xps":"text",".css":"development",".htm":"development",".html":"development",".js":"development",".php":"development",".xhtml":"development",".htaccess":"development",".mso":"development",".asm":"development",".asp":"development",".aspx":"development",".c":"development",".class":"development",".cpp":"development",".dtd":"development",".h":"development",".java":"development",".apk":"application",".bat":"application",".cgi":"application",".com":"application",".exe":"exe",".gadget":"application",".jar":"application"}}},{}],49:[function(t,e){"use strict";var n={getExperimentalBlockId:function(t){return t.cvText?"on"===t.experiment?t.type+"-cv-tags_1_text_1":t.type+"-cv-tags_1_text_0":t.type+"-cv-tags_0_text_0"}};e.exports=n},{}],50:[function(t,e){!function(t){"use strict";function n(t){for(var e,n,i=0,s=t.elements.length;s>i;)if(e=0|(i+s)/2,n=r(o.extend(t,{el:t.elements[e],indexEl:e})),0>n)i=e+1;else{if(!(n>0))return a(o.extend(t,{positionEl:e}));s=e}}function r(t){var e=t.rect,n=t.fnGetRectEl(t.el,t.indexEl);return n.top>=e.bottom||n.left>=e.right?1:n.bottom<=e.top||n.right<=e.left?-1:0}function a(t){for(var e=t.positionEl,n={from:e,to:e},r=t.elements.length;--e>=0&&i(o.extend(t,{el:t.elements[e],indexEl:e}));)n.from--;for(e=t.positionEl;++e<r&&i(o.extend(t,{el:t.elements[e],indexEl:e}));)n.to++;return n}function i(t){return 0===r(t)}function s(t){if(t===window||t===window.document){var e=$(window),n=e.scrollTop(),r=e.scrollLeft();return{top:n,bottom:n+e.height(),left:r,right:r+e.width()}}var a=t.getBoundingClientRect();return{top:a.top+window.pageYOffset,bottom:a.bottom+window.pageYOffset,left:a.left+window.pageXOffset,right:a.right+window.pageXOffset}}var o="undefined"!=typeof window?window._:"undefined"!=typeof t?t._:null;e.exports={findInRect:n,findElSiblingsInRect:a,isElInRect:i,getRect:s}}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],51:[function(t,e){"use strict";var n=["yandex.ru","yandex.com","yandex.com.tr","yandex.ua","yandex.by","yandex.kz","ya.ru","яндекс.рф"],r=["gmail.com","googlemail.com"],a=e.exports={domainNormal:"yandex.ru",isEmail:function(t){return/.@[^@.]+\.[^@]*[^@.]$/.test(t)},normalize:function(t){if(!a.isEmail(t))return t;t=/^(.+)@([^@]+)$/.exec(t).slice(1);var e=t[0],i=t[1].toLowerCase();return n.indexOf(i)>-1&&(e=e.toLowerCase().split(".").join("-").split("+")[0],i=n[0]),"narod.ru"===i&&(e=e.toLowerCase().split(".").join("-").split("+")[0]),r.indexOf(i)>-1&&(e=e.toLowerCase().split(".").join("").split("+")[0],i=r[0]),e+"@"+i}}},{}],52:[function(t,e){!function(n){"use strict";var r="undefined"!=typeof window?window._:"undefined"!=typeof n?n._:null,a=n.document,i=null,s={};try{i=t("swfobject")}catch(o){}try{s=t("screenfull")}catch(o){}var c=e.exports={};c.hasAvailableFlash=function(){return a&&i?i.hasFlashPlayerVersion("9.0.0")?"flv":!1:!1},c.hasFlashPlayerVersion=function(t){return i?i.hasFlashPlayerVersion(t):!1},c.canPlayMediaType=function(t){if(!a)return!1;var e=a.createElement("video");try{return!!e.canPlayType(t)}catch(n){return!1}},c.canPlayVideo=function(){return a?!!window.Modernizr.videostream:!0},c.embedSWF=function(){return i?(i.embedSWF.apply(i,r.toArray(arguments)),void 0):!1},c.screenfull=s}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{screenfull:27,swfobject:195}],53:[function(t,e){"use strict";function n(t,e){try{this.monthsNominative=t||["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],this.monthsGenitive=e||["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"]}catch(n){}this.timestampToDate=this.timestampToDate.bind(this)}function r(t,e){if("undefined"==typeof e&&(e=2),0>t||0>=e)return t.toString();var n=Math.pow(10,e-1);return t>=n?t.toString():Array(n.toString().length-t.toString().length+1).join("0")+t}n.prototype={create:function(t,e){return new n(t,e)},secondsToTime:function(t,e){var n=0>t;e=e||":",n&&(t=Math.abs(t));var a=Math.floor(t/3600),i=r(Math.floor(t%3600/60)),s=r(t%60);return(n?"-":"")+(a?a+e:"")+i+e+s},timestampToDate:function(t,e){"undefined"==typeof e&&(e="DD.MM.YYYY HH:mm");var n=new Date(1e3*t),a=this.monthsNominative,i=this.monthsGenitive;return e.replace(/([a-zA-Z]{1,4})/g,function(t,e){switch(e){case"M":return n.getMonth()+1;case"MM":return r(n.getMonth()+1);case"mmmm":return i[n.getMonth()];case"MMMM":return a[n.getMonth()];case"D":return n.getDate();case"DD":return r(n.getDate());case"YY":return n.getFullYear()%100;case"YYYY":return n.getFullYear();case"H":return n.getHours();case"HH":return r(n.getHours());case"h":return n.getHours()%12||12;case"p":return n.getHours()<12?"am":"pm";case"m":return n.getMinutes();case"mm":return r(n.getMinutes());case"s":return n.getSeconds();case"ss":return r(n.getSeconds());default:return e}})},dateToTimestamp:function(t,e,n,r,a,i,s){var o,c=arguments.length;t=t||0,e=e||0,n=n||1,r=r||0,a=a||0,i=i||0,s=s||0;var l=t;return o=0===c?Date.now():1===c?new Date(l):new Date(t,e,n,r,a,i,s),Math.floor(o/1e3)},numberToInterval:function(t,e){var n,r=e.length,a=e[0],i=e[r-1];if(a>=t)return"<= "+a;if(t>i)return"> "+i;for(var s=0;r-1>s;s++)if(a=e[s],i=e[s+1],t>a&&i>=t){n=a+1+" - "+i;break}return n},shortenName:function(t,e,n,r){return e=e||8,n=n||2,r=r||"...",t.length<=e+n+r.length?t:t.slice(0,e)+r+t.slice(-n)},parseDateToTimestamp:function(t,e){"undefined"==typeof e&&(e="DD.MM.YYYY HH:mm");var n=new Date,r=n.getFullYear(),a=n.getMonth(),i=n.getDate(),s=0,o=0,c=0,l=0;return e.replace(/[\^MDdYHms]{1,4}/g,function(e,n){var l=t.substring(n,n+e.length),d=parseInt(l,10);switch(e){case"M":case"MM":a=d-1;break;case"D":case"DD":i=d;break;case"YY":r=Number("19"+l);break;case"YYYY":r=d;break;case"H":case"HH":s=d;break;case"m":case"mm":o=d;break;case"s":case"ss":c=d}}),new Date(r,a,i,s,o,c,l).getTime()}},e.exports=new n},{}],54:[function(t,e){"use strict";e.exports={getNameContext:function(t){var e="files";return 0===t.indexOf("/photo")&&(e="photo"),0===t.indexOf("/album")&&(e="album"),0===t.indexOf("/public")&&(e="public"),e}}},{}],55:[function(t,e){"use strict";var n=1,r=function(){return n++};r.reset=function(t){n="undefined"==typeof t?1:t},e.exports=r},{}],56:[function(t,e){"use strict";var n=t("config"),r=t("environment"),a=t("models/user-current/user-current"),i=t("helpers/metrika");t("libs/modernizr-tests"),t("libs/fixes-ie"),t("libs/extensions.nb");var s=new Vow.Promise,o={_init:function(){n.idClient=a.get(".uid")+String(Date.now()),ns.request.requestParams.idClient=n.idClient,ns.request.requestParams.version=n.version,r.session.canHaveAuth?(ns.request.URL="/models/",ns.request.requestParams.sk=n.sk):(ns.request.URL=n.links.disk+"/models/",ns.H.DEFAULTS.xhrFields={withCredentials:!0}),ns.request.canProcessResponse=function(t){return t.error?!1:a.get(".uid")&&t.uid!==a.get(".uid")?(ns.action.run("app.syncAuth"),!1):t.version!==n.version?(ns.action.run("app.refresh"),!1):(ns.request.requestParams.sk!==t.sk&&(ns.request.requestParams.sk=n.sk=t.sk),!0)},ns.page.title=function(){document.title="Яндекс.Диск"};var t=ns.history.pushState;ns.history.pushState=function(e,n){var r=window.location.href;t.apply(ns.history,arguments),i.hit(e,n,r,null)};var e=ns.history.onpopstate;return ns.history.onpopstate=function(){var t=window.location.href,n=window.location.origin+ns.page.currentUrl,r=ns.page.title(t);i.hit(t,r,n,null),e.apply(ns.history,arguments)},ns.init(),r.session.loadingFailed?ns.page.go("/client/error","preserve"):void 0},initApp:function(){if(o._init(),r.session.loadingFailed)var t=ns.page.go("/client/error","preserve");else var t=ns.page.go();return t.always(function(){s.fulfill()}),t},reconstructApp:function(){o._init();var t,e,n=ns.page.getCurrentUrl();try{t=JSON.parse($("#route-client").text()||"[]"),e=JSON.parse($("#layout-client").text()||"[]")}catch(r){t=ns.router(n),e=ns.layout.page(t.page,t.params)}var a=new ns.Update(ns.MAIN_VIEW,e,t.params);ns.page._setCurrent(t,n);var i=$("body")[0],c=a.reconstruct(i);return c.always(function(){s.fulfill()}),c},onAppReady:function(t){return s.then(t)}};e.exports=o},{config:40,environment:42,"helpers/metrika":60,"libs/extensions.nb":81,"libs/fixes-ie":83,"libs/modernizr-tests":85,"models/user-current/user-current":159}],57:[function(t,e){!function(t){"use strict";function n(t){var e=r.extend({},i,a);return t=r({}).extend(ns.page.current.params,t).pick(r.keys(e)).pick(Boolean).value(),ns.router.generateUrl("client-journal",t)}var r="undefined"!=typeof window?window._:"undefined"!=typeof t?t._:null,a={eventType:null,parentFolder:null,platform:null,startEventTimestamp:null,querySearch:null},i={dialog:null};e.exports={journalParams:r.extend({},a),generateUrl:n}}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],58:[function(t,e){"use strict";function n(e){var n=t("config");"dev"===n.environment&&ns.DEBUG?console.log(e):window.__monitoring__.send(e)}e.exports={log:n}},{config:40}],59:[function(t,e){"use strict";var n={mail:"Почта",vkontakte:"ВКонтакте",twitter:"Twitter",facebook:"Facebook",odnoklassniki:"Одноклассники",lj:"Живой Журнал",gplus:"Google+",mailru:"Мой мир",google:"Google",qr:"QR код"},r={"login-empty":"Заполните это поле","account-not-found":"Учётной записи с таким логином не существует","password-empty":"Заполните это поле","password-invalid":"Неправильная пара логин-пароль",keyboard_warning:"Неправильная раскладка клавиатуры"};e.exports={getTitleSocial:function(t){return n[t]},getMessageError:function(t){return r[t]}}},{}],60:[function(t,e){!function(t){"use strict";function n(e,n){d.push(function(){try{f=t["yaCounter"+e]=new t.Ya.Metrika({id:e,clickmap:!0,trackLinks:!0,accurateTrackBounce:!0,ut:"noindex"}),u.fulfill()}catch(n){u.reject()}}),n&&n.length&&(p=l.reduceRight(n,function(t,e){var n={};return n[e]=t,n}));try{var a=ns.Model.get("userCurrent").getData();a.uid&&(m={stat:{uid:a.uid,pdd:a.isPDD?"1":"0",b2b:a.isWS?"1":"0",paid:a.paid?"1":"0",has_disk:a.hasDisk?"1":"0"}})}catch(i){}return r(),u}function r(){var t=document.getElementsByTagName("script")[0],e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="//mc.yandex.ru/metrika/watch.js",$(function(){t.parentNode.insertBefore(e,t)})}function a(t){return function(){var e=arguments;u.then(function(){t.apply(null,e)})}}function i(t){return function(){try{f[t].apply(f,arguments)}catch(e){}}}function s(t,e,n){A[t]||(A[t]={}),A[t][e]||(A[t][e]=[]),A[t][e].push(n)}function o(t,e){A[t.key]&&A[t.key][e]&&l.each(A[t.key][e],function(e){e.call(t)})}function c(t,e){A[t.key]&&(e&&A[t.key][e]?delete A[t.key][e]:delete A[t.key])}var l="undefined"!=typeof window?window._:"undefined"!=typeof t?t._:null,d=t.yandex_metrika_callbacks=[],u=new Vow.Promise,f=null,p=null,m=null,h={},v=700,y=a(i("hit")),b=a(function(){var t=l.reduceRight(l.toArray(arguments),function(t,e){if(!t)return e;var n={};return n[e]=t,n},p);m&&(t.stat=m),i("params")(t)}),g=a(i("params")),_=function(){b.apply(null,l.toArray(arguments));var t=new Vow.Promise;return window.setTimeout(function(){t.fulfill()},v),t},w=a(i("reachGoal")),x=a(function(){var t=l.toArray(arguments).join(",");h[t]=(h[t]||0)+1}),k=a(function(){var t=l.toArray(arguments),e=t.join(",");h[e]&&(t.push(h[e].toString()+" time(s)"),b.apply(null,t),delete h[e])});u.then(function(){function t(t){var n=$(t.currentTarget),r=n.data("metrika-"+t.type),a=e(n.data("metrika-params"));if("count"===r)a.forEach(function(t){b.apply(null,t)});else if("reach"===r)a.forEach(function(t){w.apply(null,t)});else if("countLeave"===r)t.preventDefault(),Vow.all(a.map(function(t){return _.apply(null,t)})).then(function(){location.assign(n.attr("href"))});else if(r)throw new Error("Wrong Yandex.Metrika call: Unexpected `data-metrika-"+t.type+"` action.")}function e(t){if(l.isString(t)&&""!==t)return l.map(t.split("|"),function(t){return t.split(",")});throw new Error("Wrong Yandex.Metrika call: No `data-metrika-params` passed.")}var n=$("body");l.each(["click","dblclick"],function(e){n.on(e,"[data-metrika-"+e+"]",t)})});var A={};t.yr&&(yr.externals.addShowHookMetrika=function(t,e,n){var r;"count"===t?r=b:"reach"===t&&(r=w),l.isFunction(r)&&s(e,"show",function(){r.apply(null,n)})}),e.exports={init:n,count:b,countLeave:_,countRaw:g,reach:w,hit:y,accumulate:x,release:k,hooks:{execute:o,drop:c}}}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],61:[function(t,e){!function(t){"use strict";var n="undefined"!=typeof window?window._:"undefined"!=typeof t?t._:null,r={extendRouterRegs:function(t){n.extend(t.router.regexps,{path:"(?:\\/[^\\/\\?]+)+",slashOptional:"\\/?",pipe:"(?:\\||%7C)",query:"[^/]+",force:"force",any:"[^?]*"})}};e.exports=r}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],62:[function(t,e){!function(n){"use strict";var r="undefined"!=typeof window?window._:"undefined"!=typeof n?n._:null,a=t("environment");e.exports={request:function(){var t=this,e=new Vow.Promise,n=".0",i=r.extend({},ns.request.requestParams,{sk:a.session.skLocal});i["_model"+n]=this.id;var s=this.getRequestParams();for(var o in s)i[o+n]=s[o];var c=ns.http("/models/?_m="+this.id,i);return c.then(function(n){if(n.error)return e.reject(),void 0;n.sk!==i.sk&&(a.session.skLocal=n.sk);var r=n.models[0],s=t.extractData(r);if(s)return t.setData(s),e.fulfill(),void 0;var o=t.extractError(r);o||(o=r?{id:"INVALID_FORMAT",reason:"response should contain result or error"}:{id:"NO_DATA",reason:"Server returned no data"}),t.setError(o),e.reject()},function(t,n){ns.log.error("ns.request.http",{error:t,xhr:n}),e.reject()}),e}}}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{environment:42}],63:[function(t,e){!function(n){"use strict";function r(t,e,n){var r=i.clone(n);e&&(r.gid=e);var a=ns.Model.get(t,{id:s()}).setData(r);return ns.Model.get("operations").insert(a),a.init(),a}function a(t){var e=t.type,n=t.subtype;if("move"===e){var r=t.data.source&&c.normalize(t.data.source),a=t.data.target&&c.normalize(t.data.target);return c.dirname(r)!==c.dirname(a)?"move":"rename"}if("trash"===e){if("append"===n||"droppath"===n)return"delete";if("drop"===n)return"cleanTrash"}return"copy"===e?"copy":"aviary"===e?"saveEditorPhoto":!1}var i="undefined"!=typeof window?window._:"undefined"!=typeof n?n._:null,s=t("./guid"),o=t("./string"),c=t("helpers/path");t("../models/operations/operations"),e.exports={create:function(t,e){var n=this.initialize(t,e);return i.isArray(n)?i.invoke(n,"run"):n.run(),n},initialize:function(t,e){return e=e||{},/^operation/.test(t)||(t="operation"+o.capitalize(t)),i.isArray(e)?i.map(e,i.partial(r,t,s())):r(t,null,e)},initializeRemote:function(t){var e="operationRemote"+o.capitalize(t),n=ns.Model.get(e,{id:s()});return n},catchUp:function(t){var e=a(t);if(e){e="operation"+o.capitalize(e);var n=ns.Model.get(e,{id:s()}).setData({oid:t.id});ns.Model.get("operations").insert(n),n.initFromMessage(t)}},getActiveOperations:function(t){return ns.Model.get("operations").models.filter(function(e){return e.getType()===t&&e.isActive()})}}}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../models/operations/operations":122,"./guid":55,"./string":70,"helpers/path":65}],64:[function(t,e){!function(n){"use strict";var r,a,i,s,o="undefined"!=typeof window?window._:"undefined"!=typeof n?n._:null,c=t("helpers/path"),l=t("helpers/journal"),d=t("environment"),u=20,f="download-iframe",p=function(){var t=document.getElementById(f);return t||(t=document.createElement("iframe"),t.id=f,t.style.display="none",document.body.appendChild(t)),t},m=e.exports={go:function(t,e){if(!arguments.length)throw new Error("`go` should be called with arguments. Use `update` to update views.");clearTimeout(r);var n=ns.router(t),a=ns.page.current.params.idContext===n.params.idContext,i=ns.page.current.params.dialog===n.params.dialog;!e&&a&&i&&(e=!0);var s=ns.page.go(t,e);return a||s.then(function(){ns.events.trigger("ufo-context-changed")}),s},update:function(){var e=t("helpers/init");return clearTimeout(r),a||(a=new Promise(function(t,e){i=t,s=e})),r=setTimeout(function(){e.onAppReady(ns.page.go.bind(null,null,"preserve")).then(function(t){i(t),a=null},function(t){t&&t.error===ns.U.STATUS.EXPIRED?i():s(t),a=null})},u),a},getUrlBase:function(t){var e,n=$.extend(!0,{},ns.page.current.params,t),r=n.idContext&&c.getIdApp(n.idContext),a=ns.page.current.page;if("client-journal"===a&&!m.isSearch(n))return l.generateUrl({dialog:null});m.isSearch(n)?(e=t&&t.typeSearch?o.pick(n,"querySearch","scopeSearch","typeSearch"):o.pick(n,"querySearch","scopeSearch"),a="client-search"):e=0===["album","public"].indexOf(r)?o.omit(n,"idDialog"):o.pick(n,"idContext","page","idPage"),e.idContext&&(e.idContext=c.escape(e.idContext));var i=ns.router.generateUrl(a,e);return i=decodeURIComponent(i)},scrollToTop:function(){window.scrollTo(0,0)},isSearch:function(t){var e=t||ns.page.current.params;return!!(e&&e.querySearch&&e.scopeSearch)},deferFollowLink:function(t,e){var n=$(t.currentTarget).attr("href");return n&&!t.isDefaultPrevented()?(e(),t.metaKey||t.ctrlKey||(t.preventDefault(),setTimeout(function(){window.location.href=n},700)),!1):void 0},appendImage:function(t){return this.containerImage||(this.containerImage=$("<div />",{"class":"js-images-container _hidden"}).appendTo("body")),$("<img />",{src:t}).appendTo(this.containerImage)},getDimentionsViewport:function(t){var t=t||$(window);return{width:t.width(),height:t.height()}},scrollCenterElement:function(t){var e=t.getBoundingClientRect();window.scrollTo(0,scrollY+e.top-(innerHeight-e.height)/2)},downloadInThisWindow:function(t){window.location.assign(t)},download:function(t){d.agent.isMobile?m.downloadInThisWindow(t):p().src=t.replace(/&amp;/g,"&")}}}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{environment:42,"helpers/init":56,"helpers/journal":57,"helpers/path":65}],65:[function(t,e){!function(t){"use strict";function n(t,e){return t?r.map(t.split("/"),e).join("/"):void 0}var r="undefined"!=typeof window?window._:"undefined"!=typeof t?t._:null,a=e.exports={split:function(t){var e=t?t.split("/"):[];return r.compact(e)},basename:function(t){var e=a.split(t);return r.last(e)||null},filename:function(t){return a.basename(t).split(".").shift()},dirname:function(t){t=a.normalize(t);var e=a.split(t);return e.pop(),e.length?("public"===e[0]&&2===e.length&&(e[1]=e[1].replace(/:$/,"")),"/"+e.join("/")):null},parentname:function(t){return a.basename(a.dirname(t))},extname:function(t){var e=a.basename(t);if(!e)return"";var n=e.length,r=n-e.lastIndexOf(".");return r>=n?"":e.substr(-r)},fileType:function(t){return a.extname(t).replace(/^\./,"")},normalize:function(t){return t=(t||"").replace(/^(\d+):/,"").replace(/^disk:/,"disk").replace(/^trash:/,"trash").replace(/^attach:/,"attach"),t?"/"+a.split(t).join("/"):"/"},join:function(){return a.normalize(r.flatten(r.toArray(arguments)).join("/"))},isParent:function(t,e){var n=a.split(e),r=a.split(t);if(r.length===n.length)return!1;for(var i=0,s=r.length;s>i;i+=1){if(0===i&&"narod"===r[i]&&-1!==["narod","lnarod"].indexOf(n[i]))return!0;if(r[i]!==n[i])return!1}return!0},escape:function(t){return n(t,encodeURIComponent)},unescape:function(t){return n(t,decodeURIComponent)},getIdApp:function(t){var e=t.split("/")[1];return"album"===e||"public"===e?e:"client"},getFolderUrl:function(t){return"/client"+a.normalize(t)},_getResourceDialogUrl:function(t,e){return t=a.escape(a.normalize(t)),"/client"+a.dirname(t)+"|"+e+t},getResourceSliderUrl:function(t){return a._getResourceDialogUrl(t,"slider")},getResourceSelectedUrl:function(t){return a._getResourceDialogUrl(t,"select")},getAlbumClientPath:function(t){return"/a/"+r.last(t.split("/"))}}}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],66:[function(t,e,n){!function(e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var a=function(){function t(t,e){var n=[],r=!0,a=!1,i=void 0;try{for(var s,o=t[Symbol.iterator]();!(r=(s=o.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(c){a=!0,i=c}finally{try{!r&&o["return"]&&o["return"]()}finally{if(a)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("../log"),s="undefined"!=typeof window?window._:"undefined"!=typeof e?e._:null,o=r(s),c=void 0;c="function"==typeof requestIdleCallback?requestIdleCallback:function(t){setTimeout(function(){t()},100)};var l=function(t,e,n){var r={};for(var a in e)"number"!=typeof e[a]||n&&n.test(a)||(r[t+a]=e[a]);return r},d={init:function(t,e){this._commonParams=t||{},this._lastUrl="",this._isLoaded=!1,e?(this._sendTimingsOnLoad=!1,this._blocks=e,ns.events.on("ns-page-before-load",this._onPageBeforeLoad.bind(this))):this._sendTimingsOnLoad=!0,this._onLoad=this._onLoad.bind(this),window.addEventListener("load",this._onLoad),this._handleFirstLoad=o.default.once(this._handleFirstLoad.bind(this))},reachBlock:function(t){return t===this._blockName&&this._findBlock(ns.page.current)===t?(this._isBlockReached=!0,!0):!1},collectTimings:function(t){this._blockName&&(this._collectedTimings.push(t),this._isBlockReached&&this._finishCollectTimings())},addCommonParams:function(t){Object.assign(this._commonParams,t)},_getPerformanceTiming:function(){return window.performance&&window.performance.timing||null},_getPerformanceNavigation:function(){return window.performance&&window.performance.navigation||null},_supportsNavigationTimingAPI:function(){return null!==this._getPerformanceNavigation()&&null!==this._getPerformanceTiming()},_onLoad:function(){var t=this;this._isLoaded=!0,this._sendTimingsOnLoad&&!this._sendNavigationTimingsWithNextReachedBlock&&setTimeout(function(){t._logTimings(t._getNavigationTimings())},100),window.removeEventListener("load",this._onLoad)},_onPageBeforeLoad:function(t,e,n){var r=a(e,2);r[0];var i=r[1];if(n!==this._lastUrl){this._lastUrl=n,this._sendTimingsOnLoad=!0;var s=this._findBlock(i);s&&this._startCollectTimings(s),this._handleFirstLoad(s)}},_handleFirstLoad:function(t){this._supportsNavigationTimingAPI()&&(t?this._sendNavigationTimingsWithNextReachedBlock=!0:this._isLoaded&&this._logTimings(this._getNavigationTimings()))},_startCollectTimings:function(t){this._factTimeStart=new Date,this._collectedTimings=[],this._blockName=t,this._isBlockReached=!1},_finishCollectTimings:function(){var t=new Date,e={allTime:0,requestsTime:0,requestsCount:0,selfTime:0,updatesCount:this._collectedTimings.length,factTime:t-this._factTimeStart};this._collectedTimings.forEach(function(t){Object.keys(t).forEach(function(n){"full"===n?e.allTime+=t[n]:0===n.indexOf("requestModels")&&(e.requestsTime+=t[n],e.requestsCount++)})}),e.selfTime=e.allTime-e.requestsTime,e.factSelfTime=e.factTime-e.requestsTime,this._logTimings(Object.assign({blockName:this._blockName,event:"block_render"},this._commonParams,e)),this._sendNavigationTimingsWithNextReachedBlock&&(this._logTimings(Object.assign({mainBlockShow:t.getTime(),blockName:this._blockName},this._getNavigationTimings())),this._sendNavigationTimingsWithNextReachedBlock=!1),this._blockName="",this._isBlockReached=!1},_getNavigationTimings:function(){return Object.assign({event:"load"},this._commonParams,l("tm.",this._getPerformanceTiming()),l("nav.",this._getPerformanceNavigation(),/^[A-Z]/))},_logTimings:function(t){c(function(){i.log(t)})},_findBlock:function(t){var e=this;return Object.keys(this._blocks).find(function(n){return e._blocks[n](t)})}};n.default=d}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../log":58}],67:[function(t,e,n){!function(t){"use strict";function e(t){return t&&t.__esModule?t:{"default":t}}function r(t){var e=t.loc.split(d),n=o.default.Children.toArray(t.children),r=i(e,n);return 1===r.length&&o.default.isValidElement(r[0])?r[0]:o.default.createElement("span",null,r)}function a(t,e,n){var r=this.constructor.displayName.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),a=[r,t?p+t:e?" "+r:"",e?m+e:"",n?m+n:"",this.props.className?" "+this.props.className:""];return a.join("")}function i(t,e){for(var n=t.length,r=[],a=0;n>a;a++){var s=t[a],c=e[s[1]];if(u.test(s))r.push(c);else if(f.test(s)){for(var d=n-1;t[d]!==s;)d--;if(a===d){r.push(c);continue}c=o.default.cloneElement(c,l.default.omit(c.props,["key","ref"]),i(t.slice(a+1,d),e)),r.push(c),a=d}else r.push(s)}return r}Object.defineProperty(n,"__esModule",{value:!0}),n.refClassName=n.bemifyClassName=void 0,n.I18N=r;var s="undefined"!=typeof window?window.React:"undefined"!=typeof t?t.React:null,o=e(s),c="undefined"!=typeof window?window._:"undefined"!=typeof t?t._:null,l=e(c),d=/(\x1d\d~?\x1d)/,u=/^\x1d\d\x1d$/,f=/^\x1d\d~\x1d$/,p="__",m="_";n.bemifyClassName={bemClassName:a,bx:a},n.refClassName={refClassName:function(t){return function(e){e&&e.block.setMod(t,!0)}}},r.$1="0",r.$2="1",r.$3="2",r.$4="3",r.$5="4",r.$6="5",r.$7="6",r.$8="7",r.$9="8",r.$1_CLOSE=r.$1_OPEN="0~",r.$2_CLOSE=r.$2_OPEN="1~",r.$3_CLOSE=r.$3_OPEN="2~",r.$4_CLOSE=r.$4_OPEN="3~",r.$5_CLOSE=r.$5_OPEN="4~"}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],68:[function(t,e){!function(n){"use strict";var r="undefined"!=typeof window?window._:"undefined"!=typeof n?n._:null,a=t("helpers/path"),i=t("helpers/uri"),s=t("helpers/environment"),o=t("models/user-current/user-current"),c=t("consts"),l=t("config");t("models/settings/settings");var d=ns.Model.get("settings"),u=o.get(".foldersDefault.social"),f=t("./dicts/apps"),p=t("./dicts/icons"),m=e.exports={};m.create=function(t,e){var n=ns.Model.get("resource",{id:a.normalize(t.id)}).setData(t);return e&&e.silent||n.notifyCreated(e),n},m.createPart=function(t,e){var t=r.clone(t);return no.jpath.set(".state.part",t,!0),m.create(t,e)},m.getIdUnique=function(t,e){var n=e?t+"_"+e:t,r=ns.Model.getValid("resource",{id:n});return r?(e=e?e+1:1,m.getIdUnique(t,e)):n},m.getParents=function(t){for(var e=[];t=a.dirname(t);)e.unshift({id:t,name:m.getAlias(t)});return e},m.getAlias=function(t){return"/disk"===t?"Яндекс.Диск":a.basename(t)},m.updateParentsOf=function(t){var e=a.dirname(t),n=r.isNull(a.dirname(e));if(!n){var i=ns.Model.getValid("resource",{id:e});i&&i.fetch(),m.updateParentsOf(e)}},m.preprocess=function(t){t.id=a.normalize(t.id),t.name=t.name||a.basename(t.id),t.isInTrash=0===t.id.indexOf("/trash/"),t.isInAttach=0===t.id.indexOf("/attach/"),t.isVisitable=!("dir"!==t.type||t.isInTrash||t.state&&t.state.part),t.ext=t.ext||a.extname(t.name).slice(1).toLowerCase(),no.jpath(".meta.group",t)&&r.extend(t.meta.group,{readonly:640===t.meta.group.rights,readwrite:660===t.meta.group.rights,in_readonly:640===t.meta.group.rights&&!t.meta.group.is_root,in_shared:!t.meta.group.is_root}),t.parents||(t.parents=m.getParents(t.id));var e=no.jpath(".meta.original_parent_id",t);e&&(t.parentsOriginal=m.getParents(a.join(e,t.name))),"file"===t.type?(t.icon=m.getIconFile(t),t.app=m.getAppFile(t)):t.icon=m.getIconFolder(t);var n=["document","video","image","book"];t.hasPreview=!1,t.meta&&r.contains(n,t.meta.mediatype)&&(t.hasPreview=!!t.meta.sizes),no.jpath(".meta.sizes",t)&&r.each(t.meta.sizes,function(t){t.url=m.preprocessPreview(t.url)}),no.jpath(".meta.short_url",t)&&(t.meta.short_url=m.fixShortUrl(t.meta.short_url)),t.isExportable=no.jpath(".state.part",t)?"file"===t.type&&-1!==["jpg","png"].indexOf(t.icon):"file"===t.type&&t.meta&&"image"===t.meta.mediatype&&t.meta.sizes&&-1!==["image/jpeg","image/png"].indexOf(t.meta.mimetype);
var s=Boolean(no.jpath(".meta.office_online_url",t));return t.isEditable=t.isExportable||s,t.isTabletEditable=s,t.isAvailableToAlbum="file"===t.type&&a.isParent("/disk",t.id)&&t.meta&&("video"===t.meta.mediatype||"image"===t.meta.mediatype&&t.hasPreview),0===t.id.indexOf("/public")&&(t.groupPublic=m.getNameGroupPublic(t)),0===t.id.indexOf("/public")&&s&&(t.meta.office_online_url=i.addParams(t.meta.office_online_url,{source:"copy-public-edit"}),t.meta.office_online_url=i.replaceTld(t.meta.office_online_url,l.data.tld)),t},m.preprocessPreview=function(t){return t=m.replaceTld(t),t=i.addPrefixDownloader(t),t=i.cutProto(t)},m.fixShortUrl=function(t){return t=t.replace(/^http:/,"https:"),"production"!==l.environment&&(t=t.replace(/^https:\/\/[^\/]+/,l.domains.public)),t},m.replaceTld=function(t){return i.replaceTld(t,l.tld)},m.getIconFile=function(t){var e=t.meta&&2===t.meta.drweb,n="."+t.ext,r=t.meta&&t.meta.mediatype||"";return e&&p.virus||p.extnames[n]||p.mediatypes[r]||p.default},m.getIconFolder=function(t){var e="dir",n=m.isSocialFolder(t),r=no.jpath(".meta.group.is_shared && 1 == .meta.group.is_root",t);return"/disk"===t.id?e="root":"/trash"===t.id?e="trash":r?e="shared":t.id===u?e="social":n?(e=m.getIconSocial(t),r&&(e+="-shared")):m.isCamera(t.id)?e="photostream":m.isScreenshots(t.id)&&(e="screenshots"),e},m.getAppFile=function(t){var e=a.extname(t.name).toLowerCase(),n=t.meta&&t.meta.mimetype,i=t.meta&&t.meta.mediatype,o=t.meta&&t.meta.sizes;if(t.isInTrash)return null;if(t.state&&t.state.part)return null;if("video"===i&&s.canPlayVideo()&&!a.isParent("/mail",t.id))return"slider";if("image"===i&&o)return a.isParent("/mail",t.id)?"docviewer":"slider";var c=r.reduce(f,function(t,a,i){return r.contains(a.mimetypes,n)||r.contains(a.extnames,e)?i:t},null);return c&&a.isParent("/narod",t.id)&&!d.get(".narodMigrated")?null:c},m.isCamera=function(t){return o.get(".foldersDefault.photostream")===t},m.isScreenshots=function(t){return o.get(".foldersDefault.screenshots")===t},m.isNameInvalid=function(t){return t.indexOf("/")>-1},m.getIconSocial=function(t){return t.meta&&t.meta.folder_type},m.preprocessIdREST=function(t){return t.replace(/^disk:/,"/disk")},m.isSocialFolder=function(t){return t.meta&&-1!==c.TYPE_FOLDER_SOCIAL.indexOf(t.meta.folder_type)},m.isInsideFolderSocial=function(t){return a.isParent(u,t)&&u!==a.dirname(t)},m.isSocialOrDescendant=function(t){return u===t||a.isParent(u,t)},m.isInsideFolderCamera=function(t){return a.isParent(o.get(".foldersDefault.photostream"),t)},m.getIdInvite=function(t,e){return a.join("disk","."+t+"-"+e)},m.inviteToResource=function(t){return{id:m.getIdInvite(t.hash,t.folder_name),name:t.folder_name,ctime:t.ctime,type:"dir",meta:{size:t.size,group:{is_root:1,gid:t.gid,owner:{username:t.owner_name,uid:t.owner_uid}}},invite:r.pick(t,"rights","status","hash")}},m.getNameGroupPublic=function(t){if("dir"===t.type)return"folder";var e=t.meta&&t.meta.mediatype;return"video"===e?"image":"image"===e&&t.meta.sizes?"image":"file"}}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./dicts/apps":47,"./dicts/icons":48,config:40,consts:41,"helpers/environment":52,"helpers/path":65,"helpers/uri":74,"models/settings/settings":147,"models/user-current/user-current":159}],69:[function(t,e){!function(t){"use strict";function n(t,e){try{this.unitNames=t||["байт","КБ","МБ","ГБ","ТБ"],this.separator=e||","}catch(n){}this.format=this.format.bind(this)}function r(t,e,n){this.bytes=t,this.unitNames=e,this.separator=n,this.units="best unit",this.fixed=!1,this.withUnit=!0,this.withNumber=!0,this.calculation="precise"}function a(t){for(var e=b.length;e>=0;e--){var n=b[e];if(i(t,n))return n}return b[0]}function i(t,e){return t>=e}function s(t,e){var n;return n="best unit"===e?a(t):e,t/=n,{number:t,unit:n}}function o(t,e,n){var r=t;if(void 0!==e)if(n)r=t.toFixed(e);else{var a=Math.pow(10,e);r=(Math.round(t*a)/a).toString()}return r}function c(t){return t.replace(/\.[0-9]*/,"")}function l(t,e){var n=c(t),r=t.replace(/[0-9]*\.?/,"").slice(0,e);return n+(0!==r?"."+r:"")}function d(t,e,n,r,a){if(!r)switch(e){case"length":var i=c(t).length;t=l(t,a>=i?a-i:0);break;case"precise":m>=n&&(t=l(t,0)),n===h&&(t=l(t,1)),n>=v&&(t=l(t,2));break;case"rough":(n===m||n===h||n===v&&c(t)>=100)&&(t=l(t,0)),n===v&&(t=l(t,1))}return t}var u="undefined"!=typeof window?window._:"undefined"!=typeof t?t._:null,f=Math.pow(2,53)-1;n.prototype={create:function(t,e){return new n(t,e)},format:function _(t){t=Math.floor(parseFloat(t,10)),(0>t||t>f||isNaN(t))&&(t=0);for(var e=new r(t,this.unitNames,this.separator),n=u.toArray(arguments).slice(1),a=0,i=n.length;i>a;a++){var _=n[a];if("precision"===_||"length"===_){var s=parseInt(n[a+1],10);isNaN(s)||(e.format(_,s),a++)}else e.format(_)}return e.getString()}};var p=1,m=1024,h=1024*m,v=1024*h,y=1024*v,b=[p,m,h,v,y],g={"best unit":function(){this.units="best unit"},GB:function(){this.units=v},MB:function(){this.units=h},KB:function(){this.units=m},fixed:function(){this.fixed=!0},"float":function(){this.fixed=!1},"int":function(){this.precision=0},precision:function(t){this.precision=t},number:function(){this.withUnit=!1},unit:function(){this.withNumber=!1},precise:function(){this.calculation="precise"},rough:function(){this.calculation="rough"},length:function(t){this.calculation="length",this.length=t}};r.prototype.format=function(){var t=u.toArray(arguments);if(t.length){var e=t[0],n=t.slice(1);"function"==typeof g[e]&&g[e].apply(this,n)}return this},r.prototype.getString=function(){var t=s(this.bytes,this.units),e=this.getNumber().toString();return e=this.localize(e,t.unit,this.withUnit,this.withNumber).replace(".",this.separator)},r.prototype.getNumber=function(){var t=s(this.bytes,this.units),e=d(t.number.toString(),this.calculation,t.unit,this.precision,this.length);return e=o(parseFloat(e,10),this.precision,this.fixed)},r.prototype.getUnit=function(){return this.localizeUnit(s(this.bytes,this.units).unit)},r.prototype.localizeUnit=function(t){for(var e=0,n=b.length;n>e;e++)if(t===b[e])return this.unitNames[e]},r.prototype.localize=function(t,e,n,r){return n&&r?t=t+" "+this.localizeUnit(e):r||(t=this.localizeUnit(e)),t},e.exports=new n}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],70:[function(t,e){!function(n){"use strict";var r="undefined"!=typeof window?window._:"undefined"!=typeof n?n._:null,a=t("./format");e.exports={capitalize:function(t){return"string"==typeof t&&t.length?t.charAt(0).toUpperCase()+t.slice(1):t},isEmail:function(t){var e=/^[-a-zа-яё0-9!#$%&'*+\/=?^_`{|}~]+(?:\.[-a-zа-яё0-9!#$%&'*+\/=?^_`{|}~]*)*@(?:[a-zа-яё0-9]([-a-zа-яё0-9]{0,61}[a-zа-яё0-9])?\.)+(?:aero|arpa|asia|biz|cat|com|coop|edu|gov|info|int|jobs|mil|mobi|museum|name|net|org|pro|tel|travel|рф|[a-z]{2})$/i;return e.test("string"==typeof t&&t.toLowerCase())},getUnique:function(){var t=null,e=1;return function(){var n=a.timestampToDate(Date.now()/1e3,"YYYY-MM-DD HH-mm-ss"),r=n;return n===t?(r=n+" ("+e.toString()+")",e+=1):e=1,t=n,r}}(),crop:function(t,e,n){return e=parseInt(e,10)||27,n=r.isUndefined(n)?"…":n,e+=Math.floor(.6*(t.match(/i|I|l|j/g)||[]).length),t.length>e?t.substring(0,e).trim().replace(/(\.{1,3})$/g,"")+n:t},processHashResource:function(t){var e=t.split(":/"),n=e.length>1?":/"+e.slice(1).join(":/"):"";return e[0].replace(/\s/g,"+")+n},breakNumber:function(t){for(var e=String(t)||"0",n=e.length,r=n%3||3,a=[];e.length;)a.push(e.substring(0,r)),e=e.substring(r),r=3;return a},createId:function(){var t={},e=1;return function(n){return t[n]||(t[n]=e++),t[n]}}()}}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./format":53}],71:[function(t,e){!function(n){"use strict";var r=t("helpers/metrika"),a=$(window),i="undefined"!=typeof window?window._:"undefined"!=typeof n?n._:null,s=1e3,o=60*s,c=function(t){this.options=t,i.bindAll(this,"start","stop","_tick"),this._bindEvents()};c.prototype.destroy=function(){this.stop(),this._unbindEvents(),this.start=no.nop,this.stop=no.nop},c.prototype.start=function(){this._idTimer||(this._idTimer=window.setInterval(this._tick,s))},c.prototype.stop=function(){window.clearInterval(this._idTimer),this._idTimer=null},c.prototype._request=function(t){r.count.apply(r,t)},c.prototype._tick=function(){return this._stepCurrent>this.options.max?this.destroy():(0===this._stepCurrent%this.options.step&&this._request([this._prefixMetrika,this._stepCurrent/s]),this._stepCurrent+=s,void 0)},c.prototype._bindEvents=function(){a.on("blur",this.stop),a.on("focus",this.start)},c.prototype._unbindEvents=function(){a.off("blur",this.stop),a.off("focus",this.start)},c.prototype._prefixMetrika="time-info",c.prototype._idTimer=null,c.prototype._stepCurrent=0,e.exports=new c({step:5*s,max:15*o})}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"helpers/metrika":60}],72:[function(t,e){"use strict";e.exports={getDifferenceInDays:function(t,e){return Math.abs(Math.floor((t-e)/60/60/24))}}},{}],73:[function(t,e){"use strict";e.exports={scaleDimensionsToArea:function(t,e){var n=t[0]/t[1],r=e[0]/e[1];return r>n?[Math.round(t[0]*e[1]/t[1]),e[1]]:[e[0],Math.round(t[1]*e[0]/t[0])]}}},{}],74:[function(t,e){"use strict";var n=t("url");e.exports={cutProto:function(t){return t.replace(/^(https:|http:)/,"")},replaceTld:function(t,e){var n=t.match(/(?:(?:https?\:)?\/\/)?[^\/]*/g)[0],r=n.replace(/(\w+|com\.tr)$/,e);return t.replace(n,r)},getLocaleInvite:function(t){var e="ru";return"com.tr"===t?e="tr":"com"===t?e="en":"ua"===t&&(e="uk"),e},getHost:function(t){return n.parse(t).hostname},makeRelative:function(t){return t=t.replace(/^(https:|http:)/,"").replace(/^\/\//,""),"/"+t.split("/").slice(1).join("/")},addPrefixDownloader:function(t){function e(t){for(var e=0,n=0,r=t.length;r>n;n++){var a=t.charCodeAt(n);e=(e<<5)-e+a,e|=0}return e>>>=0}if(/^(https?:)?\/\/downloader\.(dst|disk)\.yandex\./.test(t)){var n=e(t)%4+1;return t.replace(/^(.*?\/\/)/,"$1"+n+".")}return t},replaceParam:function(t,e,r){var a=n.parse(t,!0);return a.query[e]=r,a.search="",n.format(a)},addParams:function(t,e){var r=n.parse(t,!0);for(var a in e)e.hasOwnProperty(a)&&(r.query[a]=e[a]);return r.search="",n.format(r)},mergeSlashes:function(t){return t.replace(/([^:\/]|^)\/{2,}/g,"$1/")}}},{url:5}],75:[function(t,e){!function(t){"use strict";if(t.window){var n,r,a="onorientationchange"in window?"orientationchange":"resize";"matchMedia"in window?(window.matchMedia("(orientation: portrait)").matches&&(n=window.innerWidth,r=window.innerHeight),window.matchMedia("(orientation: landscape)").matches&&(n=window.innerHeight,r=window.innerWidth)):(n=Math.min(window.innerWidth,window.innerHeight),r=Math.max(window.innerWidth,window.innerHeight)),e.exports={nameEventOrientation:a,deviceWidth:n,deviceHeight:r}}}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],76:[function(t,e){"use strict";t("views/app/app"),t("views/panes/content-error/content-error"),t("views/page-error/page-error"),t("views/header/header"),t("views/forms/form-search/form-search"),t("views/footer-public/footer-public"),e.exports=ns.layout.define("error-public",{app:{"layerApp@":{contentError:{header:!0,pageError:!0}},"layerWdg@":{},"layerModal@":{},"layerAuth@":{},"boxFooterPublic@":{}}})},{"views/app/app":196,"views/footer-public/footer-public":213,"views/forms/form-search/form-search":214,"views/header/header":215,"views/page-error/page-error":221,"views/panes/content-error/content-error":222}],77:[function(t){"use strict";t("layouts/public"),t("views/file-public/file-public"),t("views/player-video/player-video"),t("views/player-audio-public/player-audio-public");var e=t("helpers/page");ns.layout.define("file-public",{"app layerApp@ contentPublic content@":function(t){if(!t.poster){var n={filePublic:{}},r=ns.Model.get("resource",{id:t.idRoot}),a=r.get(".error.id");return a&&0===a.indexOf("HTTP_50")&&(e.go("/public/error","preserve"),r.invalidate()),"player"===r.get(".app")&&(n.filePublic.playerAudioPublic=!0),"video"===r.get(".meta.mediatype")&&(n.filePublic["boxVideoPublic@"]={"playerVideo&":!0}),n}}},"public")},{"helpers/page":64,"layouts/public":78,"views/file-public/file-public":212,"views/player-audio-public/player-audio-public":224,"views/player-video/player-video":225}],78:[function(t){!function(e){"use strict";function n(){var t=ns.Model.get("config");return{header:!0,notifications:!0,asidePublic:function(e){var n={infoPublic:!0};return e.isBlocked||(t.get(".commentsDisabled")?n.commentsStub=!0:n["commentsWrapper&"]={commentsHeader:{likes:!0,dislikes:!0},comments:!0}),n},"boxSlices@":function(){return ns.Model.get("userCurrent").get(".hasDisk")?{slices:{"sliceShared&":!0}}:void 0},"content@":{}}}t("views/app/app"),t("views/panes/content-public/content-public"),t("views/aside-public/aside-public"),t("views/info-public/info-public"),t("views/comments/header"),t("views/comments/comments"),t("views/comments/stub"),t("views/comments/wrapper"),t("views/header/header"),t("views/forms/form-search/form-search"),t("views/dialogs/dialog-auth/dialog-auth"),t("views/dialogs/dialog-auth/dialog-auth-copy"),t("views/fetch/resource"),t("views/notifications/notifications"),t("views/footer-public/footer-public"),t("views/slices/slice-link-mail/slice-link-mail"),t("views/slices/slice-shared/slice-shared"),t("views/slices/slices"),t("views/direct-content-public/direct-content-public"),t("views/direct-content-public/direct-content-public-image"),t("views/direct-aside-public/direct-aside-public"),t("views/direct-aside-public/direct-aside-public-image"),t("views/public-resource-info-row/public-resource-info-row"),t("views/public-resource-info-aside/public-resource-info-aside"),t("models/states/state-dialog-auth"),t("models/user-current/user-current"),t("models/config/config");var r="undefined"!=typeof window?window._:"undefined"!=typeof e?e._:null;ns.layout.define("public",{app:{"layerApp@":function(t){if(t.poster)return{contentPublic:n()};var e={"boxCrumbs@":{}},a=ns.Model.get("resource",{id:t.idRoot}),i=ns.Model.get("config"),s=ns.Model.get("environment");return s.get(".agent.hasAdblock")?(e.publicResourceInfoRow=!0,e.publicResourceInfoAside=!0):"image"===a.get(".meta.mediatype")&&i.get(".directCVPublic")?(e.directContentPublicImage=!0,e.directAsidePublicImage=!0):(e.directContentPublic=!0,e.directAsidePublic=!0),{contentPublic:r.extend(n(),e)}},"layerWdg@":function(){return"notifications"},"layerModal@":function(){},"layerAuth@":function(){var t=ns.Model.get("stateDialogAuth");return t.get(".isOpen")?t.get(".idResource")?"dialogAuthCopy":"dialogAuth":void 0},"boxFooterPublic@":function(){return{footerPublic:!0}}}})}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"models/config/config":104,"models/states/state-dialog-auth":152,"models/user-current/user-current":159,"views/app/app":196,"views/aside-public/aside-public":197,"views/comments/comments":201,"views/comments/header":202,"views/comments/stub":203,"views/comments/wrapper":204,"views/dialogs/dialog-auth/dialog-auth":206,"views/dialogs/dialog-auth/dialog-auth-copy":205,"views/direct-aside-public/direct-aside-public":208,"views/direct-aside-public/direct-aside-public-image":207,"views/direct-content-public/direct-content-public":210,"views/direct-content-public/direct-content-public-image":209,"views/fetch/resource":211,"views/footer-public/footer-public":213,"views/forms/form-search/form-search":214,"views/header/header":215,"views/info-public/info-public":219,"views/notifications/notifications":220,"views/panes/content-public/content-public":223,"views/public-resource-info-aside/public-resource-info-aside":228,"views/public-resource-info-row/public-resource-info-row":229,"views/slices/slice-link-mail/slice-link-mail":230,"views/slices/slice-shared/slice-shared":231,"views/slices/slices":232}],79:[function(t,e){!function(t){"use strict";function n(t,e){return null!=e&&e[Symbol.hasInstance]?e[Symbol.hasInstance](t):t instanceof e}function r(t,e){return g?g:n(this,r)?(g=this,this.hasAuth=!!e,this.findingAuthStatus=!1,this.config={},this.update(t),void 0):new r(t,e)}function a(t){t=t||{};var e=this.config;e.passportHost=t.passportHost||e.passportHost||p(),e.authRetpath=t.authRetpath||e.authRetpath||"/auth.html",e.yandexuid=t.yandexuid||e.yandexuid||m()}function i(t){var e=this;if(t=t||{},this.loginDefer)return this.loginDefer;var n=this.loginDefer=$.Deferred();if(n.then(function(t){e.loginDefer=null,e.idkey=null,e.hasAuth=!0,e.trigger("login",t)},function(t){e.loginDefer=null,t.idkey&&(e.idkey=t.idkey),"internal-exception"===t.status&&(e.idkey=null),e.hasAuth=!1,e.trigger("authError",t)}),this.hasAuth)return n.resolve({status:"ok"});if(!t.login)return n.reject({status:"login-empty"});if(!t.password)return n.reject({status:"password-empty"});var r=this.config.passportHost+_;return o.call(this,r,t,function(t){n.resolve(t)},function(t){n.reject(t)}),n.promise()}function s(t){var e=this;if(this.switchDefer)return this.switchDefer;var n=this.switchDefer=$.Deferred();if(!this.hasAuth)return n.reject({status:"no-auth"});n.then(function(t){e.switchDefer=null,e.idkey=null,e.trigger("login",t)},function(t){e.switchDefer=null,t.idkey&&(e.idkey=t.idkey),"internal-exception"===t.status&&(e.idkey=null),e.trigger("authError",t)});var r=this.config.passportHost+_,a={uid:t,action:"change_default",yu:this.config.yandexuid};return o.call(this,r,a,function(t){n.resolve(t)},function(t){n.reject(t)}),n.promise()}function o(e,n,r,a){var i="auth"+Math.floor(987654*Math.random());n.retpath=this.config.authRetpath,"/"===n.retpath[0]&&(n.retpath=location.protocol+"//"+location.host+n.retpath),n.idkey=this.idkey;var s=h(n,e,i),o=v(i);$("body").append(s).append(o),t[i]=function(e){s.remove(),o.remove(),delete t[i],e=y(e),"ok"===e.status?r(e):a(e)},s.submit()}function c(){this.hasAuth=!1,this.trigger("logout")}function l(t,e){var n=this.config.passportHost+w;return this.config.from&&(n+="&from="+encodeURIComponent(this.config.from)),n+="&retpath="+b(t),e?n:(location.href=n,void 0)}function d(t,e){var n=this.config.passportHost+x;return this.config.from&&(n+="&from="+encodeURIComponent(this.config.from)),n+="&retpath="+b(t),e?n:(location.href=n,void 0)}function u(t,e){var n=this.config.passportHost+k;return n+="&yu="+encodeURIComponent(this.config.yandexuid),n+="&retpath="+b(t),n+="&clean=yes",e?n:(location.href=n,void 0)}function f(t,e){function n(){d++;var n=t[d];return n?(n=n+"?"+$.param(e),c.attr("action",n).submit(),void 0):(i.reject(l||{status:"noauth"}),void 0)}function r(e){return e.url=t[d],!l&&e&&"nocookie"!==e.status&&(l=e),e&&"ok"===e.status?(i.resolve(e),void 0):(n(),void 0)}var a=this,i=$.Deferred(),s="__findAuthStatus"+String(Math.random()).slice(2),o=v(s).appendTo("body");this.findingAuthStatus=!0,i.done(function(){a.hasAuth=!0}).always(function(t){a.findingAuthStatus=!1,o.remove(),$(window).off("message."+s),a.trigger("auth-status",t)});var c=$("<form method=POST>").attr({target:s}).hide().appendTo("body");$(window).on("message."+s,function(e){e=e.originalEvent;for(var n=!1,a=0;a<t.length;a++)if(0===t[a].indexOf(e.origin)){n=!0;break}if(n&&0===e.data.indexOf(s)){var i=JSON.parse(e.data.slice(s.length));r(i)}});var l,d=-1;return e=$.extend({urlOrigin:location.toString()},e),n(),i.promise()}function p(){var t=location.host.split(".").pop();if("net"===t)throw Error("Bad domain");return"tr"===t&&(t="com.tr"),"https://passport.yandex."+t}function m(){for(var t=document.cookie.split("; "),e=0;e<t.length;e++)if(0===t[e].indexOf("yandexuid="))return t[e].slice(10);return""}function h(t,e,n){for(var r=$("<form method=POST>").attr({action:e,target:n}).hide(),a=0;a<A.length;a++){var i=A[a];t[i]&&$("<input>").attr("name",i).val(t[i]).appendTo(r)}return r}function v(t){return $("<iframe>").attr("name",t).hide()}function y(t){var e={};t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].match(/([^=]+)=(.*)/);"ncrnd"!==r[1]&&(e[r[1]]=r[2])}return e}function b(t){return t&&"/"===t[0]&&(t=location.protocol+"//"+location.host+t),encodeURIComponent(t||location)}var g,_="/passport?mode=embeddedauth",w="/passport?mode=register",x="/passport?mode=restore",k="/passport?mode=logout";no.extend(r.prototype,ns.Events,{update:a,login:i,switchAccount:s,logout:c,register:l,restore:d,exit:u,findAuthStatus:f});var A=["login","password","retpath","idkey","captcha_answer","twoweeks","uid","action","yu"];e.exports=r}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],80:[function(){"use strict";try{var t=$("#models-client").text()||"[]";ns._models_preloaded=JSON.parse(t)}catch(e){}},{}],81:[function(){!function(t){"use strict";function e(t,e,n){[].slice.call(t).forEach(function(t){nb.block(t).on(e,n)})}function n(t,e,n){[].slice.call(t).forEach(function(t){nb.block(t).off(e,n)})}t.nb.bindTo=e,t.nb.unbindTo=n,t.nb.findBlocks=function(e,n){n||(n=t.document);var r=n.querySelectorAll(e);return[].slice.call(r).map(function(t){return nb.block(t)})}}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],82:[function(t){!function(e){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}var r=t("helpers/performance"),a=n(r);t("noscript-react");var i="undefined"!=typeof window?window._:"undefined"!=typeof e?e._:null,s=t("config"),o=t("helpers/path"),c=t("helpers/uri"),l=t("routers/public"),d=t("helpers/page");ns.log.error=function(t,e){(ns.DEBUG||no.de)&&console.error("ns.log.error",t,e)},ns.log.exception=function(t,e){(ns.DEBUG||no.de||"dev"===s.environment)&&console.error("ns.log.exception",t,no.de?e.stack:e)},ns.todo=function(t,e){if((ns.DEBUG||no.de||"dev"===s.environment)&&!e)throw new Error(t||"Unimplemented")},ns.View.prototype.hasErrorFatalModels=function(t){Array.isArray(t)||(t=[t]);var e=!1;return t.forEach(function(t){var n=t.getData().error;return n&&n.id&&0===n.id.indexOf("HTTP_50")?(e=!0,!0):void 0}),e},ns.View.prototype.getViewChild=function(t){return this.views?i.findWhere(this.views,{params:t}):void 0},ns.View.prototype.updateView=function(){this.invalidate(),this.isVisible()&&d.update()},ns.Model.prototype.fetch=function(){return t("models/queues/queue-sync"),ns.Model.get("queueSync").push(this)},ns.Model.prototype.updateData=function(t){this.setData(i.merge({},this.getData(),t||{}))},ns.Model.prototype.setDataDefault=function(){var t=this.info.defaults;return t="function"==typeof t?t.call(this):t,this.setData(i.merge({},t||{}))},ns.page.getCurrentUrl=function(){return c.mergeSlashes(window.history.location.pathname)+window.history.location.search};var u=ns.router.generateUrl;ns.router.generateUrl=function(t,e){var n=e.idContext?o.getIdApp(e.idContext):"client",r=l.parseUrl(ns.page.currentUrl);return-1!==["album","public"].indexOf(n)?l.formatUrl(i.extend({prefix:r.prefix},e)):u.apply(this,arguments)},ns.Update.prototype.perf=function(t){a.default.collectTimings(t)},ns.history&&(ns.history._onAnchorClick=function(t){var e=t.currentTarget;if(t.altKey||t.ctrlKey||t.metaKey||t.shiftKey)return!0;if(e.protocol&&!/^https?:/.test(e.protocol))return!0;if(e.hostname&&e.hostname!==window.location.hostname)return!0;if(ns.router.baseDir){var n=e.pathname,r=ns.router.baseDir;if(n.substr(0,r.length)!==r)return!0}var a=e.getAttribute("href");if(!a||e.getAttribute("target"))return!0;var i=ns.history.followAnchorHref(a,e);return Vow.isPromise(i)?(t.preventDefault(),!0):void 0}),t("helpers/noscript").extendRouterRegs(ns)}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{config:40,"helpers/noscript":61,"helpers/page":64,"helpers/path":65,"helpers/performance":66,"helpers/uri":74,"models/queues/queue-sync":127,"noscript-react":8,"routers/public":194}],83:[function(){"use strict";document.attachEvent&&document.attachEvent("onpropertychange",function(t){var e=window.location.hash,n=document.title.replace(e,"");"title"===t.propertyName&&e&&-1!==document.title.indexOf(e)&&setTimeout(function(){document.title=n},0)})},{}],84:[function(t){"use strict";var e=t("helpers/animate");!function(t){function n(e){var n=t(e.target);n.hide();var r=document.elementFromPoint(e.clientX,e.clientY);n.show(),t(r).trigger(e.type)}t.fn.serialize2Object=function(){var e={};return t.each(this.serializeArray(),function(n,r){var a=r.name,i=r.value;e[a]=void 0===e[a]?i:t.isArray(e[a])?e[a].concat(i):[e[a],i]}),e};var r=e.nameEventTransition,a=e.nameEventTransitionEnd,i=e.getSupportedPropertyName("transform");t.fn.transform=function(t){return this.each(function(){if(""===this.style[i]&&(this.style[i]="translate3d(0,0,0) scale(1)"),t.duration){var e=function(){this.style[r]="",this.removeEventListener(a,e),clearTimeout(n),t.done&&t.done()}.bind(this);this.style[r]="all "+t.duration+"ms",this.addEventListener(a,e);var n=setTimeout(e,t.duration)}this.style[i]=this.style[i].replace(/(translate3d[^\)]+\)\s).*(scale[^\)]+\))/,function(e,n,r){return t.translate&&(n="translate3d("+t.translate.x+"px,"+t.translate.y+"px,0) "),"undefined"!=typeof t.scale&&(r="scale("+t.scale+") "),n+r})}),t.css&&this.css(t.css),this};var s=ns.V.EVENTS.click+" "+ns.V.EVENTS.dblclick;t.fn.pointerEvents=function(t){return"pointerEvents"in document.documentElement.style?(this.css("pointer-events",t),this):("none"===t&&this.on(s,n),"auto"===t&&this.off(s,n),this)},t.fn.repaint=function(){return this.each(function(){this.offsetHeight}),this}}(jQuery)},{"helpers/animate":43}],85:[function(t){"use strict";var e=t("environment"),n=t("swfobject");Modernizr.addTest("videostream",function(){if(n.hasFlashPlayerVersion("9.0.0")&&"iOS"!==e.agent.OSFamily)return"flv";var t=document.createElement("video");try{if(t.canPlayType("application/vnd.apple.mpegURL"))return"hls";if(t.canPlayType("video/webm"))return"webm"}catch(r){}return!1}),Modernizr.addTest("audiomp3",function(){var t=document.createElement("audio");try{return!!t.canPlayType("audio/mpeg;").replace(/no/,"")}catch(e){return!1}}),Modernizr.addTest("isMobile",function(){return e.agent.isMobile}),Modernizr.addTest("uploader",function(){return window.FormData?"html5":n.hasFlashPlayerVersion("10.0.0")?"flash":!1}),Modernizr.addTest("uploaddrag",function(){return Modernizr.draganddrop&&Modernizr.filereader}),Modernizr.addTest("folderupload",function(){var t=parseInt(e.agent.BrowserBaseVersion,10);return"Chromium"===e.agent.BrowserBase&&t>=21}),Modernizr.addTest("webkit",function(){return new RegExp(" AppleWebKit/").test(navigator.userAgent)}),Modernizr.addTest("clipboard",function(){var t=!1;try{document.queryCommandSupported("copy")&&(document.queryCommandEnabled("copy"),t=!0)}catch(e){}return t})},{environment:42,swfobject:195}],86:[function(t,e){!function(n){"use strict";function r(t){this.id="broker_"+f++,this.params=c.defaults(t,u.params)}function a(t){var e=i();return t=c.defaults(t||{},{scrollbars:"yes",resizable:1,menubar:0,toolbar:0,status:0,location:0,directories:0},e),c.map(t,function(t,e){return e+"="+t}).join(", ")}function i(){var t=500,e=280;return{width:t,height:e,left:Math.round((screen.availWidth-t)/2),top:Math.round((screen.availHeight-e)/2)}}function s(t,e){var n=c.map(e,function(t,e){return e+"="+t}).join("&");return t+=t.match("#")?"&":"#",t+n}function o(t,e,n){t=t+"?"+c.map(n,function(t,e){return encodeURIComponent(e)+"="+encodeURIComponent(t)}).join("&");var r=a(),i=window.open(t,e,r);return i.focus(),i}var c="undefined"!=typeof window?window._:"undefined"!=typeof n?n._:null,l=t("config"),d=document.location,u={urlBroker:l.domains.social+"/broker/start",retpath:d.protocol+"//"+d.hostname+"/close_broker.html",brokers:{},params:{consumer:"disk",application:"",action_if_anonymous:"authorize",result_location:"fragment"}},f=0;r.prototype.start=function(){var t=new Vow.Promise;u.brokers[this.id]=t;var e={broker:this.id};this.params.ddom&&(e.ddom=this.params.ddom),this.params.retpath=s(this.params.retpath||u.retpath,e);var n=o(u.urlBroker,this.id,this.params),r=setInterval(function(){n&&n.closed!==!0||(t.reject({status:"error"}),clearInterval(r))}.bind(this),500);return t},e.exports=n.__social__={Broker:r,brokers:u.brokers}}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{config:40}],87:[function(t,e){!function(n){"use strict";var r="undefined"!=typeof window?window._:"undefined"!=typeof n?n._:null,a=t("config"),i=t("consts"),s=t("environment"),o=t("helpers/path"),c=t("helpers/space"),l=t("helpers/string"),d=t("helpers/resource"),u=t("helpers/format"),f=t("helpers/time"),p=t("helpers/uri"),m=t("helpers/formatter-metrika"),h=t("helpers/guid"),v=t("helpers/message"),y=t("helpers/viewport-mobile"),b=t("helpers/direct"),g=e.exports={};g.entityify=ns.entityify,g.deentityify=ns.deentityify,g.encodeURIComponent=encodeURIComponent,g.escapePath=o.escape,g.isParent=o.isParent,g.dirname=o.dirname,g.basename=o.basename,g.extname=o.extname,g.getAlias=d.getAlias,g.capitalize=l.capitalize,g.trim=$.trim,g.round=Math.round.bind(Math),g.range=function(){return r.range.apply(r,arguments).map(function(t){return{data:t}})},g.getConfig=function(){return[{data:a}]},g.getEnvironment=no.value(s),g.getConsts=no.value(i),g.makeUrlRelative=p.makeRelative,g.isInsideFolderSocial=d.isInsideFolderSocial,g.replaceParam=p.replaceParam,g.getDifferenceInDays=f.getDifferenceInDays,g.stringCrop=l.crop,g.breakNumber=l.breakNumber,g.substring=function(t,e,n){return t=t||"",t.substr(e,n)},g.stringIndexOf=function(t,e){return t.indexOf(e)},g.stringLength=function(t){return t.length},g.json=function(t){return JSON.stringify(t[0].data)},g.parseJSON=function(t){return[{data:JSON.parse(t[0].data)}]},g.secondsToTime=u.secondsToTime,g.timestampToDate=u.timestampToDate,g.timestampCurrent=function(){return(new Date).getTime()/1e3},g.getTimestamp=function(t){return new Date(t).getTime()/1e3},g.reverse=function(t){return r.clone(t).reverse()},g.last=function(t){return[r.last(t)]},g.contains=function(t,e){return r.contains(r.pluck(t,"data"),e)},g.formatSpace=c.format,g.breakLongWords=function(t,e){"undefined"==typeof e&&(e=12);var n=" ",a="<wbr />",i=new RegExp(".{1,"+e+"}","g");return r.map(t.split(n),function(t){return r.map(t.match(i)||[],ns.entityify).join(a)}).join(n)},g.sum=function(t){return r.reduce(r.pluck(t,"data"),function(t,e){return t+e},0)},g.now=function(){return Math.round(Date.now()/1e3)},g.modernizr=function(t){return Modernizr[t]},g.split=function(t,e,n){var r=t.split(e,n),a=[];return $.each(r,function(t,e){a.push({data:e})}),a},g.split2Nodeset=function(t,e){return yr.array2nodeset(t.split(e||","))},g.join=function(t,e){return r.pluck(r.pluck(t,"data"),"item")[0].join(e||",")},g.toLowerCase=function(t){return t.toLowerCase()},g.maxAmongItems=function(t){var e=yr.nodeset2data(t),n=t.length;return 2>n?e:r.max(e)},g.getFullYear=function(){return(new Date).getFullYear()},g["nb-extend"]=function(t,e){if(e&&e[0])if("string"==typeof e)t[0].data.content=e;else{var n=t[0].data,a=e[0].data,i=r.extend({},n,a);t[0].data=i}return t},g["nb-wrap"]=function(t,e){var n={};return e&&e.length&&(n[t]=1===e.length?e[0].data:r.pluck(e,"data")),[{data:n,name:"",parent:null,doc:e[0].doc}]},g["nb-uniq"]=h,g.isUrlWebClient=function(t){var e="/client";return 0===t.indexOf(a.links.disk+e)},g.getTitleSocial=v.getTitleSocial,g.getMessageError=v.getMessageError,g.getPeriodsPhoto=function(t){var t=yr.nodeset2data(t),e=[{data:{year:t[0].year,months:[]},name:"",parent:null}];return r.each(t,function(t){if(!t.isEmpty){var n=e[e.length-1].data,r={name:t.month,id:t.id};t.year!==n.year?e.push({data:{year:t.year,months:[r]},name:"",parent:null}):n.months.push(r)}}),e},g.toLowerCase=function(t){return t.toLowerCase()},"undefined"!=typeof i18n&&(g.i18n=i18n),"undefined"!=typeof i18n_unsafe&&(g.i18n_unsafe=i18n_unsafe),"undefined"!=typeof borschik&&(g["borschik-link"]=borschik.link),g.getNameContextMetrika=m.getNameContext,g.getViewportWidth=function(){return y.deviceWidth},g.getViewportHeight=function(){return y.deviceHeight},g.addParamsUrl=p.addParams,g.getHost=p.getHost,g.createIdFromString=l.createId,g.getExperimentalDirectBlockId=b.getExperimentalBlockId
}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{config:40,consts:41,environment:42,"helpers/direct":49,"helpers/format":53,"helpers/formatter-metrika":54,"helpers/guid":55,"helpers/message":59,"helpers/path":65,"helpers/resource":68,"helpers/space":69,"helpers/string":70,"helpers/time":72,"helpers/uri":74,"helpers/viewport-mobile":75}],88:[function(t,e){"use strict";var n=ns._models_preloaded||[],r={};e.exports=function(t){var e,a=this.id;if(!r[a]){r[a]={};for(var i=0;i<n.length;i++){var s=n[i];s.model===a&&(e=ns.Model.key(a,s.params),r[a][e]=s.data)}}return e=ns.Model.key(a,t),r[a][e]||null},e.exports.fill=function(){for(var t=0;t<n.length;t++){var e=n[t];try{if(ns.Model.getValid(e.model,e.params))continue}catch(r){continue}ns.Model.get(e.model,e.params).setData(e.data)}}},{}],89:[function(){"use strict";ns.Model.define("attitude",{params:{commentId:null,userId:null,entityId:null,entityType:null,attitudeType:null},methods:{canRequest:function(){return!1}}})},{}],90:[function(t){!function(e){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}var r=function(){function t(t,e){var n=[],r=!0,a=!1,i=void 0;try{for(var s,o=t[Symbol.iterator]();!(r=(s=o.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(c){a=!0,i=c}finally{try{!r&&o["return"]&&o["return"]()}finally{if(a)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=t("models/users/users");t("models/attitudes/attitude"),t("models/attitudes/do-attitude-fetch");var i="undefined"!=typeof window?window._:"undefined"!=typeof e?e._:null,s=n(i);ns.Model.define("attitudes",{split:{items:".items",model_id:"attitude",params:{commentId:".commentId",userId:".user_id",entityId:".entityId",entityType:".entityType",attitudeType:".attitudeType"}},params:{commentId:null,entityId:null,entityType:null,attitudeType:null},events:{"ns-model-init":"oninit"},methods:{canRequest:function(){return!1},oninit:function(){this.setData({items:[],users:[]})},preprocessData:function(t){return this.processUsers(t),this.processItems(t),t},processItems:function(t){t.items||(t.items=[]);var e=this.params;t.items.forEach(function(t){s.default.extend(t,{commentId:e.commentId||null,entityId:e.entityId,entityType:e.entityType,attitudeType:e.attitudeType})})},processUsers:function(t){t.users&&(t.users.forEach(function(t){s.default.extend(t,{id:t.uid})}),a.collectUsers(t))},fetch:function(){var t=this;return ns.request("do-attitude-fetch",{commentId:this.params.commentId,entityId:this.params.entityId,entityType:this.params.entityType,attitudeType:this.params.attitudeType}).then(function(e){var n=r(e,1),a=n[0].data;return a.error?Promise.reject(a.error):a.items?(t.setData(a),void 0):Promise.reject({id:"NO_ITEMS"})})}}})}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"models/attitudes/attitude":89,"models/attitudes/do-attitude-fetch":91,"models/users/users":161}],91:[function(){"use strict";ns.Model.define("do-attitude-fetch",{params:{commentId:null,entityId:null,entityType:null,lastCreated:null,limit:null,order:"new-first",attitudeType:null}})},{}],92:[function(t){"use strict";t("models/comments/do-attitude-current-set"),ns.Model.define("attitudeCurrent",{params:{commentId:null,entityId:null,entityType:null},methods:{canRequest:function(){return!1},setCount:function(t,e,n){this.set("."+t+"Count",e[t]+n)},resetAttitudeAndCount:function(t,e,n){this.set(".myAttitude",t),this.set(".likeCount",e),this.set(".dislikeCount",n)},setMyAttitude:function(t){var e=this,n=this.get(".myAttitude"),r={like:this.get(".likeCount"),dislike:this.get(".dislikeCount")};return this.set(".myAttitude",n!==t?t:null),n===t?this.setCount(t,r,-1):n?(this.setCount(n,r,-1),this.setCount(t,r,1)):this.setCount(t,r,1),ns.request("do-attitude-current-set",{attitude:n,commentId:this.params.commentId,entityId:this.params.entityId,entityType:this.params.entityType,state:t}).then(function(t){(t[0].error||t[0].data.error)&&e.resetAttitudeAndCount(n,r.like,r.dislike)},function(){e.resetAttitudeAndCount(n,r.like,r.dislike)})}}})},{"models/comments/do-attitude-current-set":96}],93:[function(t){"use strict";t("models/comments/do-comment-settings-set");var e=".comments_disabled";ns.Model.define("commentSettings",{params:{entityId:null,entityType:null},methods:{toggle:function(){var t=this,n=!this.get(e);return ns.request("do-comment-settings-set",{entityId:this.params.entityId,entityType:this.params.entityType,value:n}).then(function(r){return no.jpath(".data.error",r)?Vow.reject():(t.set(e,n),void 0)})}}})},{"models/comments/do-comment-settings-set":100}],94:[function(t){"use strict";var e=function(){function t(t,e){var n=[],r=!0,a=!1,i=void 0;try{for(var s,o=t[Symbol.iterator]();!(r=(s=o.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(c){a=!0,i=c}finally{try{!r&&o["return"]&&o["return"]()}finally{if(a)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t("models/comments/do-comment-delete"),ns.Model.define("comment",{params:{entityId:null,entityType:null,commentId:null,parentId:null},methods:{canRequest:function(){return!1},preprocessData:function(t){return this.processAttitude(t),this.processReplies(t),t.isDeleted=!(!this.isValid()||!this.get(".isDeleted")),t},processAttitude:function(t){var e=ns.Model.get("attitudeCurrent",{commentId:this.params.commentId,entityId:this.params.entityId,entityType:this.params.entityType});e.setData({myAttitude:t.my_attitude||null,likeCount:t.likes_count,dislikeCount:t.dislikes_count})},processReplies:function(t){if(!this.params.parentId){t.replies||(t.replies=[]);var e=this.getReplies();e.setData({items:t.replies})}},getReplies:function(){return ns.Model.get("comments",{entityId:this.params.entityId,entityType:this.params.entityType,parentId:this.params.commentId})},"delete":function(){return this.setCommentState("delete")},restore:function(){return this.setCommentState("restore")},setCommentState:function(t){var n=this;return this.set(".isDeleted","delete"===t),this.trigger(t),ns.request("do-comment-delete",{commentId:this.params.commentId,entityId:this.params.entityId,entityType:this.params.entityType,state:t}).then(function(r){var a=e(r,1),i=a[0];(i.error||i.data.error)&&(n.set(".isDeleted","restore"===t),n.trigger("delete"===t?"restore":"delete"))})}}})},{"models/comments/do-comment-delete":98}],95:[function(t){!function(e){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}var r=function(){function t(t,e){var n=[],r=!0,a=!1,i=void 0;try{for(var s,o=t[Symbol.iterator]();!(r=(s=o.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(c){a=!0,i=c}finally{try{!r&&o["return"]&&o["return"]()}finally{if(a)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=t("models/users/users");t("models/comments/do-comment-add"),t("models/comments/comment"),t("models/comments/attitude-current"),t("models/comments/state-comments"),t("models/comments/state-comments-scroll"),t("models/comments/do-comment-fetch");var i="undefined"!=typeof window?window._:"undefined"!=typeof e?e._:null,s=n(i),o=t("models/model-queue"),c=n(o),l=1e3,d=0;c.default.define("commentsQueue",{limit:1,methods:{handlePortion:function(t){var e=r(t,1),n=e[0],a=n.item,i=n.promise;return new Promise(function(t,e){var n=function r(){var n=Date.now()-d;l>n?setTimeout(r,l-n):a().then(function(e){d=Date.now(),i.fulfill(e),t(e)},function(t){d=Date.now(),i.reject(t),e(t)})};n()})}}});var u=ns.Model.get("commentsQueue"),f="4",p="2",m="50";ns.Model.define("comments",{split:{items:".items",model_id:"comment",params:{entityId:".entityId",entityType:".entityType",commentId:".comment_id",parentId:".parentId"}},params:{direction:"to-last",entityId:null,entityType:null,limit:f,order:"old-first",parentId:null,repliesLimit:p,repliesOrder:"old-first"},paramsRewrite:function(t){return t.parentId&&(t.order=t.repliesOrder,delete t.repliesOrder,delete t.searchCommentId),t},events:{"ns-model-init":"oninit","ns-model-insert":"subscribeItems","ns-model-remove":"unsubscribeItems","ns-model-destroyed":"unsubscribeItems"},methods:{oninit:function(){s.default.bindAll(this,"onCommentDelete","onCommentRestore")},subscribeItems:function(t,e){var n=this;e.forEach(function(t){t.on("delete",n.onCommentDelete),t.on("restore",n.onCommentRestore)})},unsubscribeItems:function(t,e){var n=this;e||(e=this.models),e.forEach(function(t){t.off("delete",n.onCommentDelete),t.off("restore",n.onCommentRestore)})},onCommentDelete:function(){this.setCommentsCount(!1)},onCommentRestore:function(){this.setCommentsCount(!0)},canRequest:function(){return this.super_.canRequest.call(this)&&!this.params.parentId},getRequestParams:function(){var t={};return ns.page.current.params&&ns.page.current.params.cid&&(t.searchCommentId=ns.page.current.params.cid),s.default.extend(t,this.super_.getRequestParams.call(this))},preprocessData:function(t){return this.processAttitude(t),this.processUsers(t),this.processItems(t),this.data?(this.data.items=t.items,this.data):t},processAttitude:function(t){if(!this.params.parentId){var e=ns.Model.get("attitudeCurrent",{commentId:this.params.commentId,entityId:this.params.entityId,entityType:this.params.entityType}),n={myAttitude:null,likeCount:0,dislikeCount:0};t.entity&&s.default.extend(n,{myAttitude:t.entity.my_attitude||null,likeCount:t.entity.likes_count,dislikeCount:t.entity.dislikes_count}),e.setData(n)}},processUsers:function(t){t.users&&(t.users.forEach(function(t){s.default.extend(t,{id:t.uid})}),a.collectUsers(t))},processItems:function(t){var e=t.items||[],n=s.default.pick(this.params,["entityId","entityType","parentId"]);e.forEach(function(t){return s.default.extend(t,n)}),e=s.default.chain(e).concat(this.get(".items")||[]).sortBy(["created","comment_id"]).uniq(!0,"comment_id").value(),"new-first"===this.params.order&&e.reverse(),t.items=e},add:function(t,e){var n=this,a=function(){return ns.request("do-comment-add",{entityId:n.params.entityId,entityType:n.params.entityType,order:n.params.order,parentId:e,text:t}).then(function(t){var e=r(t,1),a=e[0],i=a.data,s=i.data;if(i.error)return Vow.reject(i.error);n.setLoadedLastCreated(n.getCreated("new-first"===n.params.order?"first":"last"));var o={entityId:n.params.entityId,entityType:n.params.entityType},c=ns.Model.get("comments",o);c.setData(s),ns.Model.get("stateCommentsScroll",o).setScrollToId(i.params.searchCommentId)})};return u.push(a)},getCommentById:function(t){return ns.Model.getValid("comment",{commentId:t,entityId:this.params.entityId,entityType:this.params.entityType,parentId:t!==this.params.parentId?this.params.parentId:null})},getCommentByIdRecursive:function(t){var e=this.getCommentById(t);return e||this.models.some(function(n){return e=n.getReplies().getCommentByIdRecursive(t),!!e}),e},setCommentsCount:function(t){var e=void 0;if(!this.params.parentId)return e=this.get(".entity.comments_count"),this.set(".entity.comments_count",t?++e:--e),void 0;var n=this.getCommentById(this.params.parentId);e=n.get(".replies_count"),n.set(".replies_count",t?++e:--e)},getCommentsCountTotal:function(){return this.params.parentId?this.getCommentById(this.params.parentId).get(".replies_count"):this.get(".entity.comments_count")},getCommentsCountLoaded:function(){return this.models.length},setLoadedLastCreated:function(t){this.set(".loadedLastCreated",t)},getCreated:function(t,e){var n=!!e;return n||(e=this.getData().items),e.length?"last"===t&&"old-first"===this.params.order?(n?!1:this.get(".loadedLastCreated"))||e[e.length-1].created:"first"===t&&"new-first"===this.params.order?(n?!1:this.get(".loadedLastCreated"))||e[0].created:"first"===t&&"old-first"===this.params.order?e[0].created:e[e.length-1].created:null},fetch:function(t){var e=this,n=s.default.extend({},this.params,{direction:"to-"+t,lastCreated:this.getCreated(t),order:this.params.order,limit:m});return ns.request("do-comment-fetch",n).then(function(n){var r=n[0].data,a=r.data;if(!a.items)throw new Error("No items received");var i=a.items.length<m;"first"===t?e.set(".isFirstLoaded",i):e.set(".isLastLoaded",i),("first"===t&&"new-first"===e.params.order||"last"===t&&"old-first"===e.params.order)&&e.setLoadedLastCreated(e.getCreated(t,a.items)),e.setData(a)})}}})}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"models/comments/attitude-current":92,"models/comments/comment":94,"models/comments/do-comment-add":97,"models/comments/do-comment-fetch":99,"models/comments/state-comments":103,"models/comments/state-comments-scroll":102,"models/model-queue":116,"models/users/users":161}],96:[function(){"use strict";ns.Model.define("do-attitude-current-set",{params:{attitude:null,commentId:null,entityId:null,entityType:null,state:"like"}})},{}],97:[function(){"use strict";ns.Model.define("do-comment-add",{params:{entityId:null,entityType:null,order:null,parentId:null,text:null}})},{}],98:[function(){"use strict";ns.Model.define("do-comment-delete",{params:{commentId:null,entityId:null,entityType:null,state:"delete"}})},{}],99:[function(){"use strict";ns.Model.define("do-comment-fetch",{params:{direction:null,entityId:null,entityType:null,lastCreated:null,limit:null,order:null,parentId:null,repliesLastCreated:null,repliesLimit:null,repliesOrder:null}})},{}],100:[function(){"use strict";ns.Model.define("do-comment-settings-set",{params:{entityId:null,entityType:null,value:null}})},{}],101:[function(){"use strict";ns.Model.define("commentsServerStub",{methods:{request:function(){var t=this;return Promise.resolve().then(function(){return t.setData({})})}}})},{}],102:[function(){"use strict";ns.Model.define("stateCommentsScroll",{params:{entityId:null,entityType:null},events:{"ns-model-init":"oninit"},methods:{canRequest:function(){return!1},oninit:function(){this.setData({commentsPositionTop:0,scrollNodeOffsetBottom:0,scrollNodeOffsetTop:0,scrollNodeSelector:".js-comment-form-scroll",scrollToId:null})},setOffset:function(t){var e=arguments.length<=1||void 0===arguments[1]?"bottom":arguments[1];if("number"==typeof t){var n="top"===e?".scrollNodeOffsetTop":".scrollNodeOffsetBottom";this.set(n,t)}},setScrollToId:function(t){this.set(".scrollToId",t)},resetScrollToId:function(){this.setScrollToId(null)},setCommentsPosition:function(t){this.set(".commentsPositionTop",t)}}})},{}],103:[function(){"use strict";ns.Model.define("stateComments",{params:{entityId:null,entityType:null,stateCommentsId:null},events:{"ns-model-init":function(){var t=!this.params.stateCommentsId;this.setData({isFormVisible:t,isRepliesVisible:!t})}},methods:{canRequest:function(){return!1},updateReplyTo:function(t){var e=!this.get(".isFormVisible")||this.get(".replyToId")!==t;this.set(".isFormVisible",e),this.set(".replyToId",t)},toggleReplies:function(t){var e=!this.get(".isRepliesVisible");"undefined"!=typeof t&&(e=!!t),this.set(".isRepliesVisible",e)}}})},{}],104:[function(t,e){!function(n){"use strict";var r="undefined"!=typeof window?window._:"undefined"!=typeof n?n._:null;t("models/model-local").define("config",{methods:{preprocessData:function(e){return e=r.merge(this.data||{},e),t("helpers/config").prepare(e),e},getTldReal:function(){var t=this.get(".tld");return t=t.split(".").pop()}},defaults:t("models-preloaded")}),e.exports=ns.Model.get("config")}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"helpers/config":46,"models-preloaded":88,"models/model-local":114}],105:[function(){"use strict";ns.Model.define("confirmation",{params:{confirmation:null},methods:{confirm:function(t){return this._decide(!0,t)},reject:function(t){return this._decide(!1,t)},confirmAll:function(t){return this._all()._decide(!0,t)},rejectAll:function(t){return this._all()._decide(!1,t)},_all:function(){return this.set(".all",!0),this},_decide:function(t,e){return this.set(".confirm",t),this.set(".data",e),this.get(".all")&&this.trigger("all",this.getData()),this.trigger(t?"confirmed":"rejected",e),this}}})},{}],106:[function(t){!function(e){"use strict";var n=t("models/user-current/user-current"),r="undefined"!=typeof window?window._:"undefined"!=typeof e?e._:null,a=6e4;ns.Model.define("counterMail",{events:{"ns-model-init":"oninit"},methods:{oninit:function(){r.bindAll(this,"fetch"),n.on("ufo-changed-current",this.fetch),this.scheduleUpdateOnce()},scheduleUpdateOnce:r.once(function(){setInterval(function(){this.fetch()}.bind(this),a)})}})}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"models/user-current/user-current":159}],107:[function(){"use strict";ns.Model.define("cvInfo",{params:{id:null}})},{}],108:[function(){"use strict";ns.Model.define("directAsideAd",{methods:{preprocessData:function(t){return t.ads?{ads:t.ads,sponsored:t.ads[0].sponsored,sponsoredLink:t.ads[0].sponsoredLink}:{}}}})},{}],109:[function(){"use strict";ns.Model.define("directRowAd",{methods:{preprocessData:function(t){return t.ads?t.ads[0]:{}}}})},{}],110:[function(t,e){!function(n){"use strict";var r="undefined"!=typeof window?window._:"undefined"!=typeof n?n._:null;t("models/model-local").define("environment",{methods:{preprocessData:function(t){return t=r.merge(this.data||{},t),t.session&&"undefined"==typeof t.session.canHaveAuth&&(t.session.canHaveAuth=!0),t}},defaults:t("models-preloaded")}),e.exports=ns.Model.get("environment")}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"models-preloaded":88,"models/model-local":114}],111:[function(t){"use strict";t("models/model-local").define("inviteCurrent",{defaults:t("models-preloaded")})},{"models-preloaded":88,"models/model-local":114}],112:[function(t){!function(e){"use strict";function n(t){return!t.get(".state.closed")}function r(t){return t.hash}t("models/resource/resource"),t("models/invites/invite-current");var a=t("models/user-current/user-current"),i="undefined"!=typeof window?window._:"undefined"!=typeof e?e._:null,s=t("helpers/resource");ns.Model.define("invitesFolder",{split:{model_id:"resource",items:".invites",params:{id:".id"}},events:{"ns-model-init":"oninit"},methods:{oninit:function(){i.bindAll(this,"fetch"),a.on("ufo-changed-current",this.fetch)},preprocessData:function(t){t=Array.isArray(t)?t:[];var e=ns.Model.get("inviteCurrent");e.setDataDefault();var n=e.getData();return n&&n.owner_uid&&t.unshift(n),{invites:i.map(i.uniq(t,r),s.inviteToResource)}},countOpen:function(){return i.filter(this.models,n).length},fetch:function(){return ns.Model.get("queueRequest").push(this)}}})}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"helpers/resource":68,"models/invites/invite-current":111,"models/resource/resource":138,"models/user-current/user-current":159}],113:[function(t,e){!function(n){"use strict";t("models/queues/queue-sync");var r="undefined"!=typeof window?window._:"undefined"!=typeof n?n._:null,a="offset",i="amount",s="idItemLast",o=40,c=0,l=e.exports=function(){};no.inherit(l,ns.ModelCollection,{_init:function(){ns.ModelCollection.prototype._init.apply(this,arguments),0===this.params.offset&&this.once("ns-model-changed",function(){this.needToBeCompleted()&&this.complete()}.bind(this))},invalidate:function(){return this._complete=!1,ns.ModelCollection.prototype.invalidate.apply(this,arguments)},needToBeCompleted:function(){var t=ns.Model.infoLite(this.id),e=this.params[t.amountProperty],n=this.models.length+(this.get(".countLost")||0);return e>n||this.get(".query")&&"/mail"===this.params.scopeSearch},offset:function(){return c+r.filter(this.models,this.offsetFilter).length},getIdItemLast:function(){return this.models.length?r.filter(this.models,this.offsetFilter).pop().get(".id"):null},offsetFilter:function(t){return!!t},fetchNext:function(){var t=this,e=ns.Model.infoLite(this.id);if(this.isValid()&&0===this.models.length&&this.complete(),this.isComplete())return Vow.fulfill([]);if(this.loading)return this.loading;var n=this.loading=new Vow.Promise;this.trigger("ns-model-loading-start");var a=ns.Model.get("queueRequest").push({id:this.id,params:no.extend({},this.params,r.object([[e.offsetProperty,this.offset()]]),r.object([[e.idItemLastProperty,this.getIdItemLast()]]))});return a.always(function(){t.trigger("ns-model-loading-finish"),delete t.loading}),a.then(function(e){var a=t.insert(e.models);e.needToBeCompleted()&&t.complete(),a?n.fulfill(e.models):n.fulfill([]),e!==t&&r.defer(function(){ns.Model.destroy(e)})},function(t){n.reject(t)}),n},fetchPortion:function(t){var e=ns.Model.get("queueSync").pushPriority({id:this.id,params:no.extend({},this.params,t)});return e},complete:function(){this._complete=!0,this.trigger("ns-model-loading-complete")},isComplete:function(){return!!this._complete}}),l.define=function(t,e){e.offsetProperty||(e.offsetProperty=a),e.amountProperty||(e.amountProperty=i),e.idItemLast||(e.idItemLastProperty=s);var n=r.object([[e.offsetProperty,c],[e.amountProperty,e.sizePortion||o],[e.idItemLastProperty,null]]);if(r.isFunction(e.params)){var l=e.params;e.params=function(t){return n[e.offsetProperty]=t.offset||c,r.extend(l(t),n)}}else e.params||(e.params={}),r.extend(e.params,n);return ns.Model.define(t,e,this)}}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"models/queues/queue-sync":127}],114:[function(t,e){!function(t){"use strict";var n="undefined"!=typeof window?window._:"undefined"!=typeof t?t._:null,r=e.exports=function(){};no.inherit(r,ns.Model,{isValid:no.true,_init:function(t,e){var r=ns.Model.prototype._init.call(this,t,e),a=this.info.defaults||{};return a&&(a=n.isFunction(a)?a.call(this,e):a,this.setData(a)),r}}),r.define=function(t,e){return ns.Model.define(t,e,r)}}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],115:[function(t,e){!function(n){"use strict";function r(t){var e=t[0];if(e!==this.get(".status")){this.set(".status",e);var n=this["onStatus"+i.capitalize(e)];"function"==typeof n&&n.apply(this,t.slice(1)),this.trigger("status."+e),this.queueSetStatus.shift(),this.queueSetStatus.length&&this.queueSetStatus[0].call()}}t("models/queues/queue-request"),t("models/queues/queue-confirmations"),t("models/operation/do-status-operation");var a="undefined"!=typeof window?window._:"undefined"!=typeof n?n._:null,i=t("helpers/string"),s=t("models/model-local"),o=e.exports=function(){},c="NO_SPACE",l="READ_ONLY";no.inherit(o,s,{_init:function(){return this.countRequestStatus=0,this.queueSetStatus=[],s.prototype._init.apply(this,arguments)},init:no.nop,initFromMessage:no.nop,resetCounter:function(){this.countRequestStatus=0},setStatus:function(){this.queueSetStatus.push(r.bind(this,[].slice.call(arguments))),1===this.queueSetStatus.length&&this.queueSetStatus[0].call()},complete:function(){this.isCompleted()||this.setStatus("completed")},isCompleted:function(){return a.contains(["canceled","failed","done","rejected"],this.get(".status"))},run:function(){return this.setStatus(this.get(".status")||"created"),this},getTimeoutStatus:function(){var t=2e4,e=5,n=2e3,r=Math.min(n+Math.floor(this.countRequestStatus/e)*n,t);return this.countRequestStatus++,r},doRequestStatus:function(){this.nextTick(function(){var t=this.handleResponseStatus.bind(this);ns.Model.get("queueRequest").push({id:"do-status-operation",params:{oid:this.get(".oid")}}).then(t,t)})},confirm:function(t){return ns.Model.get("queueConfirmations").add(a.extend({operation:this.getType(),gid:this.get(".gid"),status:this.get(".status"),type:"simple"},t))},prompt:function(t){return this.confirm(a.extend({type:"prompt"},t))},getType:function(){var t=this.id.replace(/^operation/,"");return t.charAt(0).toLowerCase()+t.substr(1)},nextTick:function(t){window.setTimeout(t.bind(this),this.getTimeoutStatus())},isActive:function(){return a.contains(["started","progressing","determined"],this.get(".status"))},countItems:function(){return 1},checkReasonFailed:function(t){var e=t.get(".error")||{};"HTTP_423"===e.id&&this.set(".reason",l),("HTTP_507"===e.id||"507"===e.response)&&this.set(".reason",c)},onEnd:function(t){this.on("ns-model-changed.status",function e(n,r){a.contains(["done","failed"],this.get(".status"))&&(t(n,r),this.off("ns-model-changed.status",e))})}}),o.define=function(t,e){return e.params={id:null},ns.Model.define(t,e,o)}}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"helpers/string":70,"models/model-local":114,"models/operation/do-status-operation":119,"models/queues/queue-confirmations":124,"models/queues/queue-request":126}],116:[function(t,e){!function(t){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}var r="undefined"!=typeof window?window._:"undefined"!=typeof t?t._:null,a=n(r),i=e.exports=function(){};i.define=function(t,e){return ns.Model.define(t,e,i)},no.inherit(i,ns.Model,{_init:function(t){return this.limit=ns.Model.infoLite(t).limit||10,this.items=[],this.itemsProcessing=[],this.busy=!1,ns.Model.prototype._init.apply(this,arguments)},push:function(t){var e=this.createItem(t);return this.items.push(e),this.trigger("added",e),this.nextTick(this.doIteration),e.promise},pushPriority:function(t){var e=this.createItem(t),n=this.items.indexOf(this.itemLastPriority);return this.items.splice(n+1,0,e),this.itemLastPriority=e,this.trigger("added",e),this.doIteration(),e.promise},doIteration:function(){var t=this;this.busy||function(){var e=t.getPortion(),n=function(){t.busy=!1,t.trigger("processed",e),t.doIteration()};e.length?(t.busy=!0,t.handlePortion(e).then(n,n),t.trigger("processing",e)):t.trigger("drained")}()},getPortion:function(){return this.items.splice(0,this.limit)},createItem:function(t){return{item:t,promise:new Vow.Promise}},handlePortion:function(){throw new Error("You must implement method `handlePortion` in model "+this.id)},nextTick:function(t){a.default.defer(t.bind(this))}})}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],117:[function(t,e){!function(t){"use strict";var n="undefined"!=typeof window?window._:"undefined"!=typeof t?t._:null,r=e.exports=function(){};r.define=function(t,e){return ns.Model.define(t,e,r)},no.inherit(r,ns.Model,{_init:function(){ns.Model.prototype._init.apply(this,arguments),n.bindAll(this,"onOperationStatusChanged","unbindOperation"),this.on("ns-model-destroyed",this.unbindOperation)},bindOperation:function(t){this.operation&&this.unbindOperation(),this.operation=t,this.updateOperation(),this.operation.on("ns-model-changed.status",this.onOperationStatusChanged),this.operation.on("ns-model-destroyed",this.unbindOperation)},unbindOperation:function(){this.operation&&(this.operation.off("ns-model-changed.status",this.onOperationStatusChanged),this.operation.off("ns-model-destroyed",this.unbindOperation),this.operation=null,this.setDataDefault())},onOperationStatusChanged:function(){this.operation.get(".status")!==this.get(".operation.status")&&this.updateOperation()},updateOperation:function(){this.set(".operation",n.extend({},this.operation.getData()))}})}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],118:[function(t,e){"use strict";ns.Model.define("notification",e.exports={params:{notification:null}})},{}],119:[function(){"use strict";ns.Model.define("do-status-operation",{params:{oid:null},methods:{preprocessData:function(t){return t}}})},{}],120:[function(t){"use strict";t("models/state-cached/state-cached");var e=t("models/model-operation"),n=t("helpers/page"),r=3;e.define("operationPreload",{methods:{init:function(){this.retries=0;var t=ns.Model.get("stateCached",{id:this.get(".resource").get(".id")});t.isValid()||t.setDataDefault(),this.set(".state",t),this.set(".cacheKey",t.buildCacheKey(this.get(".size")))},onStatusCreated:function(){var t=this.get(".state"),e=function(){this.getFromStateCached(".loading")===!1&&(t.off("ns-model-changed.loading",e),this.setStatus("done"))}.bind(this);return this.getFromStateCached(".cached")||this.getFromStateCached(".error")?(this.setStatus("done"),void 0):this.getFromStateCached(".loading")&&0===this.retries?(t.on("ns-model-changed.loading",e),void 0):(this.setStatus("started"),void 0)},getUrl:function(){var t=this.get(".resource").get('.meta.sizes[.name == "DEFAULT"].url')[0];return t?t+"&size="+this.get(".cacheKey"):null},onStatusStarted:function(){if(this.url=this.getUrl(),this.url){var t=this.$image=n.appendImage(this.url);this.setInStateCached(".loading",this.url),t.one("error load",function(e){"error"===e.type?this.setStatus("error"):this.setStatus("loaded"),t.remove()}.bind(this))}else this.setStatus("loaded")},onStatusLoaded:function(){this.setInStateCached(".cached",this.url),this.setInStateCached(".loading",!1),this.setStatus("done")},onStatusError:function(){this.retries<r?(this.retries++,this.get(".resource").fetch().then(function(){this.setStatus("created")},this)):(this.setInStateCached(".loading",!1),this.setInStateCached(".error",!0),this.setStatus("done"))},onStatusDone:function(){ns.Model.destroy(this)},getFromStateCached:function(t){return this.get(".state").getState(t,this.get(".cacheKey"))},setInStateCached:function(t,e){this.get(".state").setState(t,this.get(".cacheKey"),e)}}})},{"helpers/page":64,"models/model-operation":115,"models/state-cached/state-cached":150}],121:[function(t){!function(e){"use strict";t("models/resource/resource"),t("models/state-resource/state-resource"),t("models/queues/queue-request"),t("models/queues/queue-notifications"),t("models/resources/do-save-resource-public");var n="undefined"!=typeof window?window._:"undefined"!=typeof e?e._:null,r=t("models/model-operation"),a=t("config"),i=t("models/user-current/user-current");r.define("operationSavePublic",{methods:{init:function(){var t=ns.Model.getValid("resource",{id:this.get(".idSrc")});this.set(".src",t),this.set(".async","dir"===t.get(".type"));var e=ns.Model.get("stateResource",{id:this.get(".idSrc")});e.bindOperation(this),this.once("status.progressing",this.notify.bind(this))},onStatusCreated:function(){this.setStatus("started")},onStatusStarted:function(){this.doRequestSave()},doRequestSave:function(){ns.Model.get("queueRequest").push({id:"do-save-resource-public",params:{id:this.get(".src").get(".id"),async:this.get(".async")?"1":"0"}}).always(this.handleResponseSave,this)},handleResponseSave:function(t){var e=t.valueOf();if(this.get(".async")){var n=e.get(".oid");n?(this.set(".oid",n),this.setStatus("progressing")):this.handleErrorSave(e)}else{var r=e.get(".error");r?this.handleErrorSave(e):this.setStatus("done")}},handleErrorSave:function(t){this.checkReasonFailed(t),this.setStatus("failed")},onStatusProgressing:function(){this.doRequestStatus()},handleResponseStatus:function(t){var e=t.get(".error");if(e)this.handleErrorSave(t);else{var r=t.get(".status");n.contains(["EXECUTING","WAITING"],r)?this.doRequestStatus():"DONE"===r?this.setStatus("done"):this.handleErrorSave(t)}},onStatusDone:function(){this.notify()},onStatusFailed:function(){this.notify()},notify:function(){return this.get(".silent")?void 0:ns.Model.get("queueNotifications").add(this.getDataNotification())},getDataNotification:function(){return{operation:this.getType(),gid:this.get(".gid"),status:this.get(".status"),reason:this.get(".reason"),typeSrc:this.get(".src").get(".type"),nameSrc:this.get(".src").get(".name"),linkDownloads:a.links.disk+"/client"+i.get(".foldersDefault.downloads")}}}})}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{config:40,"models/model-operation":115,"models/queues/queue-notifications":125,"models/queues/queue-request":126,"models/resource/resource":138,"models/resources/do-save-resource-public":143,"models/state-resource/state-resource":151,"models/user-current/user-current":159}],122:[function(t,e){!function(t){"use strict";
var n="undefined"!=typeof window?window._:"undefined"!=typeof t?t._:null;e.exports=ns.Model.define("operations",{isCollection:!0,methods:{getByType:function(){var t=n.toArray(arguments);return n.filter(this.models.slice(),function(e){return n.contains(t,e.getType())})}}}),ns.Model.get("operations").setDataDefault()}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],123:[function(t){"use strict";t("models/model-local").define("poster",{defaults:t("models-preloaded")})},{"models-preloaded":88,"models/model-local":114}],124:[function(t,e){!function(n){"use strict";function r(t,e){return null!=e&&e[Symbol.hasInstance]?e[Symbol.hasInstance](t):t instanceof e}t("models/confirmation/confirmation");var a="undefined"!=typeof window?window._:"undefined"!=typeof n?n._:null,i=t("helpers/guid"),s=t("helpers/page"),o=t("models/model-queue");o.define("queueConfirmations",e.exports={limit:1,methods:{add:function(t){var e=ns.Model.get("confirmation",{confirmation:i()}).setData(t),n=this.push(e);return e.on("all",function(t,e){c.create(e)}),e.on("confirmed",function(t,e){n.fulfill(e)}),e.on("rejected",function(t,e){n.reject(e)}),this._scheduleRecycle(),n},handlePortion:function(t){var e=t[0],n=c.find(e.item.getData());return n?(e.item[n.confirm?"confirm":"reject"](n.data),e.promise[n.confirm?"fulfill":"reject"](n.data),e.promise):(e.promise.always(function(){this.set(".active",null),e.item.destroy(),s.update()},this),e.promise.progress(function(t){"confirm"===t?e.item.confirm():"reject"===t&&e.item.reject()}),this.set(".active",e.item),s.update(),e.promise)},resetRules:function(){c._reset()},_scheduleRecycle:function(){this._intervalRecycle||(this._intervalRecycle=setInterval(a.bind(c._recycle,c),2*c.EXPIRATION_TIMEOUT))}}});var c={EXPIRATION_TIMEOUT:6e4,_rules:{},create:function(t){if(t.gid&&t.status){var e=a.clone(t);r(t,ns.Model)&&"confirmation"===t.id&&(e=t.getData()),this._rules[e.gid]||(this._rules[e.gid]={}),this._rules[e.gid][e.status]={confirm:e.confirm,data:e.data},this._touch(this._rules[e.gid][e.status])}},find:function(t){var e=this._rules[t.gid]&&this._rules[t.gid][t.status];return e&&this._touch(e),e},_touch:function(t){t._expiration=Date.now()+this.EXPIRATION_TIMEOUT},_recycle:function(){var t=Date.now();a.each(this._rules,function(e){a.each(e,function(e,n,r){e._expiration<t&&delete r[n]})})},_reset:function(){this._rules={}}};ns.Model.get("queueConfirmations").setDataDefault()}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"helpers/guid":55,"helpers/page":64,"models/confirmation/confirmation":105,"models/model-queue":116}],125:[function(t,e){!function(n){"use strict";t("models/notification/notification");var r="undefined"!=typeof window?window._:"undefined"!=typeof n?n._:null,a=t("helpers/guid"),i=t("models/model-queue");i.define("queueNotifications",e.exports={limit:4,methods:{add:function(t){if(t.gid){var e=r.find(r.union(this.items,this.itemsProcessing),function(e){return t.gid===e.item.get(".gid")&&t.status===e.item.get(".status")});if(e)return t.src.type!==e.item.get(".typeResources")&&e.item.set(".typeResources","mix"),e.item.set(".count",(e.item.get(".count")||1)+1),e.promise}t.typeResources=t.src&&t.src.type;var n=ns.Model.get("notification",{notification:a()}).setData(t);return this.push(n)},getPortion:function(){var t=Math.max(this.limit-this.itemsProcessing.length,0);return this.items.splice(0,t)},doIteration:function(){var t=this.getPortion();t.length&&(this.itemsProcessing=this.itemsProcessing.concat(t),r.each(t,function(t){t.promise.always(function(){var e=this.itemsProcessing.indexOf(t);-1!==e&&this.itemsProcessing.splice(e,1),this.doIteration()},this)},this),this.handlePortion(t))},handlePortion:function(t){r.each(t,function(t){this.trigger("processing",t)},this)}}}),ns.Model.get("queueNotifications").setDataDefault()}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"helpers/guid":55,"models/model-queue":116,"models/notification/notification":118}],126:[function(t,e){!function(n){"use strict";var r="undefined"!=typeof window?window._:"undefined"!=typeof n?n._:null,a=t("models/model-queue"),i=5e3;a.define("queueRequest",e.exports={limit:10,methods:{handlePortion:function(t){var e,n=this,a=[],s=[];return r.each(t,function(t){var e={id:t.item.id,params:t.item.params};a.push(e),s.push(t.promise||null)}),e=ns.forcedRequest(a),e.then(function(t){r.each(t,function(t,e){var r=s[e];if(r){var a=t.getError();a?"WRONG_SK"===a.id?n.push(t).then(function(){r.fulfill()},function(){r.reject()}):r.reject(t):r.fulfill(t)}})},function(){var e,a=function s(){ns.events.off("ufo-detected-auth-status",s),window.clearTimeout(e);var a=r.filter(t,function(t){return/^do-/.test(t.item.id)?(t.promise.reject(),!1):!0});a.length&&n.handlePortion(a)};ns.events.on("ufo-detected-auth-status",a),e=window.setTimeout(a,i)}),e}}}),ns.Model.get("queueRequest").setDataDefault()}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"models/model-queue":116}],127:[function(t,e){!function(n){"use strict";var r="undefined"!=typeof window?window._:"undefined"!=typeof n?n._:null,a=t("models/model-queue");a.define("queueSync",e.exports={limit:3,methods:{handlePortion:function(t){var e=r.reduce(t,function(t,e){var n=ns.Model.key(e.item.id,e.item.params);return t[n]?t[n].promise&&t[n].promise.then(function(){e.promise.fulfill()},function(){e.promise.reject()}):t[n]=e,t},{}),n=r.pluck(e,"item"),a=ns.forcedRequest(n);return a.then(function(t){r.each(t,function(t){var n=ns.Model.key(t.id,t.params);e[n].promise&&e[n].promise.fulfill(t)})}),a}}}),ns.Model.get("queueSync").setDataDefault()}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"models/model-queue":116}],128:[function(){"use strict";ns.Model.get("resource",{id:"/albums"}).setData({id:"/albums",name:"Альбомы",isSlice:!0})},{}],129:[function(){"use strict";ns.Model.get("resource",{id:"/attach"}).setData({id:"/attach",type:"dir",isSlice:!0,name:"Отправленные как ссылки на Диск",parents:[{id:"/disk",name:"disk"},{id:"/mail",name:"Почтовые вложения"}]})},{}],130:[function(){"use strict";ns.Model.get("resource",{id:"/disk"}).setData({id:"/disk",type:"dir",name:"Яндекс.Диск",parents:[]})},{}],131:[function(){"use strict";ns.Model.get("resource",{id:"/mail"}).setData({id:"/mail",type:"dir",isSlice:!0,name:"Почтовые вложения",parents:[{id:"/disk",name:"disk"}]})},{}],132:[function(){"use strict";ns.Model.get("resource",{id:"/narod"}).setData({id:"/narod",type:"dir",isSlice:!0,name:"Народ",parents:[{id:"/disk",name:"disk"}]})},{}],133:[function(){"use strict";ns.Model.get("resource",{id:"/photo"}).setData({id:"/photo",name:"Все фото",isSlice:!0})},{}],134:[function(){"use strict";ns.Model.get("resource",{id:"/published"}).setData({id:"/published",type:"dir",isSlice:!0,name:"Публичные ссылки",parents:[{id:"/disk",name:"disk"}]})},{}],135:[function(){"use strict";ns.Model.get("resource",{id:"/shared"}).setData({id:"/shared",type:"dir",isSlice:!0,name:"Общие папки",parents:[{id:"/disk",name:"disk"}]})},{}],136:[function(t){"use strict";t("models/space/space");var e=ns.Model.get("space"),n=ns.Model.get("resource",{id:"/trash"}).setData({id:"/trash",type:"dir",isSlice:!0,name:"Корзина",meta:{size:e.get(".trash")},parents:[{id:"/disk",name:"disk"}]});e.on("ns-model-changed",function(){n.set(".meta.size",e.get(".trash"))})},{"models/space/space":149}],137:[function(){"use strict";ns.Model.get("resource",{id:"/attach/yaruarchive"}).setData({id:"/attach/yaruarchive",type:"dir",isSlice:!0,name:"Архив Яндекса",parents:[{id:"/disk",name:"disk"}]})},{}],138:[function(t,e){!function(n){"use strict";t("models/queues/queue-request"),t("models/queues/queue-sync"),t("models/resources/do-get-resource-url"),t("models/state-cached/state-cached"),t("models/operation/operation-preload"),t("models/resources/do-get-subresources");var r="undefined"!=typeof window?window._:"undefined"!=typeof n?n._:null,a=t("helpers/resource"),i=t("helpers/path"),s=t("helpers/operation"),o=t("consts");ns.Model.define("resource",e.exports={params:{id:null},events:{"ns-model-init":"oninit","ns-model-destroyed":"ondestroy"},methods:{oninit:function(){r.bindAll(this,"onResourceLinkedCloned","onResourceLinkedRemoved","preloadPreview"),0===this.params.id.indexOf("/public/")&&(this.request=t("helpers/ns-custom-request").request),0===this.params.id.indexOf("/album/")&&this.once("ns-model-changed",function(){this.bindToResourceLinked()}.bind(this))},ondestroy:function(){0===this.params.id.indexOf("/album/")&&this.unbindToResourceLinked()},bindToResourceLinked:function(){var t=i.normalize(this.get(".path"));this.resourceLinked=ns.Model.get("resource",{id:t}),this.resourceLinked.on("ufo-created-clone",this.onResourceLinkedCloned),this.resourceLinked.on("ufo-removed",this.onResourceLinkedRemoved)},unbindToResourceLinked:function(){this.resourceLinked&&(this.resourceLinked.off("ufo-created-clone",this.onResourceLinkedCloned),this.resourceLinked.off("ufo-removed",this.onResourceLinkedRemoved),delete this.resourceLinked)},onResourceLinkedCloned:function(t,e){var n=e.data;r.contains(["rename","copy"],e.reason)&&(this.set(".name",n.name),this.set(".path",n.id),this.unbindToResourceLinked(),this.bindToResourceLinked())},onResourceLinkedRemoved:function(){this.remove()},show:function(){this.set(".state.hidden",!1)},hide:function(){this.set(".state.hidden",!0)},rename:function(){return this.promiseRename=new Vow.Promise,this.set(".state.renaming",!0),this.promiseRename},setName:function(t){""===t&&(t=this.get(".name")),this.set(".state.renaming",!1),this.promiseRename.fulfill(t)},resetName:function(){this.set(".state.renaming",!1),this.promiseRename.reject()},startPublish:function(){this.set(".state.publishing",!0)},stopPublish:function(){this.set(".state.publishing",!1)},setPublish:function(t){this.notifyBeforeUpdate(),this.set(".meta.public",1),this.set(".meta.short_url",a.fixShortUrl(t.short_url)),this.notifyUpdated()},unsetPublish:function(){this.notifyBeforeUpdate(),this.set(".meta.public",0),this.set(".meta.short_url",""),this.notifyUpdated()},startImport:function(){this.set(".state.importing",!0)},stopImport:function(){this.set(".state.importing",!1)},fetch:function(t){var e=ns.Model.get("queueSync").push(this);return t=t||{},t.silent||(this.notifyBeforeUpdate(),e.then(function(){this.notifyUpdated()},this)),e},getURL:function(t){return ns.Model.get("queueRequest").push({id:"do-get-resource-url",params:{id:this.params.id,inline:t&&t.inline}})},preprocessData:function(t){t=a.preprocess(t);var e=[".state.hidden",".state.blocked",".state.portional",".state.publishing"];r.each(e,function(e){var n=this.get(e),a=no.jpath(e,t);!r.isUndefined(n)&&r.isUndefined(a)&&no.jpath.set(e,t,n)},this);var n=this.get(".meta.search_scope");return n&&!no.jpath(".meta.search_scope",t)&&no.jpath.set(".meta.search_scope",t,n),this._isInYaruarchive(t)&&(t=this._preprocessYaruachiveParents(t)),this.params.id===o.YA_IMAGES_CONTEXT&&(t.name="Я.Картинки"),t},notifyCreated:function(t){ns.events.trigger("ufo-resource-created",{resource:this,options:t}),this.trigger("created",this)},notifyBeforeUpdate:function(){ns.events.trigger("ufo-resource-before-update",{resource:this})},notifyUpdated:function(){ns.events.trigger("ufo-resource-updated",{resource:this})},notifyChangedAccess:function(){this.trigger("ufo-changed-access")},notifyReplaced:function(t){this.trigger("ufo-replaced",t)},remove:function(){ns.events.trigger("ufo-resource-removed",{resource:this}),ns.Model.destroy(this)},replace:function(t){this.notifyReplaced(t)},replaceData:function(t){if(i.normalize(t.id)===this.get(".id"))no.jpath.set(".state.blocked",t,!1),no.jpath.set(".state.part",t,!1),this.notifyBeforeUpdate(),this.setData(a.preprocess(t)),this.notifyUpdated();else{var e=a.create(t,{silent:!0});this.notifyReplaced(e)}},isSelectableSingle:function(){return this.get(".invite")||this.get(".isSlice")||this.get(".state.part")||this.get(".state.blocked")?!0:!1},allowsUpload:function(){return!this.get(".isSlice")&&!this.get(".meta.group.readonly")},needsPreload:function(){return this.get(".hasPreview")&&"video"!==this.get(".meta.mediatype")},hideChildren:function(){this.trigger("ufo-resources-hidden")},showChildren:function(){this.trigger("ufo-resources-shown")},destroyChildren:function(){this.trigger("ufo-resources-destroyed")},isReadonly:function(){var t=this.get(".id"),e=ns.Model.get("userCurrent"),n=Boolean(i.isParent("/narod",t)&&!e.get(".states.narod_migrated"));return this.get(".meta.group.in_readonly")||n},preloadPreview:function(t){if(!this.isValid())return this.fetch().then(this.preloadPreview);if(!this.get(".hasPreview"))return Vow.resolve(null);var e=ns.Model.getValid("stateCached",{id:this.params.id});if(e&&(e.isCachedHighestRes()||!e.isResHigherThanCached(t)))return Vow.resolve(e);var n=new Vow.Promise;return e=s.create("preload",{resource:this,size:t}).get(".state").on("ns-model-changed.cached",function(){n.fulfill(e)}),n},isInTrash:function(){return r.some(this.get(".parents"),{id:"/trash"})},_isInYaruarchive:function(t){return r.some(t.parents,{id:"/attach/yaruarchive"})},_preprocessYaruachiveParents:function(t){var e=ns.Model.getValid("resource",{id:"/attach/yaruarchive"});return t.parents=t.parents.filter(function(t){return"/attach"===t.id?!1:("/attach/yaruarchive"===t.id&&(t.name=e.get(".name")),t)}),t}}}),t("models/resource/local/disk"),t("models/resource/local/published"),t("models/resource/local/shared"),t("models/resource/local/trash"),t("models/resource/local/mail"),t("models/resource/local/attach"),t("models/resource/local/narod"),t("models/resource/local/yaru"),t("models/resource/local/photo"),t("models/resource/local/albums")}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{consts:41,"helpers/ns-custom-request":62,"helpers/operation":63,"helpers/path":65,"helpers/resource":68,"models/operation/operation-preload":120,"models/queues/queue-request":126,"models/queues/queue-sync":127,"models/resource/local/albums":128,"models/resource/local/attach":129,"models/resource/local/disk":130,"models/resource/local/mail":131,"models/resource/local/narod":132,"models/resource/local/photo":133,"models/resource/local/published":134,"models/resource/local/shared":135,"models/resource/local/trash":136,"models/resource/local/yaru":137,"models/resources/do-get-resource-url":139,"models/resources/do-get-subresources":142,"models/state-cached/state-cached":150}],139:[function(t){"use strict";var e=t("helpers/uri"),n=t("helpers/resource");ns.Model.define("do-get-resource-url",{params:{id:null,inline:null},events:{"ns-model-init":function(){0===this.params.id.indexOf("/public/")&&(this.request=t("helpers/ns-custom-request").request)}},methods:{preprocessData:function(t){var r=t.file||t.folder;return t.error?t:(r=n.replaceTld(r),r=e.cutProto(r),t.file?t.file=r:t.folder&&(t.folder=r),t)}}})},{"helpers/ns-custom-request":62,"helpers/resource":68,"helpers/uri":74}],140:[function(){"use strict";ns.Model.define("do-get-resources-meta",{params:{file_ids:null}})},{}],141:[function(){"use strict";ns.Model.define("do-get-resources-url",{params:{idsResources:null}})},{}],142:[function(){"use strict";ns.Model.define("do-get-resource-subresources",{params:{path:null,mediatypes:null,mimetypes:null,offset:null,amount:null,sort:null,order:null,extended_response:null,meta:null}})},{}],143:[function(){"use strict";ns.Model.define("do-save-resource-public",{params:{id:null,async:null}})},{}],144:[function(t,e){!function(n){"use strict";var r="undefined"!=typeof window?window._:"undefined"!=typeof n?n._:null;t("./do-get-resources-meta"),e.exports={split:{items:".resources",model_id:"resource",params:{id:".id"}},methods:{getSiblingsOf:function(t,e){var n=r.extend({loop:!1,take:1},e);n.negative=n.take<0,n.take=Math.abs(n.take);var a=n.negative?"reduceRight":"reduce",i=r[a](this.models,function(e,a){return a.get(".id")===t?[]:(r.isArray(e)&&e.length<n.take&&(!r.isFunction(n.filter)||n.filter(a))&&e.push(a),e)},!t&&[]);return i&&i.length<n.take&&n.loop&&(i=i.concat(this.getSiblingsOf(null,r.extend(e,{take:(n.take-i.length)*(n.negative?-1:1)})))),i||[]},getFirst:function(t){return t.filter?r.first(r.filter(this.models,t.filter)):r.first(this.models)},getLast:function(t){return t.filter?r.last(r.filter(this.models,t.filter)):r.last(this.models)},contains:function(t){return r.contains(this.models,t)},fetchMeta:function(t){var e,n,r={};return"client"!==ns.page.current.params.idApp?Vow.resolve():(e=t.filter(function(t){return!t.get(".originalSize")}).map(function(t){var e=t.get(".meta.file_id");return r[e]=t,e}),n=e.length?ns.Model.get("queueRequest").push({id:"do-get-resources-meta",params:{file_ids:e.join(",")}}).then(function(t){var e=t.data.items||[];e.forEach(function(t){r[t.file_id].set(".originalSize",{width:parseInt(t.width,10),height:parseInt(t.height,10)})},this)},this):Vow.resolve())}}}}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./do-get-resources-meta":140}],145:[function(t){!function(e){"use strict";function n(t,e){return t.groupPublic===e.groupPublic?t.name<e.name?-1:t.name>e.name?1:0:"folder"===t.groupPublic?-1:"folder"===e.groupPublic?1:"image"===t.groupPublic?-1:1}function r(t,e){return n(t.getData(),e.getData())}t("models/resource/resource"),t("models/environment/environment");var a="undefined"!=typeof window?window._:"undefined"!=typeof e?e._:null,i=t("models/model-collection-lazy"),s=t("helpers/resource");i.define("resources",a.merge(t("./resources-common"),{params:{idContext:null},events:{"ns-model-init":"oninit"},methods:{preprocessData:function(t){if(t.error)return{resources:[],error:t.error};if(a.forEach(t.resources,function(t){t.groupPublic=s.getNameGroupPublic(t)}),0===this.params.offset){if(t.typeSort="imagesFirst",ns.Model.get("environment").get(".agent.isMobile")){var e=a.extend({image:0,file:0},a.countBy(t.resources,"groupPublic"));e.image<e.file&&(t.typeSort="default")}"imagesFirst"===t.typeSort&&t.resources.sort(n)}return t},oninit:function(){this.root=ns.Model.get("resource",{id:this.params.idContext})},insert:function(t,e){this.super_.insert.call(this,t,e),"imagesFirst"===this.get(".typeSort")&&this.models.sort(r)},request:t("helpers/ns-custom-request").request}}))}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./resources-common":144,"helpers/ns-custom-request":62,"helpers/resource":68,"models/environment/environment":110,"models/model-collection-lazy":113,"models/resource/resource":138}],146:[function(){"use strict";ns.Model.define("do-settings-set",{params:{key:null,value:null}})},{}],147:[function(t){!function(e){"use strict";t("models/settings/do-settings-set");var n="undefined"!=typeof window?window._:"undefined"!=typeof e?e._:null,r=t("consts").USER_SETTINGS_DEFAULTS;t("models/model-local").define("settings",{methods:{onChangeView:function(t,e){e&&this.save({key:e.replace(/^\./,""),value:this.get(e)})},save:function(t){t.key&&t.value&&(this.set("."+t.key,t.value,{silent:Boolean(t.silent)}),ns.Model.get("queueRequest").push({id:"do-settings-set",params:t}))},preprocessData:function(e){return t("environment").agent.isMobile&&(e.view="icons"),["timestampVisitAlbums","timestampVisitJournal","timestampVisitPhotoslice"].forEach(function(t){e[t]=Number(e[t])}),n.extend({},r,e)},setTimestampOnce:function(t){Number(this.get("."+t))>0||this.save({key:t,value:Date.now()})}},defaults:t("models-preloaded")})}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{consts:41,environment:42,"models-preloaded":88,"models/model-local":114,"models/settings/do-settings-set":146}],148:[function(t,e){!function(n){"use strict";function r(){var t=ns.Model.get("settings");return{slice:[{id:"disk",idContext:"/disk",name:"Файлы"},{id:"photo",idContext:"/photo",name:"Все фото",unvisited:!t.get(".timestampVisitPhotoslice")},{id:"albums",idContext:"/albums",name:"Альбомы",unvisited:!t.get(".timestampVisitAlbums")},{id:"shared",idContext:"/shared",name:"Общие папки"},{id:"published",idContext:"/published",name:"Ссылки"},{id:"journal",idContext:"/journal",name:"История",unvisited:!t.get(".timestampVisitJournal")},{id:"trash",idContext:"/trash",name:"Корзина",inMenu:!0},{id:"camera",idContext:a.get(".foldersDefault.photostream"),name:"Фотокамера",inMenu:!0},{id:"social import",idContext:a.get(".foldersDefault.social"),name:"Фото из соцсетей",inMenu:!0},{id:"images",idContext:s.YA_IMAGES_CONTEXT,name:"Я.Картинки",inMenu:!0},{id:"mail",name:"Почтовые вложения",idContext:"/mail",hidden:!0,inMenu:!0},{id:"downloads",idContext:a.get(".foldersDefault.downloads"),hidden:!0,name:"Загрузки",inMenu:!0},{id:"screenshots",idContext:a.get(".foldersDefault.screenshots"),hidden:!0,name:"Скриншоты",inMenu:!0},{id:"yaru",name:"Архив Яндекса",hidden:!0,idContext:"/attach/yaruarchive",inMenu:!0},{id:"narod",name:"Народ",hidden:!0,idContext:"/narod",inMenu:!0}]}}t("models/settings/settings");var a=t("models/user-current/user-current");ns.Model.define("getSlices");var i="undefined"!=typeof window?window._:"undefined"!=typeof n?n._:null,s=t("consts");ns.Model.define("slices",e.exports={defaults:r(),events:{"ns-model-init":"oninit"},methods:{oninit:function(){i.bindAll(this,"onUpdateSettings","updateSlices"),ns.Model.get("settings").on("ns-model-changed",this.onUpdateSettings),a.on("ufo-changed-current",this.updateSlices)},fetch:function(){return this.get(".loading")||this.get(".loaded")?this._promiseSyncLast:(this.set(".loading",!0),this._promiseSyncLast=ns.Model.get("queueSync").push(ns.Model.get("getSlices")),this._promiseSyncLast.then(this._onSlicesFetched,this),this._promiseSyncLast)},getIdSliceByContext:function(t){var e;return t&&this.get(".slice").forEach(function(n){0===t.indexOf(n.idContext)&&(!e||e.idContext.length<n.idContext.length)&&(e=n)}),e&&e.id},_onSlicesFetched:function(t){if(t.get(".downloads")){var e=this.get('.slice[.id == "downloads"]')[0];e.hidden=!1}if(t.get(".yaru")){var n=this.get('.slice[.id == "yaru"]')[0];n.hidden=!1}if(t.get(".narod")){var r=this.get('.slice[.id == "narod"]')[0];r.hidden=!1}if(t.get(".screenshots")){var a=this.get('.slice[.id == "screenshots"]')[0];a.hidden=!1}var i=this.get('.slice[.id == "mail"]')[0];i.hidden=!1,this.set(".loading",!1),this.set(".loaded",!0)},onUpdateSettings:function(t,e){i.contains([".timestampVisitPhotoslice",".timestampVisitAlbums",".timestampVisitJournal"],e)&&this.updateSlices()},updateSlices:function(){this.setData(r())}}}),ns.Model.get("slices").setDataDefault(),ns.Model.get("userCurrent").once("ns-model-changed",function(){ns.Model.get("slices").updateSlices()})}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{consts:41,"models/settings/settings":147,"models/user-current/user-current":159}],149:[function(t){"use strict";t("models/model-local").define("space",{defaults:t("models-preloaded"),methods:{preprocessData:function(t){return t.isOverloaded=100*(t.free/t.limit)<5,t.isEmpty=t.free<=0,t}}})},{"models-preloaded":88,"models/model-local":114}],150:[function(t){!function(e){"use strict";var n="undefined"!=typeof window?window._:"undefined"!=typeof e?e._:null,r=t("helpers/page"),a="x",i=new RegExp("^"+a),s=1280,o={XXXL:"1280x1280",XXL:"1024x1024",XL:"800x800",L:"500x500",M:"300x300",S:"150x150",XS:"100x100",XXS:"75x75",XXXS:"50x50"};t("models/model-local").define("stateCached",{events:{"ns-model-destroyed":function(){this.resource.off("ns-model-destroyed",this.invalidate)},"ns-model-init":function(){n.bindAll(this,"invalidate","comparator"),this.resource=ns.Model.getValid("resource",{id:this.params.id}),this.resource.on("ns-model-destroyed",this.invalidate),this.isProportionSet=!!this.resource.get(".originalSize")}},params:{id:null},defaults:function(){return{needsPreload:this.resource.needsPreload(),cached:{},error:{},loading:{},urlHighestRes:"",isLoading:!1,proportion:this.getProportionFromResource()}},methods:{invalidate:function(){this.setDataDefault()},setState:function(t,e,n){if(this.set(t+"."+a+e,n),".cached"!==t)".loading"===t&&this.set(".isLoading",n),".error"===t&&this.set(".isError",n);else{var i=this.getUrlHighestResCached();if(i!==this.get(".urlHighestRes")&&this.set(".urlHighestRes",i),!this.isProportionSet){var s=r.appendImage(n);this.set(".proportion",s[0].naturalWidth/s[0].naturalHeight),s.remove(),this.isProportionSet=!0}}},getState:function(t,e){return this.get(t+"."+a+e)},buildCacheKey:function(t){if(n.isString(t))return t;var e=Math.min(s,t.width)||s,r=Math.min(s,t.height)||s;return e+"x"+r},getHighestResCached:function(){var t=n.keys(this.get(".cached"));return t.length?n.last(t.sort(this.comparator)).slice(1):null},getUrlHighestResCached:function(){return this.getState(".cached",this.getHighestResCached())},comparator:function(t,e){t=t.replace(i,""),e=e.replace(i,""),t=o[t]||t,e=o[e]||e;var n,r,a=t.split("x"),s=e.split("x"),c=this.get(".proportion");return c>1?(n=a[0]*Math.min(a[1],a[0]/c),r=s[0]*Math.min(s[1],s[0]/c),n-r):(n=a[1]*Math.min(a[0],a[1]*c),r=s[1]*Math.min(s[0],s[1]*c),n-r)},isResHigherThanCached:function(t){var e=this.getHighestResCached();return e?this.comparator(this.buildCacheKey(t),e)>0:!0},isCachedHighestRes:function(){var t=this.getHighestResCached(),e=this.resource.get(".originalSize");return Boolean(e)&&this.comparator(this.buildCacheKey(e),t)<0},getProportion:function(){var t=new Vow.Promise;return this.isProportionSet?t.fulfill(this.get(".proportion")):(this.get(".isLoading")||this.preloadPreview("XXXS"),this.once("ns-model-changed.proportion",function(){t.fulfill(this.get(".proportion"))})),t},getProportionFromResource:function(){var t=this.resource.get(".originalSize");return t?t.width/t.height:1}}})}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"helpers/page":64,"models/model-local":114}],151:[function(t){"use strict";t("models/model-state").define("stateResource",{params:{id:null},methods:{reset:function(){this.unbindOperation(),this.setDataDefault()},selectSingle:function(){}}})},{"models/model-state":117}],152:[function(t){!function(e){"use strict";var n="undefined"!=typeof window?window._:"undefined"!=typeof e?e._:null;t("models/model-local").define("stateDialogAuth",{defaults:function r(){var r={login:"",password:"",error:null,idResource:null,isOpen:!1},e=t("models-preloaded").apply(this);return n.extend({},r,e)},methods:{reset:function(){this.setDataDefault()},setDataError:function(t){n.isEqual(this.get(".error"),t)||this.set(".error",t)}}})}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"models-preloaded":88,"models/model-local":114}],153:[function(t,e){"use strict";t("models/environment/environment");var n=t("helpers/page"),r=ns.Model.get("environment").get(".agent");t("models/model-local").define("stateDialogMobileApp",{defaults:{isOpen:!1,showAppButton:(r.isTablet||r.isMobile)&&"Android"===r.OSFamily},methods:{open:function(){this.set(".isOpen",!0),n.update()},close:function(){this.set(".isOpen",!1),n.update()}}}),e.exports=ns.Model.get("stateDialogMobileApp")},{"helpers/page":64,"models/environment/environment":110,"models/model-local":114}],154:[function(t){"use strict";t("models/model-local").define("stateDirectAsidePublic",{defaults:{viewportStatus:!1}})},{"models/model-local":114}],155:[function(){"use strict";ns.Model.define("statePlayer",{defaults:{track:null,volume:.5}}),ns.Model.get("statePlayer").setDataDefault()},{}],156:[function(t,e){!function(n){"use strict";t("models/resource/resource"),t("models/resources/resources");var r="undefined"!=typeof window?window._:"undefined"!=typeof n?n._:null,a=5,i="single",s="multiple";e.exports={COUNT_PRELOAD:a,MODE_SINGLE:i,MODE_MULTIPLE:s,params:function(t){var e=r.omit(ns.Model.getKeyAndParams(this.methods._getCollectionName(t),t).params,["offset","amount"]);return t.idContextSlider&&(e.idContext=t.idContextSlider,"/recent"===t.idContextSlider&&(e.order=0,e.sort="mtime")),e},events:{"ns-model-init":"oninit","ns-model-destroyed":"ondestroy","ufo-item-show":"onItemShow","ns-model-changed.sizeViewport":"preloadItems"},defaults:function(){return{mode:this._getMode()}},methods:{oninit:function(){r.bindAll(this,"preloadItem"),this.collection=ns.Model.get(this._getCollectionName(this.params),this.params),this.bindCollectionEvents()},ondestroy:function(){this.unbindCollectionEvents(),delete this.collection},bindCollectionEvents:no.nop,unbindCollectionEvents:no.nop,onItemShow:function(t,e){e!==this.get(".idCurrent")&&(this.set(".idCurrent",e),this.toggleArrows(),this.scrollListingToCurrent(),this.preloadItems())},updateSizeViewport:function(t){var e=this.get(".sizeViewport");r.isEqual(t,e)||this.set(".sizeViewport",t)},_getCollectionName:function(){return"resources"},isModeSingle:function(){return this.get(".mode")===i},_getMode:function(){return r.filter(this.collection.models,this.filterResources).length<=1?i:s},filterResources:function(t){return"file"===t.get(".type")&&!t.get(".state.hidden")&&!t.get(".state.blocked")},toggleArrows:function(){var t=ns.Model.getValid("resource",{id:this.get(".idCurrent")});if(t){var e=t===this.collection.getLast({filter:this.filterResources}),n=t===this.collection.getFirst({filter:this.filterResources}),r=!1;e?r="next":n&&(r="prev"),this.set(".arrowDisabled",r)}},isPrevDisabled:function(){return"prev"===this.get(".arrowDisabled")},isNextDisabled:function(){return"next"===this.get(".arrowDisabled")},scrollListingToCurrent:function(){var t=this.get(".idCurrent");t&&this.collection.trigger("ufo-scroll-to-item",t)},preloadItems:function(){if(this.get(".sizeViewport")){var t=this;this.fetchNextPortion().then(function(){var e=t.collection.getSiblingsOf(t.get(".idCurrent"),{take:a,filter:t.filterResources});e.forEach(t.preloadItem)})}},preloadItem:function(t){var e=t.resource||t;this.get(".sizeViewport")&&"video"!==e.get(".meta.mediatype")&&e.preloadPreview(this.get(".sizeViewport"))}}}}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"models/resource/resource":138,"models/resources/resources":145}],157:[function(t){!function(e){"use strict";var n="undefined"!=typeof window?window._:"undefined"!=typeof e?e._:null;t("models/model-local").define("stateSlider",n.merge(t("./state-slider-common"),{methods:{fetchNextPortion:function(){return Vow.resolve()}}}))}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./state-slider-common":156,"models/model-local":114}],158:[function(){"use strict";ns.Model.define("do-log-visit-public",{params:{short_url:null}})},{}],159:[function(t,e){!function(n){"use strict";var r="undefined"!=typeof window?window._:"undefined"!=typeof n?n._:null,a=t("helpers/path"),i=t("helpers/email"),s=t("models/config/config"),o=t("consts");t("models/model-local").define("userCurrent",{events:{"ns-model-init":"oninit"},methods:{oninit:function(){this.uid=this.get(".uid"),this.on("ns-model-changed",function(){var t=this.get(".uid");this.uid!==t&&(this.uid=t,this.atrigger("ufo-changed-current"))})},preprocessData:function(t){t.foldersDefault&&!t.foldersDefault.error&&(t.foldersDefault.yaimages=o.YA_IMAGES_CONTEXT,r.map(t.foldersDefault,function(t,e,n){n[e]=a.normalize(t)}));var e=r.filter(["ru","en","uk","tr"],function(e){return e===t.locale}).length;return e||(t.locale="ru"),t.uid&&(t.hasDisk=-1!==t.sids.indexOf("59")),t.isPDD&&(t.hostPDD=t.login.split("@").pop()),t},isEmailAlias:function(t){return r.contains(this.get(".emails"),i.normalize(t))},isYandexStaff:function(){return"production"!==s.get(".environment")?!0:r.contains(this.get(".sids"),"669")}},defaults:t("models-preloaded")}),e.exports=ns.Model.get("userCurrent")}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{consts:41,"helpers/email":51,"helpers/path":65,"models-preloaded":88,"models/config/config":104,"models/model-local":114}],160:[function(){"use strict";ns.Model.define("user",{params:{user_id:null}})
},{}],161:[function(t,e,n){"use strict";function r(t){var e=ns.Model.get("users");t.users&&(e.isValid()?e.insert(t.users.map(function(t){var e=ns.Model.get("user",{user_id:t.id});return e.setData(t),e})):e.setData({users:t.users}))}Object.defineProperty(n,"__esModule",{value:!0}),n.collectUsers=r,t("./user"),ns.Model.define("users",{split:{items:".users",model_id:"user",params:{user_id:".id"}}})},{"./user":160}],162:[function(t,e){"use strict";ns.Model.define("do-fetch-videostream-url",e.exports={params:{start:0,kbps:320,target:null,stid:null,host:null}})},{}],163:[function(t,e){!function(n){"use strict";function r(t){if(t){if(t.noFallback)return!0;var e=a(t.formats),n=(e.flv||e.mp4)&&c.hasFlashPlayerVersion("10.2.0"),r=s.some(e,c.canPlayMediaType);return n||r}return!1}function a(t){for(var e={},n=0;n<t.length;n++){var r=t[n].match(/\w+/)[0];e[r]="mpeg4"===r?"video/mp4":"video/"+r}return e}function i(t){return s.reduce(t,function(t,e){return e.width>t.width||e.height>t.height?e:t},{width:0,height:0})}t("models/queues/queue-request"),t("models/video-info/do-fetch-videostream-url");var s="undefined"!=typeof window?window._:"undefined"!=typeof n?n._:null,o=t("environment"),c=t("helpers/environment"),l="iOS"===o.agent.OSFamily;ns.Model.define("videoInfo",e.exports={params:{id:null},events:{"ns-model-init":function(){0===this.params.id.indexOf("/public/")&&(this.request=t("helpers/ns-custom-request").request)}},methods:{preprocessData:function(t){return t=s.extend({},t),t.dimension=i(t.dimensions),t.resolutions=s.keys(t.dimensions).map(function(t){return parseInt(t,10)}).sort(function(t,e){return e-t}),t.duration=Math.floor(t.duration/1e3),t.typeVideoPlayer=r(t.yandexVideo)?"yavideo":c.hasAvailableFlash()&&!l?"flv":"html",t.target=Modernizr.videostream,t},fetchUrl:function(t){var e=this;return ns.Model.get("queueRequest").push({id:"do-fetch-videostream-url",params:s.extend({start:0,kbps:320},this.getData(),t)}).then(function(t){e.updateData(t.getData())})}}})}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{environment:42,"helpers/environment":52,"helpers/ns-custom-request":62,"models/queues/queue-request":126,"models/video-info/do-fetch-videostream-url":162}],164:[function(t){!function(e){"use strict";var n="undefined"!=typeof window?window._:"undefined"!=typeof e?e._:null,r=t("libs/social").Broker,a=t("client-auth");nb.define("form-auth",{events:{init:"init"},init:function(){n.bindAll(this,"login","onAuthSuccess","onAuthError","onInputLogin","onInputPassword","startAuthSocial"),this.$node=$(this.node),this.params=this.$node.data("params")||{},this.nbButtonSubmit=nb.block(this.$node.find(":submit")[0]),this.nbInputLogin=nb.block(this.$node.find('[name = "login"]')[0]),this.nbInputPassword=nb.block(this.$node.find('[type = "password"]')[0]),this.nbInputLogin.on("nb-input",this.onInputLogin),this.nbInputPassword.on("nb-input",this.onInputPassword),this.$linksSocial=this.$node.find(".js-link-social"),this.$linksSocial.on("click",this.startAuthSocial),a.on("login",this.onAuthSuccess),a.on("authError",this.onAuthError),this.$node.submit(this.login),$("input[placeholder]").placeholder()},onAuthSuccess:function(){this.nbInputLogin.blur(),this.nbInputPassword.blur(),this.trigger("nb-auth-success")},onAuthError:function(t,e){this.nbButtonSubmit.enable(),this.trigger("nb-auth-error",e)},onInputLogin:n.debounce(function(){this.trigger("nb-input-login",this.nbInputLogin.getValue())},20),onInputPassword:n.debounce(function(){this.trigger("nb-input-password",this.nbInputPassword.getValue())},20),startAuthSocial:function(t){var e=$(t.currentTarget).data("service"),n=new r({action_if_anonymous:"authorize",provider:e,retpath:this.params.retpath||location.protocol+"//"+location.hostname+"/close_broker.html"}),a=n.start();a.then(this.onAuthSuccess,this.onAuthError),this.trigger("nb-start-auth-social",e)},showErrorLogin:function(){this.showErrorInput(this.nbInputLogin)},showErrorPassword:function(){this.showErrorInput(this.nbInputPassword)},showErrorInput:function(t){t.error.on("nb-closed",function(){t.hideError(),this.trigger("nb-input-error-closed")}.bind(this)),t.showError({autoclose:!0,how:{fixed:!0,at:"left",my:"right"}})},login:function(t){t.preventDefault(),t.stopPropagation(),this.nbButtonSubmit.disable();var e=this.$node.serialize2Object();e.twoweeks=e["other-computer"]?"no":"yes",a.login(e),this.trigger("nb-start-auth")},destroy:function(){this.nbInputLogin.off("nb-input",this.onInputLogin),this.nbInputPassword.off("nb-input",this.onInputPassword),this.$linksSocial.off("click",this.startAuthSocial),a.off("login",this.onAuthSuccess),a.off("authError",this.onAuthError),this.nbdestroy()}})}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"client-auth":39,"libs/social":86}],165:[function(t){!function(e){"use strict";var n="undefined"!=typeof window?window._:"undefined"!=typeof e?e._:null,r=$(window),a=t("helpers/elements"),i={},s=function(t){return t&&t.parentNode?t.contains?!document.body.contains(t):null===document.getElementById(t.id):!0},o=n.debounce(function(){var t={top:window.pageYOffset-window.innerHeight,bottom:window.pageYOffset+2*window.innerHeight};n.each(i,function(e,n){s(e.node)||e.loaded?delete i[n]:a.isElInRect({el:e.node,rect:t,fnGetRectEl:a.getRect})&&e.load()})},100);r.on("scroll resize",o),nb.define("icon-resource",{events:{init:"onInit"},onInit:function(){this.$node=$(this.node),this.$preview=this.$node.find(".js-icon-preview"),this.$cover=this.$node.find(".js-cover-preview"),this.src=window.location.protocol+this.$preview.data("src"),this.params=this.$node.data("params"),this.load=n.once(this.load),0!==this.$preview.length&&(i[this.id]=this,o())},load:function(){var t=this.$preview[0];if(t){"cover"===this.params["image-sizing"]?this.$cover.css("background-image","url("+this.src+")"):this.$preview.attr("src",this.src),this.trigger("startLoading",this.src);var e=this;t.complete&&0!==t.naturalWidth?this.onPreviewLoaded():this.$preview.one("load error",function(t){"load"===t.type?e.onPreviewLoaded():"error"===t.type&&e.onPreviewFailed()})}},onPreviewLoaded:function(){this.loaded=!0,window.requestAnimationFrame(function(){this.$node.addClass("nb-icon-resource_loaded-preview")}.bind(this)),this.trigger("load",this.src)},onPreviewFailed:function(){this.trigger("fail",this.src)},destroy:function(){this.nbdestroy()}})}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"helpers/elements":50}],166:[function(t,e){!function(n){"use strict";function r(){$('<div class="player-audio-flash"><div id="'+d+'"></div></div>').appendTo("body");var t={jsCallback:u},e={allowscriptaccess:"always",allowfullscreen:"true"};o.embedSWF(c+"/disk/_/8tP0Zl4l676Tf14kHZHuSmqTOmE.swf",d,"1","1","10.0.0",null,t,e,{})}function a(t){var e=s.extend({id:$.now().toString(),src:t,load:new Vow.Promise},ns.Events);return l[e.id]=e,f.then(function(){i.loadSound(e.id,t)}),e}var i,s="undefined"!=typeof window?window._:"undefined"!=typeof n?n._:null,o=t("swfobject"),c=t("config").links.static.host,l={},d="player-audio-flash-"+(new Date).getTime(),u="callback_disk_flash_player",f=new Vow.Promise;window[u]=function(t,e){"init"===t&&(i=document.getElementById(d),f.fulfill()),"error"===t&&l[e.trackId]&&l[e.trackId].trigger("error",e),"loadingStart"===t&&l[e.trackId]&&l[e.trackId].load&&l[e.trackId].load.fulfill(),"playingProgress"===t&&l[e.trackId]&&l[e.trackId].trigger("timeupdate",e),"playingComplete"===t&&l[e.trackId]&&l[e.trackId].trigger("ended",e)},e.exports={events:{init:"init"},initFlash:function(){i||r(),s.bindAll(this,"onTimeupdateFlash","onEndedFlash","onError")},isAvailableFlash:function(){return o.hasFlashPlayerVersion("10.0.0")},loadFlash:function(t){return s.isString(t)?(this.track=a(t),this.track.on("timeupdate",this.onTimeupdateFlash),this.track.on("ended",this.onEndedFlash),this.track.on("error",this.onError),this.track.load.then(function(){this.loaded=!0},this),this.track.load):void 0},playFlash:function(){this.loaded&&(this.paused=!1,i.playSound(this.track.id),s.isUndefined(this.position)||s.isNaN(this.position)||(i.seek(this.position),delete this.position))},pauseFlash:function(){this.paused||(this.paused=!0,this.position=this.time?100*(this.time/this.getDurationFlash()):0,i.pauseSound())},seekFlash:function(t){if(this.track&&s.isNumber(t)){var e=100*(1>t?t:t/this.getDurationFlash());this.paused?this.position=e:i.seek(e)}},setVolumeFlash:function(t){s.isNumber(t)&&i.setVolume(100*t)},getDurationFlash:function(){return s.isFinite(this.duration)?Math.ceil(this.duration):null},onTimeupdateFlash:function(t,e){this.duration!==e.duration&&(this.duration=e.duration,this.trigger("player-audio.duration-changed",this.getDurationFlash())),this.time!==e.time&&(this.time=Math.ceil(e.time),this.trigger("player-audio.time-changed",this.time))},onEndedFlash:function(){this.time=0,this.trigger("player-audio.time-changed",this.time),this.pauseFlash(),this.trigger("player-audio.ended")},destroyFlash:function(){this.position&&delete this.position,this.track&&(this.track.off("timeupdate",this.onTimeupdateFlash),this.track.off("ended",this.onEndedFlash),this.track.off("error",this.onError))}}}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{config:40,swfobject:195}],167:[function(t,e){!function(t){"use strict";var n="undefined"!=typeof window?window._:"undefined"!=typeof t?t._:null;e.exports={initHtml:function(){n.bindAll(this,"onTimeupdateHtml","onDurationChangeHtml","onEndedHtml","onError"),this._$audio=$("<audio />",{preload:"none"}),this._$audio.appendTo("body"),this._audio=this._$audio[0],this._$audio.on("timeupdate",this.onTimeupdateHtml),this._$audio.on("durationchange",this.onDurationChangeHtml),this._$audio.on("ended",this.onEndedHtml),this._$audio.on("error",this.onError)},isAvailableHtml:function(){return Modernizr.audiomp3},loadHtml:function(t){if(n.isString(t)){this._audio.src=t,this._audio.load();var e=new Vow.Promise;return e.fulfill(),e}},playHtml:function(){this._audio.src&&this._audio.play()},pauseHtml:function(){this._audio.paused||this._audio.pause()},seekHtml:function(t){if(n.isNumber(t)&&n.isFinite(this._audio.duration)&&!n.isNaN(this._audio.duration)&&this._audio&&this._audio.src){var e=1>t?t*this._audio.duration:t;this._audio.currentTime=e}},setVolumeHtml:function(t){n.isNumber(t)&&(this._audio.volume=t)},getDurationHtml:function(){return n.isFinite(this._audio.duration)?Math.ceil(this._audio.duration):null},onTimeupdateHtml:function(){this.trigger("player-audio.time-changed",Math.ceil(this._audio.currentTime))},onDurationChangeHtml:function(){this.trigger("player-audio.duration-changed",this.getDurationHtml())},onEndedHtml:function(){this.seekHtml(0),this.trigger("player-audio.ended")},destroyHtml:function(){this._$audio.off(),this._$audio.remove(),this.nbdestroy()}}}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],168:[function(t){!function(e){"use strict";var n="undefined"!=typeof window?window._:"undefined"!=typeof e?e._:null,r=t("helpers/string");nb.define("player-audio",n.extend({events:{init:"init"},init:function(){return this.typePlayer=this.isAvailableHtml()?"html":"flash",this.TYPE=r.capitalize(this.typePlayer),this["isAvailable"+this.TYPE].apply(this,arguments)?(this["init"+this.TYPE](),void 0):(this.trigger("player-audio.not-available"),this.destroy(),void 0)},load:function(t){return this.url=t,this["load"+this.TYPE].apply(this,arguments)},play:function(){this["play"+this.TYPE].apply(this,arguments)},pause:function(){this["pause"+this.TYPE].apply(this,arguments)},seek:function(){this["seek"+this.TYPE].apply(this,arguments)},setVolume:function(t){this.volume=t,this["setVolume"+this.TYPE].apply(this,arguments)},getDuration:function(){return this["getDuration"+this.TYPE].apply(this,arguments)},onError:function(t){"html"===this.typePlayer&&this.isAvailableFlash()?(this.typePlayer="flash",this.TYPE="Flash",this.initFlash(),this.load(this.url).then(function(){this.setVolume(this.volume),this.play()},this)):this.trigger("player-audio.error",t)},destroy:function(){this["destroy"+this.TYPE].apply(this,arguments)}},t("./player-audio-html"),t("./player-audio-flash")))}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./player-audio-flash":166,"./player-audio-html":167,"helpers/string":70}],169:[function(t){"use strict";var e,n="9.0.0",r="player-video-flash__viewport",a=t("helpers/environment"),i=t("helpers/transform");nb.define("player-video-flash",{events:{init:"_oninit","nb-destroyed":"_ondestroy"},_oninit:function(){this.$node=$(this.node),this.$container=this.$node.find("."+r),this.params=this.$node.data("nb-params"),e?this._insertPlayer(e):this._loadPlayer().then(function(t){this._insertPlayer(t)}.bind(this))},_ondestroy:function(){var t=$("<div />",{"class":r,id:this.$container.attr("id")});this.$container.remove(),this.$node.append(t)},_insertPlayer:function(t){var e={"stream-slb-url-prefix":this.params.host,"stream-id":this.params.stid,hidden:"about,share,logo",lang:this.params.lang,"is-hq":this.params.hq},i=this.getSize();this.params.autoplay&&(e.autoplay="true"),this.params.preview&&(e["preview-url"]=encodeURIComponent(this.params.preview)),a.embedSWF(t,this.$container.attr("id"),i.width,i.height,n,null,e,{allowScriptAccess:"always",allowfullscreen:"true",hasPriority:"true",wmode:"window"},{"class":r}),this.$container=this.$node.find("."+r),this.trigger("nb-inited",this.params)},_loadPlayer:function(){var t=this.params.urlFlash,n=new Vow.Promise;return $.ajax({type:"GET",url:t+"/info",data:{ns:Math.random()},dataType:"jsonp",jsonpCallback:"getInfo"}).then(function(r){e=t+"/v-"+r.version+"/disk-videoplayer.swf",n.fulfill(e)},function(){n.reject()}),n},setSize:function(t){this.$container.attr(t)},getSize:function(){var t=i.scaleDimensionsToArea([this.params.dimension.width,this.params.dimension.height],[this.$node.width(),this.$node.height()]);return{width:t[0],height:t[1]}}})},{"helpers/environment":52,"helpers/transform":73}],170:[function(t){!function(e){"use strict";var n="undefined"!=typeof window?window._:"undefined"!=typeof e?e._:null,r=t("helpers/environment"),a=t("helpers/transform"),i=r.screenfull;i&&(i.onchange=ns.events.trigger.bind(ns.events,"fullscreen-changed"));var s=n.compose(t("helpers/format").secondsToTime,Math.floor.bind(Math)),o="player-video-html__controls_show",c="player-video-html_ready",l="player-video-html_fullscreen",d="player-video-html_paused",u=[0,90,180,270],f=2e3;nb.define("player-video-html",{events:{init:"_oninit","nb-destroyed":"_ondestroy","ufo-changed-url":"updateSource","ufo-changed-rotate":"renderRotation","ufo-changed-start":"renderTime","ufo-changed-stopped":"renderStopped"},_oninit:function(){n.bindAll(this,"_onSeekStart","_onSeekStop","_onVolumeChange","renderFullscreen","updateQuality","renderStatus","renderVolume","showControls","renderTime","renderBuffered","start","stop","toggle","toggleFullscreen","rotate"),this.$node=$(this.node),this.params=this.$node.data("nb-params"),this.$el=this.$node.find(".js-video-el"),this.$time=this.$node.find(".js-video-time"),this.$buffered=this.$node.find(".js-video-buffered"),this.$controls=this.$node.find(".js-video-controls"),this.$viewport=this.$node.find(".js-video-viewport"),this.el=this.$el.get(0),this._ready=!1,this.onReady=n.once(function(){this.renderReady(),this.play()}),this.$track=this.$node.find(".js-seek").slider({range:"min",step:.03,start:this._onSeekStart,stop:this._onSeekStop,max:this.params.duration}),this.$volume=this.$node.find(".js-volume").slider({range:"min",stop:this._onVolumeChange});var t=this.$node.find(".js-video-quality");t.length&&(this.quality=nb.block(t.get(0)),this.quality.on("nb-changed",this.updateQuality),this.defaultQuality=this.quality.getState().value),this.$el.on("play pause",this.renderStatus).on("ended",this.stop).on("volumechange",this.renderVolume),this.setSize(this.getSize()),this.renderVolume(),this.$viewport.on("mousemove",this.showControls),this._checkAutoplay(),this.params.isIOS&&this._fetchUrl(),ns.events.on("fullscreen-changed",this.renderFullscreen),this.trigger("nb-inited",this.params);var e=ns.V.EVENTS.click;this.$node.on(e,".js-start",this.start),this.$node.on(e,".js-toggle",this.toggle),this.$node.on(e,".js-fullscreen",this.toggleFullscreen),this.$node.on(e,".js-rotate",this.rotate)},_ondestroy:function(){this.pause(),this.el.removeAttribute("src"),this.$track.slider("destroy"),this.$volume.slider("destroy"),this.quality&&this.quality.destroy(),ns.events.off("fullscreen-changed",this.renderFullscreen),this.$node.off(),this.$el.off(),this.$viewport.off()},_fetchUrl:function(t,e){t=n.isNumber(t)?t:0,this._start=t,this.trigger("ufo-changed-start");var r={start:t};(e||this.defaultQuality)&&(r.kbps=e||this.defaultQuality),this.trigger("ufo-need-url",r)},setUrl:function(t){this._url=t,this.trigger("ufo-changed-url")},updateSource:function(){this.el.setAttribute("src",this._url),this.el.load(),this._ready=!0},updateQuality:function(){var t=this,e=this.quality.getState();return this.pause(),this._fetchUrl(Math.floor(this._start+this.el.currentTime),parseInt(e.value,10)),this.on("ufo-changed-url",function n(){t.el.paused||t.params.isIOS||t.play(),t.off("ufo-changed-url",n)}),this},showControls:n.debounce(function(){var t=this.$controls;t.addClass(o),clearTimeout(this._inactive),this._inactive=setTimeout(function(){t.removeClass(o)},f)},30),play:function(){return this.$el.on("timeupdate",this.renderTime).on("progress",this.renderBuffered),this.el.play(),this._renderTimeInterval=setInterval(this.renderTime,500),this._stopped&&(this._stopped=!1,this.trigger("ufo-changed-stopped")),this},start:function(){var t=this;this._ready?this.onReady():(this._fetchUrl(),this.on("ufo-changed-url",function e(){t.onReady(),t.off("ufo-changed-url",e)}))},pause:function(){return this.$el.off("timeupdate",this.renderTime),this.el.pause(),clearInterval(this._renderTimeInterval),this},stop:function(){return this.pause(),this._stopped=!0,this.trigger("ufo-changed-stopped"),this.el.removeAttribute("src"),this},seek:function(t){var e=this;return this.pause(),this.$el.off("progress",this.renderBuffered),this._fetchUrl(Math.floor(t)),this.on("ufo-changed-url",function n(){e.el.paused||e.params.isIOS||e.play(),e.off("ufo-changed-url",n)}),this},rotate:function(){this._rotate++,this.trigger("ufo-changed-rotate")},setSize:function(t){this.$viewport.css({width:t.width+"px",height:t.height+"px"})},getSize:function(){var t=a.scaleDimensionsToArea([this.params.dimension.width,this.params.dimension.height],[this.$node.width(),this.$node.height()]);return{width:t[0],height:t[1]}},renderStatus:function(){this.$node.toggleClass(d,this.el.paused)},renderTime:function(t){var e=this.el.paused;this.params.duration>0&&(n.isNumber(t)||(t=this._start+(this.el.currentTime||0)),this._seeking||e||this.$track.slider("option","value",t),this.$time.text(s(t)+"/"+s(this.params.duration)))},renderBuffered:function(){if(1===this.el.buffered.length){var t=100*((this.el.buffered.end(0)+this._start)/this.params.duration);this.$buffered.css("right",100-t+"%")}},renderVolume:function(){this.$volume.slider("option","value",100*this.el.volume)},renderFullscreen:function(){this.$node.toggleClass(l,i.isFullscreen),i.isFullscreen||$(window).trigger("resize")},renderRotation:function(){this.$el.attr("data-rotate",u[this._rotate%u.length])},renderStopped:function(){this._stopped?(this.$track.slider("option","value",0),this.$buffered.css("right","100%"),this.renderTime(0),this.showControls()):this.seek(0)},renderReady:function(){this.$node.addClass(c)},toggle:function(){return this.el.paused?this.play():this.pause()},toggleFullscreen:function(){i.enabled&&i.toggle(this.node)},_onSeekStart:function(){this._seeking=!0},_onSeekStop:function(t,e){this._seeking=!1,this.seek(e.value)},_onVolumeChange:function(t,e){this.el.volume=e.value/100},_checkAutoplay:n.debounce(function(){this.params.autoplay&&(this.params.isIOS||this.start())},50)})}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"helpers/environment":52,"helpers/format":53,"helpers/transform":73}],171:[function(t){!function(e){"use strict";var n="player-video-yandex__viewport",r="undefined"!=typeof window?window._:"undefined"!=typeof e?e._:null,a=t("helpers/transform");nb.define("player-video-yandex",{events:{init:"_oninit","nb-destroyed":"_ondestroy"},_oninit:function(){this.$node=$(this.node),this.$container=this.$node.find("."+n),this.params=this.$node.data("nb-params"),this._insertPlayer(),this.trigger("nb-inited",this.params)},_ondestroy:function(){var t=$("<div />",{"class":n,id:this.$container.attr("id")});this.$container.remove(),this.$node.append(t)},_insertPlayer:function(){var t=this.getSize(),e=[this.params.hostVideo,"/iframe/",this.params.authorVideo,"/",this.params.storageVideo,"/","?fresh=1&hidden=about,share,logo&lang=",this.params.locale,this.params.autoplay?"&autoplay=true":""];this.params.stid&&e.push("&stream-id=",encodeURIComponent(this.params.stid)),this.params.token&&e.push(encodeURIComponent(";"+this.params.token)),this.params.extended&&e.push("&player-type=full"),this.params.preview&&e.push("&preview-url="+encodeURIComponent(this.params.preview)),this.params.hq&&e.push("&hd=1"),this.$container.replaceWith($("<iframe />",{id:this.$container.attr("id"),"class":n,src:e.join(""),width:t.width,height:t.height,frameborder:0})),this.$container=this.$node.find("."+n)},setSize:function(t){var e=this.$container;e.attr(r.extend({style:""},t)),e[0].contentWindow&&e[0].contentWindow.postMessage?e[0].contentWindow.postMessage({size:t},"*"):this._insertPlayer()},getSize:function(){var t=a.scaleDimensionsToArea([this.params.dimension.width,this.params.dimension.height],[this.$node.width(),this.$node.height()]);return{width:t[0],height:t[1]}}})}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"helpers/transform":73}],172:[function(t){!function(e){"use strict";var n="undefined"!=typeof window?window._:"undefined"!=typeof e?e._:null,r=t("helpers/metrika");nb.define("popup-account",{events:{init:"oninit","click .js-close-promo":"closePromo"},oninit:function(){n.bindAll(this,"onOpenPopup","onClickAccount","close"),this.$node=$(this.node),this.$promo=this.$node.find(".js-promo"),this.$accounts=this.$node.find(".js-switch-account"),this.params=this.$node.data("nb-popup-account"),this.popup=nb.block(document.getElementById(this.params.idPopup)),this.popup.on("nb-opened",this.onOpenPopup),this.$accounts.on("click",this.onClickAccount)},destroy:function(){this.popup.destroy(),this.nbdestroy(),this.$accounts.off("click",this.onClickAccount)},closePromo:function(){this.$promo.addClass("_hidden")},onOpenPopup:function(){this.countMetrikaOpen()},close:function(){this.popup.close()},countMetrikaOpen:function(){r.count("interface elements","login popup","show",this.$promo.length?"multiauth promo":"multiauth")},onClickAccount:function(t){var e=$(t.currentTarget).data("uid");this.switchAccount(e)},switchAccount:function(t){r.countLeave("interface elements","login popup","click","change account").always(this.trigger.bind(this,"nb-switch",t)),this.popup.close()}})}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"helpers/metrika":60}],173:[function(t,e,n){!function(e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0});var a="undefined"!=typeof window?window.React:"undefined"!=typeof e?e.React:null,i=r(a),s=t("ui-components/lib/Avatar/Avatar.jsx"),o=r(s),c=t("bem_/react-mixin"),l=r(c);n.default=i.default.createClass({mixins:[l.default],displayName:"attitude",render:function(){return i.default.createElement("div",{className:this.b,title:this.props.user},i.default.createElement("div",{className:this.b.e("avatar")},i.default.createElement(o.default,{url:this.props.avatar,size:"xs"})),this.props.user)}})}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"bem_/react-mixin":7,"ui-components/lib/Avatar/Avatar.jsx":28}],174:[function(t,e,n){!function(e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};Object.defineProperty(n,"__esModule",{value:!0});var i="undefined"!=typeof window?window.React:"undefined"!=typeof e?e.React:null,s=r(i),o="undefined"!=typeof window?window.ReactDOMServer:"undefined"!=typeof e?e.ReactDOMServer:null,c=r(o),l=t("react-bem-components/lib/Button"),d=r(l),u=t("react-bem-components/lib/Popup"),f=r(u),p=t("react-bem-components/lib/Spin"),m=r(p),h=t("rocks/icon/like"),v=r(h),y=t("bem_/react-mixin"),b=r(y),g=t("helpers/comments"),_=r(g),w=t("helpers/auth"),x=r(w),k=c.default.renderToStaticMarkup(s.default.createElement(v.default,null)),A=c.default.renderToStaticMarkup(s.default.createElement(v.default,{type:"dislike"}));n.default=s.default.createClass({mixins:[b.default],displayName:"attitudes",getInitialState:function(){return{error:null,needFetch:this.props.count>0,popupOpened:!1}},componentDidMount:function(){this.props.isMobile||(this._popup.setAnchor(this._anchor),this._popup.block.domElem.on("mouseenter",this.clearPopupTimerHide).on("mouseleave",this.deferHidePopup),x.default.hasAuth()||(this._stateDialogAuth=ns.Model.get("stateDialogAuth"),this._stateDialogAuth.on("ns-model-changed.isOpen",this.onAuthDialogIsOpenChange)))},componentWillUnmount:function(){this.props.isMobile||this._stateDialogAuth&&this._stateDialogAuth.off("ns-model-changed.isOpen",this.onAuthDialogIsOpenChange)},componentWillReceiveProps:function(t){this.props.isMobile||(this.setState({popupOpened:Boolean(t.count>0&&this._hovered)}),t.count===this.props.count||this._hovered||this.setState({needFetch:!0}))},onAuthDialogIsOpenChange:function(){this._stateDialogAuth.get(".isOpen")&&this.onMouseLeave()},onMouseEnter:function(){this.props.isMobile||(this._popupTimerHide?this.clearPopupTimerHide():this.deferShowPopup())},onMouseLeave:function(){this.props.isMobile||(this.deferHidePopup(),this.clearPopupTimerShow())},clearPopupTimerHide:function(){clearTimeout(this._popupTimerHide),this._popupTimerHide=null},clearPopupTimerShow:function(){clearTimeout(this._popupTimerShow),this._popupTimerShow=null},deferHidePopup:function(){var t=this;this._popupTimerHide=setTimeout(function(){t._hovered=!1,t._popupTimerHide=null,t.setState({popupOpened:!1})},200)},deferShowPopup:function(){var t=this;this._popupTimerShow=setTimeout(function(){t._hovered=!0,t._popupTimerShow=null;var e=t.props.count>0;t.setState({popupOpened:e}),e&&t.state.needFetch&&t.fetch(),e&&_.default.metrikaCount(["show "+t.props.type+" window"])},500)},handleClose:function(){this.state.popupOpened&&this.setState({popupOpened:!1})},fetch:function(){var t=this;this.props.isMobile||this.props.handleFetch().then(function(){t.setState({error:null,needFetch:!1})},function(e){t.setState({error:e.id})})},handleClick:function(){var t=this;this.props.handleClick().then(function(){t.props.count>0&&t.fetch()})},getErrorMessage:function(){switch(this.state.error){case"HTTP_404":return this.props.errorMessageNotFound;case"HTTP_403":return this.props.errorMessageForbidden;default:return this.props.errorMessage}},getPopupContent:function(){return this.state.error?s.default.createElement("div",{className:this.b.e("error-message")},this.getErrorMessage()):this.props.countLoaded>0?s.default.createElement("div",{className:this.b.e("list")},this.props.attitudeList):s.default.createElement("div",{className:this.b.e("list")},s.default.createElement(m.default,{className:this.b.e("spin"),size:"l",visible:!0}))},getPopupProps:function(){var t=this;return{closable:!0,directions:["bottom-center","top-center"],onClose:this.handleClose,ref:function(e){t._popup=e},tail:!0,target:"anchor",view:this.state.error?"error":"",visible:this.state.popupOpened}},getProps:function(){var t=this;return{onClick:this.handleClick,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,ref:function(e){t._anchor=e}}},getButton:function(){return s.default.createElement("div",a({className:this.b},this.getProps()),s.default.createElement(d.default,{checked:this.props.isChecked,icon:{content:"like"===this.props.type?k:A},size:"l",text:String(this.props.count)}),this.props.isMobile?null:s.default.createElement(f.default,this.getPopupProps(),this.getPopupContent()))},getPlain:function(){return s.default.createElement("div",a({className:this.b.m(this.props.isChecked||this.state.popupOpened?"checked":null)},this.getProps()),s.default.createElement(v.default,{className:this.b.e("icon"),type:this.props.type}),s.default.createElement("span",{className:this.b.e("count")},this.props.count),this.props.isMobile?null:s.default.createElement(f.default,this.getPopupProps(),this.getPopupContent()))},render:function(){return"button"===this.props.mode?this.getButton():this.getPlain()}})}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"bem_/react-mixin":7,"helpers/auth":44,"helpers/comments":45,"react-bem-components/lib/Button":16,"react-bem-components/lib/Popup":22,"react-bem-components/lib/Spin":23,"rocks/icon/like":187}],175:[function(t,e,n){!function(e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0});var a="undefined"!=typeof window?window.React:"undefined"!=typeof e?e.React:null,i=r(a),s=t("bem_/react-mixin"),o=r(s),c=2e3,l="initial",d="copied",u="error",f="unsupported";n.default=i.default.createClass({displayName:"copy-button",mixins:[o.default],getInitialState:function(){return{id:e.window&&Modernizr.clipboard?l:f}},propTypes:{text:i.default.PropTypes.string.isRequired},render:function(){return this.state.id===f?null:i.default.createElement("div",{className:this.b.m(this.state.id),onClick:this.handleClick},i.default.createElement("div",{className:this.b.e("label").m(l)},"Копировать ссылку"),i.default.createElement("div",{className:this.b.e("label").m(d)},"Ссылка скопирована"),i.default.createElement("div",{className:this.b.e("label").m(u)},"Не удалось скопировать"),i.default.createElement("svg",{className:this.b.e("icon"),viewBox:"0 0 24 24"},i.default.createElement("path",{strokeWidth:"2",d:"m4 10v10h10v-10zm6-3v-3h10v10h-3"})),i.default.createElement("input",{ref:"text",className:this.b.e("text"),value:this.props.text,readOnly:!0}))},handleClick:function(){var t=this;if(this.state.id===l){var e=!1;try{this.refs.text.select(),e=document.execCommand("copy")}catch(n){e=!1}e?(this.setState({id:d}),setTimeout(function(){t.setState({id:l})},c)):this.setState({id:u})}}})}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"bem_/react-mixin":7}],176:[function(t,e,n){!function(e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0});var a="undefined"!=typeof window?window.React:"undefined"!=typeof e?e.React:null,i=r(a),s=t("ui-components/lib/Avatar/Avatar.jsx"),o=r(s),c=t("react-bem-components/lib/Popup"),l=r(c),d=t("bem_/react-mixin"),u=r(d),f=t("rocks/mixins/scroll"),p=r(f),m=t("helpers/react"),h=t("consts"),v=r(h),y="undefined"!=typeof window?window._:"undefined"!=typeof e?e._:null,b=r(y);n.default=i.default.createClass({mixins:[u.default,p.default],displayName:"comment-form",getInitialState:function(){return{bottom:"auto",fixed:!1,height:"auto",inputHeight:0,inputValue:this.props.value||"",left:"auto",error:"",width:"auto"}},getDefaultProps:function(){return{onScrollNodeOffsetChange:function(){},onSubmit:function(){},position:"static"}},componentDidMount:function(){if(this._errorPopup.setAnchor(this._input),this.isSticky()){var t=this.props.scrollNodeSelector;this._scrollableContainer="html"===t?window:document.querySelector(t),this._scrollableContainer.addEventListener("scroll",this.requestSetPosition),window.addEventListener("resize",this.requestSetPosition);
var e=this.getFormHeight();this.props.onScrollNodeOffsetChange({value:e}),this.setState({height:e}),this.requestSetPosition()}},componentWillUnmount:function(){this.isSticky()&&(this._scrollableContainer.removeEventListener("scroll",this.requestSetPosition),window.removeEventListener("resize",this.requestSetPosition))},shouldComponentUpdate:function(t,e){return!b.default.isEqual(t,this.props)||!b.default.isEqual(e,this.state)},requestSetPosition:function(){var t=this;this._inProgress||(this._inProgress=!0,requestAnimationFrame(function(){var e=window.innerHeight,n=t._scrollableContainer===window?e:t._scrollableContainer.getBoundingClientRect().bottom,r=t._baseNode.getBoundingClientRect(),a=t._scrollableContainer===window?(document.scrollingElement||document.documentElement).scrollTop:t._scrollableContainer.scrollTop,i=t.props.commentsNodePosition+270<a+n;t.setState({fixed:r.bottom>n&&i,bottom:e-n,left:r.left,width:r.width}),t._inProgress=!1}))},getFormHeight:function(){return this._formBase.offsetHeight},isReply:function(){return"reply"===this.props.type},isFile:function(){return"file"===this.props.resourceType},isSticky:function(){return"sticky"===this.props.position},focus:function(){this._input.focus()},reset:function(){this.setState({inputHeight:0,inputValue:""})},componentDidUpdate:function(t){var e=this;if(0===this.state.inputHeight&&this.setState({inputHeight:this._input.scrollHeight+2}),this.isSticky()){var n=this.getFormHeight();this.state.height!==n&&this.setState({height:n}),this.requestSetPosition()}!t.focused&&this.props.focused&&this.scrollToView().then(function(){e.focus()})},handleChange:function(){var t=this._input.value;this.setState({inputHeight:0,inputValue:t,error:t.length>v.default.COMMENTS.MESSAGE_LIMIT?"limit_exceeded":""})},handleKeyPress:function(t){var e=t.metaKey||t.ctrlKey||t.shiftKey||t.altKey;"Enter"!==t.key||e||(t.preventDefault(),this.state.error||(this._input.blur(),this.props.onSubmit(this._input.value).then(b.default.noop,this.setSubmitError)))},setSubmitError:function(t){var e=void 0,n=t&&t.id;switch(n){case"HTTP_404":e=this.isReply()?"Не удалось ответить. Комментарий удалён.":this.isFile()?"Не удалось прокомментировать. Файл удалён.":"Не удалось прокомментировать. Папка удалена.";break;case"HTTP_403":e=this.isReply()?"Не удалось ответить. Комментарии отключены.":"Не удалось прокомментировать. Комментарии отключены.";break;default:e=this.isReply()?"Не удалось ответить. Повторите позже.":"Не удалось прокомментировать. Повторите позже."}this.setState({error:e})},getForm:function(){var t=this;return i.default.createElement("div",{className:this.b.m("reply"===this.props.type?"reply":null).concat(this.props.hidden?"_hidden":""),ref:function(e){t._formBase=e}},i.default.createElement(o.default,{size:this.isReply()?"xs":"m",url:this.props.avatar}),i.default.createElement("form",{className:this.b.e("input"),ref:function(e){t._form=e}},i.default.createElement(l.default,{target:"anchor",directions:["top-right"],view:"error",tail:!0,visible:!!this.state.error,fixed:this.state.fixed,closable:!0,ref:function(e){t._errorPopup=e}},i.default.createElement("div",{className:this.b.e("error-message")},this.getErrorPopupMessage())),i.default.createElement("textarea",{className:this.b("textarea").m("size","l").m("width","available").m("theme","islands").m(this.props.disabled?"disabled":null).m(this.state.error?"error":null),placeholder:this.props.placeholder,ref:function(e){t._input=e},onChange:this.handleChange,value:this.state.inputValue,style:{height:this.state.inputHeight},onKeyPress:this.handleKeyPress,disabled:this.props.disabled})))},getErrorPopupMessage:function(){if("limit_exceeded"===this.state.error){var t=void 0;return t="comment"===this.props.type?"Комментарий не может быть длиннее "+m.I18N.$1+" знаков. Вы ввели "+m.I18N.$2:"Ответ не может быть длиннее "+m.I18N.$1+" знаков. Вы ввели "+m.I18N.$2,i.default.createElement(m.I18N,{loc:t},v.default.COMMENTS.MESSAGE_LIMIT,this.state.inputValue.length)}return this.state.error},render:function(){var t=this;if(this.isSticky()){var e=this.state.fixed?b.default.pick(this.state,["left","bottom","width"]):null;return i.default.createElement("div",{className:this.b.e("space").m(this.state.fixed?"fixed":null),ref:function(e){t._baseNode=e},style:{height:this.state.height}},i.default.createElement("div",{className:this.b.e("platform"),style:e},this.getForm()))}return this.getForm()}})}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"bem_/react-mixin":7,consts:41,"helpers/react":67,"react-bem-components/lib/Popup":22,"rocks/mixins/scroll":191,"ui-components/lib/Avatar/Avatar.jsx":28}],177:[function(t,e,n){!function(e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0});var a="undefined"!=typeof window?window.React:"undefined"!=typeof e?e.React:null,i=r(a),s=t("ui-components/lib/Avatar/Avatar.jsx"),o=r(s),c=t("react-bem-components/lib/Link"),l=r(c),d=t("react-bem-components/lib/Spin"),u=r(d),f=t("rocks/icon/close"),p=r(f),m=t("rocks/icon/reply"),h=r(m),v=t("rocks/relative-date"),y=r(v),b=t("bem_/react-mixin"),g=r(b),_=t("rocks/mixins/scroll"),w=r(_),x=t("helpers/comments"),k=r(x);n.default=i.default.createClass({mixins:[g.default,w.default],displayName:"comment",propTypes:{author:i.default.PropTypes.string,avatar:i.default.PropTypes.string,handleDelete:i.default.PropTypes.func,handleReply:i.default.PropTypes.func,isMobile:i.default.PropTypes.bool,labelDelete:i.default.PropTypes.string,labelReply:i.default.PropTypes.string,labelReplyCount:i.default.PropTypes.string,replies:i.default.PropTypes.number,showPrivateControls:i.default.PropTypes.bool,text:i.default.PropTypes.string,time:i.default.PropTypes.string,type:i.default.PropTypes.oneOf(["reply","comment"])},getDefaultProps:function(){return{handleClickReplies:function(){},handleDelete:function(){},handleReply:function(){},handleRestore:function(){},labelCommentDeleted:"Comment deleted",labelDelete:"[ Delete ]",labelReply:"[ Reply ]",labelReplyDeleted:"Reply deleted"}},getInitialState:function(){return{selected:this.props.selected}},componentWillReceiveProps:function(t){this.setState({selected:t.selected}),t.selected&&this._deselectByTimeout()},componentDidMount:function(){this.scroll(),this.props.selected&&this._deselectByTimeout()},componentDidUpdate:function(){this.scroll()},scroll:function(){var t=this;this.props.scroll&&this.scrollToView().then(function(){t.props.handleScrollComplete()})},_deselectByTimeout:function(){var t=this;setTimeout(function(){t.setState({selected:!1})},500)},getPrivateControls:function(){return this.props.showPrivateControls?i.default.createElement("div",{className:this.b.e("delete"),onClick:this.props.handleDelete,title:this.props.labelDelete},i.default.createElement(p.default,null)):null},getReplies:function(){var t=this.props;if(!t.replies||t.replies<1)return null;var e=t.labelReplyCount||"Replies: "+t.replies;return i.default.createElement("div",{className:this.b.e("replies")},i.default.createElement(l.default,{className:this.b("comments").e("load-more-link"),disabled:this.props.isInitialLoading,key:e,onClick:this.props.handleClickReplies,size:"s",text:e}),i.default.createElement(u.default,{className:this.b("comments").e("load-more-spin"),size:"xs",visible:this.props.isInitialLoading}))},onTimeClick:function(){k.default.metrikaCount(["click on time",this.props.type])},render:function(){var t=this.props;if(this.props.isDeleted){var e="reply"===this.props.type?this.props.labelReplyDeleted:this.props.labelCommentDeleted;return i.default.createElement("div",{className:this.b.m("reply"===t.type?"reply":null).m("deleted")},i.default.createElement("span",{className:this.b.e("label-deleted")},e),i.default.createElement(l.default,{onClick:this.props.handleRestore,size:"s",text:this.props.labelRestore}))}return i.default.createElement("div",{className:this.b.m("reply","reply"===t.type).m("selected",this.state.selected).m("touch",this.props.isMobile)},i.default.createElement("div",{className:this.b.e("avatar")},i.default.createElement(o.default,{url:t.avatar,size:"reply"===t.type?"xs":"m"})),i.default.createElement("div",{className:this.b.e("body")},i.default.createElement("div",{className:this.b.e("head")},this.getPrivateControls(),i.default.createElement("span",{className:this.b.e("author")},t.author),i.default.createElement("a",{className:this.b("link").m("size","m").m("theme","islands").concat(this.b.e("time")),onClick:this.onTimeClick,href:t.link},i.default.createElement(y.default,{time:t.time}))),i.default.createElement("div",{className:this.b.e("text")},t.text.replace(/\n\n+/g,"\n\n")),i.default.createElement("div",{className:this.b.e("foot")},i.default.createElement("div",{className:this.b.e("attitudes")},this.props.children),i.default.createElement("div",{className:this.b.e("controls")},this.props.isMobile?i.default.createElement(h.default,null):null,i.default.createElement(l.default,{size:"s",text:t.labelReply,onClick:t.handleReply}))),this.getReplies()))}})}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"bem_/react-mixin":7,"helpers/comments":45,"react-bem-components/lib/Link":20,"react-bem-components/lib/Spin":23,"rocks/icon/close":180,"rocks/icon/reply":188,"rocks/mixins/scroll":191,"rocks/relative-date":193,"ui-components/lib/Avatar/Avatar.jsx":28}],178:[function(t,e,n){!function(e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0});var a="undefined"!=typeof window?window.React:"undefined"!=typeof e?e.React:null,i=r(a),s=t("bem_/react-mixin"),o=r(s),c=t("react-bem-components/lib/Button"),l=r(c),d=t("react-bem-components/lib/Checkbox"),u=r(d),f=t("react-bem-components/lib/Popup"),p=r(f),m=t("rocks/icon/comment"),h=r(m),v=t("rocks/icon/settings"),y=r(v),b=t("helpers/comments"),g=r(b);n.default=i.default.createClass({mixins:[o.default],displayName:"comments-header",getInitialState:function(){return{popupSettings:!1}},getAttitudes:function(){return this.props.isDisabled?null:i.default.createElement("div",{className:this.b.e("likes").concat("control-group")},this.props.attitudes)},getSettings:function(){var t=this;if(!this.props.isOwner&&!this.props.isDisabled)return null;if(!this.props.isOwner&&this.props.isDisabled)return i.default.createElement("span",{className:this.b.e("comments-disabled")},i.default.createElement(h.default,null),"Комментарии отключены");var e=function(){t.refs.popupSettings.setAnchor(t.refs.settings);var e=!t.state.popupSettings;t.setState({popupSettings:e}),e&&g.default.metrikaCount(["settings","show popup"])},n=function(){t.setState({popupSettings:!1})};return i.default.createElement("span",{className:this.b.e("settings"),onClick:e,ref:"settings"},i.default.createElement(p.default,{closable:!0,directions:["bottom-right","top-right"],onClose:n,ref:"popupSettings",target:"anchor",visible:this.state.popupSettings},i.default.createElement("div",{className:this.b.e("popup-settings")},i.default.createElement("label",null,i.default.createElement(u.default,{checked:!this.props.isDisabled,onChange:this.props.handleToggleComments}),"Разрешить комментарии"))),i.default.createElement(y.default,{size:"m",active:this.state.popupSettings,className:this.b.e("icon-settings")}))},getViewComments:function(){return this.props.isDisabled?null:this.props.isRepliesVisible?null:i.default.createElement("div",{className:this.b.e("row")},i.default.createElement(l.default,{className:this.b.e("view-comments"),onClick:this.props.handleViewComments,size:"l",text:"Показать комментарии"}))},render:function(){return i.default.createElement("div",{className:this.b},i.default.createElement("div",{className:this.b.e("row")},this.getSettings(),this.getAttitudes(),this.props.views),this.getViewComments())}})}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"bem_/react-mixin":7,"helpers/comments":45,"react-bem-components/lib/Button":16,"react-bem-components/lib/Checkbox":17,"react-bem-components/lib/Popup":22,"rocks/icon/comment":181,"rocks/icon/settings":189}],179:[function(t,e,n){!function(e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0});var a="undefined"!=typeof window?window.React:"undefined"!=typeof e?e.React:null,i=r(a),s=t("rocks/comment-form"),o=r(s),c=t("react-bem-components/lib/Link"),l=r(c),d=t("react-bem-components/lib/Spin"),u=r(d),f=t("bem_/react-mixin"),p=r(f);n.default=i.default.createClass({mixins:[p.default],displayName:"comments",getInitialState:function(){return{isLoading:!1,isSending:!1}},getDefaultProps:function(){return{handleCommentsNodePositionChange:function(){},handleLoadMore:function(){},handleSubmit:function(){return Promise.resolve()}}},componentDidMount:function(){this.props.parentId||this.props.handleCommentsNodePositionChange(this._node.offsetTop)},getChildren:function(){return this.props.isRepliesVisible?this.props.children:null},getCommentForm:function(){var t=this;return this.props.parentId||this.props.isFormVisible?i.default.createElement(o.default,{avatar:this.props.avatar,commentsNodePosition:this.props.commentsNodePosition,disabled:this.state.isSending,focused:!!this.props.parentId&&this.props.isFormVisible,hidden:!this.props.isFormVisible,onScrollNodeOffsetChange:this.props.handleScrollNodeOffsetChange,onSubmit:this.handleSubmit,placeholder:this.props.placeholder,position:this.props.parentId?"static":"sticky",ref:function(e){t._inputForm=e},replyToId:this.props.replyToId,resourceType:this.props.resourceType,scrollNodeInnerOffsetBottom:this.props.scrollNodeOffsetBottom,scrollNodeInnerOffsetTop:this.props.scrollNodeOffsetTop,scrollNodeSelector:this.props.scrollNodeSelector,type:this.props.parentId?"reply":"comment",value:this.props.savedComment}):null},handleSubmit:function(t){var e=this;if("string"==typeof t&&t.trim())return this.setState({isSending:!0}),this.props.handleSubmit(t).then(function(){e.setState({isSending:!1}),e._inputForm.reset()},function(t){return e.setState({isSending:!1}),Vow.reject(t)})},isLoadMoreHidden:function(t){return this.props.commentsCountTotal<=this.props.commentsCountLoaded||0===this.props.commentsCountLoaded||!this.props.isRepliesVisible||"first"===t&&(!!this.props.parentId||this.props.isFirstLoaded)||"last"===t&&this.props.isLastLoaded},getLoadMore:function(t){var e=this;return this.isLoadMoreHidden(t)?null:i.default.createElement("div",{className:this.b.e("load-more").m(this.props.parentId?"reply":null)},i.default.createElement(l.default,{className:this.b.e("load-more-link"),disabled:this.state.isLoading,onClick:function(){e.onClickLoadMore(t)},size:"s",text:this.props.labelLoadMore}),i.default.createElement(u.default,{className:this.b.e("load-more-spin"),size:"xs",visible:this.state.isLoading}))},onClickLoadMore:function(t){var e=this;this.state.isLoading||(this.setState({isLoading:!0}),this.props.handleLoadMore(t).always(function(){e.setState({isLoading:!1})}))},render:function(){var t=this;return i.default.createElement("div",{className:this.b,ref:function(e){t._node=e}},this.getLoadMore("first"),this.getChildren(),this.getLoadMore("last"),this.getCommentForm())}})}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"bem_/react-mixin":7,"react-bem-components/lib/Link":20,"react-bem-components/lib/Spin":23,"rocks/comment-form":176}],180:[function(t,e,n){!function(e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();Object.defineProperty(n,"__esModule",{value:!0});var c="undefined"!=typeof window?window.React:"undefined"!=typeof e?e.React:null,l=r(c),d=t("../"),u=r(d),f=function(t){function e(){return a(this,e),i(this,Object.getPrototypeOf(e).apply(this,arguments))}return s(e,t),o(e,[{key:"getClassName",value:function(t){return t.m("close")}},{key:"getContentSVG",value:function(){return l.default.createElement("path",{d:"M3.7 3.7l8.5 8.5m-8.5 0l8.5-8.5",stroke:"currentColor"})}}]),e}(u.default);n.default=f}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../":185}],181:[function(t,e,n){!function(e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();Object.defineProperty(n,"__esModule",{value:!0});var c="undefined"!=typeof window?window.React:"undefined"!=typeof e?e.React:null,l=r(c),d=t("../"),u=r(d),f=function(t){function e(){return a(this,e),i(this,Object.getPrototypeOf(e).apply(this,arguments))}return s(e,t),o(e,[{key:"getClassName",value:function(t){return t.m("comment")}},{key:"getContentSVG",value:function(){return l.default.createElement("path",{d:"M1.515 13.485L.05 12.021l1.512-1.512C.58 9.616 0 8.51 0 7.314 0 4.34 3.582 1.929 8 1.929c.682 0 1.344.057 1.977.166L12.07 0l1.465 1.464-12.02 12.021zm3.905-1.077c.74.17 1.529.268 2.348.284 1.898 1.937 5.199 3.065 6.164 3.218.099.016.178-.072.134-.162-.319-.655-1.18-2.293-1.587-3.972C14.604 10.808 16 9.17 16 7.314c0-1.35-.738-2.584-1.957-3.529L5.42 12.408z",fill:"currentColor"})}}]),e}(u.default);n.default=f}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../":185}],182:[function(t,e,n){!function(e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();Object.defineProperty(n,"__esModule",{value:!0});var c="undefined"!=typeof window?window.React:"undefined"!=typeof e?e.React:null,l=r(c),d=t("../"),u=r(d),f=function(t){function e(){return a(this,e),i(this,Object.getPrototypeOf(e).apply(this,arguments))}return s(e,t),o(e,[{key:"getClassName",value:function(t){return t.m("download-app")}},{key:"getContentSVG",value:function(){return l.default.createElement("path",{d:"M5 6v9h14V6H5zm16-2v13H3V4h18zM0 19h24v2H0v-2z",fill:"#000",fillRule:"evenodd"})}}]),e}(u.default);n.default=f}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../":185}],183:[function(t,e,n){!function(e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();Object.defineProperty(n,"__esModule",{value:!0});var c="undefined"!=typeof window?window.React:"undefined"!=typeof e?e.React:null,l=r(c),d=t("../"),u=r(d),f=function(t){function e(){return a(this,e),i(this,Object.getPrototypeOf(e).apply(this,arguments))}return s(e,t),o(e,[{key:"getClassName",value:function(t){return t.m("eye")}},{key:"getContentSVG",value:function(){return l.default.createElement("path",{d:"M15.96 7.973C15.59 6.22 12.82 3 8.004 3 2.997 3 .41 6.22.04 7.973c-.075.348-.053.524.14.524.23 0 .453-.22.74-.416.933-.632 2.06-1.79 3.966-2.457-.544.673-.883 1.514-.883 2.44 0 2.174 1.79 3.937 4 3.937s4-1.763 4-3.937c0-.95-.355-1.807-.923-2.486 1.977.66 3.05 1.86 4 2.504.287.197.5.417.74.417.192 0 .214-.176.14-.524",fill:"#000",fillRule:"evenodd"})}}]),e}(u.default);n.default=f}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../":185}],184:[function(t,e,n){!function(e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0});var a="undefined"!=typeof window?window.React:"undefined"!=typeof e?e.React:null,i=r(a),s=t("bem_"),o=r(s);n.default=function(t){var e=t.type,n=t.size,r=void 0===n?"m":n,a=t.className,s=function(){return new o.default("nb-icon-resource")};return i.default.createElement("span",{className:s().m("size-"+r).concat(a?a:"")},i.default.createElement("span",{className:s().e("image").m("icon-"+e)}))}}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{bem_:6}],185:[function(t,e,n){!function(e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0});var a="undefined"!=typeof window?window.React:"undefined"!=typeof e?e.React:null,i=r(a),s=t("bem_/react-mixin"),o=r(s);n.default=i.default.createClass({mixins:[o.default],displayName:"ufo-icon",getDefaultProps:function(){return{size:"s"}},_getClassName:function(){var t=this.b.m("size",this.props.size);return this.getClassName&&(t=this.getClassName(t)),t},_getSize:function(){return{s:16,m:24,l:32}[this.props.size]},render:function(){var t=this._getSize();return i.default.createElement("span",{className:this._getClassName()},i.default.createElement("svg",{width:t,height:t,viewBox:"0 0 "+t+" "+t},this.getContentSVG()))}})}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"bem_/react-mixin":7}],186:[function(t,e,n){!function(e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();Object.defineProperty(n,"__esModule",{value:!0});var c="undefined"!=typeof window?window.React:"undefined"!=typeof e?e.React:null,l=r(c),d=t("../"),u=r(d),f=function(t){function e(){return a(this,e),i(this,Object.getPrototypeOf(e).apply(this,arguments))}return s(e,t),o(e,[{key:"getClassName",value:function(t){return t.m("info")}},{key:"getContentSVG",value:function(){return l.default.createElement("g",{fill:"#000",fillRule:"evenodd"},l.default.createElement("path",{d:"M11.5 7h1v1.5h-1V7zm0 3.5h1v7h-1v-7z"}),l.default.createElement("path",{d:"M12 3c4.96 0 9 4.04 9 9s-4.04 9-9 9-9-4.04-9-9 4.04-9 9-9zm0-1C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2z"}))}}]),e}(u.default);n.default=f}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../":185}],187:[function(t,e,n){!function(e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();Object.defineProperty(n,"__esModule",{value:!0});var c="undefined"!=typeof window?window.React:"undefined"!=typeof e?e.React:null,l=r(c),d=t("../"),u=r(d),f=function(t){function e(){return a(this,e),i(this,Object.getPrototypeOf(e).apply(this,arguments))}return s(e,t),o(e,[{key:"getClassName",value:function(t){return t.m(this.props.type?this.props.type:"like")}},{key:"getContentSVG",value:function(){return"dislike"===this.props.type?l.default.createElement("path",{d:"M14.273 8.563c.106-.854-.42-1.244-.42-1.604 0-.592.557-1.28.388-1.98-.107-.447-1.012-.852-1.324-1.042-.335-.205-.4-.75-.416-1.146-.03-.75-.812-.685-1.242-1.464-.168-.306-.22-.804-.784-1.15C10.058-.076 8.71-.01 7.178.085 4.412.257 1.85 1.848 0 1.848v6.165h3.388c.287 0 .45.348.75 1.027.473 1.065 1.22 1.537 1.655 2.1.433.564.802 1.21.983 1.692.324.858.53 1.605.683 2.604.14.92 1.442.71 1.85-.35.35-.907.305-1.916.048-2.947-.273-1.09-.468-1.318-.356-2.14 1.126 0 1.685-.02 3.206-.02 1.25 0 1.955-.528 2.065-1.417z",fill:"currentColor",fillRule:"evenodd"}):l.default.createElement("path",{d:"M14.273 7.455c.106.854-.42 1.244-.42 1.604 0 .59.557 1.28.388 1.98-.107.445-1.012.85-1.324 1.04-.335.205-.4.75-.416 1.146-.03.75-.812.685-1.242 1.464-.168.306-.22.804-.784 1.15-.416.254-1.764.188-3.296.093C4.412 15.76 1.85 14.17 0 14.17V8.005h3.388c.287 0 .45-.348.75-1.027.473-1.065 1.22-1.537 1.655-2.1.433-.564.802-1.21.983-1.692.324-.858.53-1.605.683-2.604.14-.92 1.442-.71 1.85.35.35.907.305 1.916.048 2.947-.273 1.09-.468 1.316-.356 2.14 1.126 0 1.685.02 3.206.02 1.25 0 1.955.526 2.065 1.415z",fill:"currentColor",fillRule:"evenodd"})}}]),e}(u.default);n.default=f}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../":185}],188:[function(t,e,n){!function(e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();Object.defineProperty(n,"__esModule",{value:!0});var c="undefined"!=typeof window?window.React:"undefined"!=typeof e?e.React:null,l=r(c),d=t("../"),u=r(d),f=function(t){function e(){return a(this,e),i(this,Object.getPrototypeOf(e).apply(this,arguments))}return s(e,t),o(e,[{key:"getClassName",value:function(t){return t.m("reply")}},{key:"getContentSVG",value:function(){return l.default.createElement("path",{d:"M8.504 9.002s2.28-.17 3.97 1.164c1.623 1.28 1.54 3.347 1.54 3.347V14H16v-.486s-.085-3.417-2.464-5.072c-2.38-1.654-5.032-1.435-5.032-1.435H3.76l4.584-4.59L6.93 1 1.423 6.515 0 7.92l1.414 1.434L7.068 15l1.414-1.416-4.575-4.582h4.597z",fill:"currentColor"})}}]),e}(u.default);n.default=f}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../":185}],189:[function(t,e,n){!function(e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();Object.defineProperty(n,"__esModule",{value:!0});var c="undefined"!=typeof window?window.React:"undefined"!=typeof e?e.React:null,l=r(c),d=t("../"),u=r(d),f=function(t){function e(){return a(this,e),i(this,Object.getPrototypeOf(e).apply(this,arguments))}return s(e,t),o(e,[{key:"getClassName",value:function(t){return t.m("settings").m(this.props.active?"active":null)}},{key:"getContentSVG",value:function(){return l.default.createElement("path",{d:"M11.73 15.5c-1.934 0-3.5-1.567-3.5-3.5s1.566-3.5 3.5-3.5c1.932 0 3.5 1.567 3.5 3.5s-1.568 3.5-3.5 3.5zm7.43-2.53c.04-.32.07-.64.07-.97 0-.33-.03-.66-.07-1l2.11-1.63c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.31-.61-.22l-2.49 1c-.52-.39-1.06-.73-1.69-.98l-.37-2.65c-.04-.24-.25-.42-.5-.42h-4c-.25 0-.46.18-.5.42l-.37 2.65c-.63.25-1.17.59-1.69.98l-2.49-1c-.22-.09-.49 0-.61.22l-2 3.46c-.13.22-.07.49.12.64L4.3 11c-.04.34-.07.67-.07 1 0 .33.03.65.07.97l-2.11 1.66c-.19.15-.25.42-.12.64l2 3.46c.12.22.39.3.61.22l2.49-1.01c.52.4 1.06.74 1.69.99l.37 2.65c.04.24.25.42.5.42h4c.25 0 .46-.18.5-.42l.37-2.65c.63-.26 1.17-.59 1.69-.99l2.49 1.01c.22.08.49 0 .61-.22l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.66z",stroke:"#000",fill:"none",fillRule:"evenodd"})}}]),e}(u.default);n.default=f}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../":185}],190:[function(t,e,n){!function(e){"use strict";
function r(t){return t&&t.__esModule?t:{"default":t}}var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};Object.defineProperty(n,"__esModule",{value:!0});var i="undefined"!=typeof window?window.React:"undefined"!=typeof e?e.React:null,s=r(i),o=t("consts"),c=function(t){var e=t.service,n=t.className,r=void 0===n?"":n,i=t.size,c=void 0===i?"m":i;c="s"===c?"s":"m";var l={className:"icon icon_social icon_size_"+c+" "+r,viewBox:"0 0 24 24"},d={width:24,height:24};switch(e){case o.SOCIAL.VK:return s.default.createElement("svg",l,s.default.createElement("rect",a({fill:"#48729e"},d)),s.default.createElement("path",{d:"M12.785 16.241s.288-.032.436-.194c.136-.148.132-.427.132-.427s-.02-1.304.576-1.496c.588-.19 1.341 1.26 2.14 1.818.605.422 1.064.33 1.064.33l2.137-.03s1.117-.071.587-.964c-.043-.073-.308-.661-1.588-1.87-1.34-1.264-1.16-1.059.453-3.246.983-1.332 1.376-2.145 1.253-2.493-.117-.332-.84-.244-.84-.244l-2.406.015s-.178-.025-.31.056c-.13.079-.212.262-.212.262s-.382 1.03-.89 1.907c-1.07 1.85-1.499 1.948-1.674 1.832-.407-.267-.305-1.075-.305-1.648 0-1.793.267-2.54-.521-2.733-.262-.065-.454-.107-1.123-.114-.858-.009-1.585.003-1.996.208-.274.136-.485.44-.356.457.159.022.519.099.71.363.246.341.237 1.107.237 1.107s.142 2.11-.33 2.371c-.325.18-.77-.187-1.725-1.865-.489-.859-.859-1.81-.859-1.81s-.07-.176-.198-.272c-.154-.115-.37-.151-.37-.151l-2.286.015s-.343.01-.469.161C3.94 7.721 4.043 8 4.043 8s1.79 4.258 3.817 6.403c1.858 1.967 3.968 1.838 3.968 1.838h.957z"}),",");case o.SOCIAL.FB:return s.default.createElement("svg",l,s.default.createElement("rect",a({fill:"#3b5998"},d)),s.default.createElement("path",{d:"M13.423 20v-7.298h2.464l.369-2.845h-2.832V8.042c0-.824.23-1.385 1.417-1.385h1.515V4.111A20.255 20.255 0 0 0 14.148 4c-2.183 0-3.678 1.326-3.678 3.76v2.097H8v2.845h2.47V20h2.953z"}));case o.SOCIAL.OK:return s.default.createElement("svg",l,s.default.createElement("rect",a({fill:"#eb722e"},d)),s.default.createElement("path",{d:"M11.674 6.536a1.69 1.69 0 0 0-1.688 1.688c0 .93.757 1.687 1.688 1.687a1.69 1.69 0 0 0 1.688-1.687 1.69 1.69 0 0 0-1.688-1.688zm0 5.763a4.08 4.08 0 0 1-4.076-4.075 4.08 4.08 0 0 1 4.076-4.077 4.08 4.08 0 0 1 4.077 4.077 4.08 4.08 0 0 1-4.077 4.075zM10.025 15.624a7.633 7.633 0 0 1-2.367-.98 1.194 1.194 0 0 1 1.272-2.022 5.175 5.175 0 0 0 5.489 0 1.194 1.194 0 1 1 1.272 2.022 7.647 7.647 0 0 1-2.367.98l2.279 2.28a1.194 1.194 0 0 1-1.69 1.688l-2.238-2.24-2.24 2.24a1.193 1.193 0 1 1-1.689-1.689l2.279-2.279"}));case o.SOCIAL.MAILRU:return s.default.createElement("svg",l,s.default.createElement("rect",a({fill:"#168de2"},d)),s.default.createElement("path",{d:"M8.889 9.667a1.333 1.333 0 1 0 0-2.667 1.333 1.333 0 0 0 0 2.667zm6.222 0a1.333 1.333 0 1 0 0-2.667 1.333 1.333 0 0 0 0 2.667zm4.77 6.108l-1.802-3.028a.879.879 0 0 0-1.188-.307.843.843 0 0 0-.313 1.166l.214.36a6.71 6.71 0 0 1-4.795 1.996 6.711 6.711 0 0 1-4.792-1.992l.217-.364a.844.844 0 0 0-.313-1.166.878.878 0 0 0-1.189.307l-1.8 3.028a.844.844 0 0 0 .312 1.166.88.88 0 0 0 1.189-.307l.683-1.147a8.466 8.466 0 0 0 5.694 2.18 8.463 8.463 0 0 0 5.698-2.184l.685 1.151a.873.873 0 0 0 1.189.307.844.844 0 0 0 .312-1.166z"}));case o.SOCIAL.GPLUS:return s.default.createElement("svg",l,s.default.createElement("rect",a({fill:"#dc4e41"},d)),s.default.createElement("path",{d:"M9.09 11.364v1.745h2.888c-.116.75-.873 2.196-2.887 2.196-1.738 0-3.156-1.44-3.156-3.214 0-1.775 1.418-3.215 3.156-3.215.989 0 1.65.422 2.029.786l1.382-1.331C11.615 7.5 10.465 7 9.09 7A5.087 5.087 0 0 0 4 12.09a5.087 5.087 0 0 0 5.09 5.092c2.94 0 4.888-2.066 4.888-4.975 0-.334-.036-.589-.08-.843H9.091zm10.91 0h-1.455V9.909h-1.454v1.455h-1.455v1.454h1.455v1.455h1.454v-1.455H20"}));case o.SOCIAL.TW:return s.default.createElement("svg",l,s.default.createElement("rect",a({fill:"#00aced"},d)),s.default.createElement("path",{d:"M20 7.539a6.56 6.56 0 0 1-1.885.517 3.294 3.294 0 0 0 1.443-1.816 6.575 6.575 0 0 1-2.085.796 3.283 3.283 0 0 0-5.593 2.994A9.32 9.32 0 0 1 5.114 6.6a3.28 3.28 0 0 0 1.016 4.382 3.274 3.274 0 0 1-1.487-.41v.041a3.285 3.285 0 0 0 2.633 3.218 3.305 3.305 0 0 1-1.482.056 3.286 3.286 0 0 0 3.066 2.28A6.585 6.585 0 0 1 4 17.524 9.291 9.291 0 0 0 9.032 19c6.038 0 9.34-5 9.34-9.337 0-.143-.004-.285-.01-.425A6.672 6.672 0 0 0 20 7.538z"}));case o.SOCIAL.MAIL:return s.default.createElement("svg",l,s.default.createElement("rect",a({fill:"#7bb2dc"},d)),s.default.createElement("path",{d:"m4 6v12h16V6zm1 1h14l-7 5z"}));case o.SOCIAL.INSTAGRAM:return s.default.createElement("svg",l,s.default.createElement("rect",a({fill:"#1c5380"},d)),s.default.createElement("path",{d:"M11.5 14.5c1.6 0 2.88-1.3 2.88-2.9S13.1 8.74 11.5 8.74c-1.6 0-2.88 1.3-2.88 2.88s1.3 2.88 2.9 2.88zm3.46-5.77h1.73c.3 0 .55-.25.55-.57V6.43c0-.32-.26-.57-.58-.57h-1.72c-.32 0-.58.25-.58.57v1.73c0 .32.26.58.58.58zm1.15 2.88c0 2.58-2.05 4.64-4.6 4.64-2.54 0-4.6-2.06-4.6-4.6 0-.4.03-1.15.1-1.52H5.54l.03 6.13c0 .37.05 1.37 1.47 1.37h9c1.5 0 1.5-1.18 1.5-1.5v-6l-1.56.36c.1.37.15.76.15 1.16zm2.9 6c0 .97-.53 1.5-1.5 1.5H5.54c-.95 0-1.5-.75-1.5-1.7V5.84c0-.95.55-1.75 1.5-1.75h12c.95 0 1.5.55 1.5 1.5z"}));case o.SOCIAL.GOOGLE:return s.default.createElement("svg",l,s.default.createElement("rect",a({fill:"#db4437"},d)),s.default.createElement("path",{d:"M12 10.2v3.6h4.8c-.7 2.3-2 3.5-4.8 3.5-3 0-5.3-2.3-5.3-5.3S9 6.7 12 6.7c1.5 0 2.6.5 3.5 1.3.7-.8.7-1 2.5-2.7A9 9 0 0 0 12 3c-5 0-9 4-9 9s4 9 9 9c7.4 0 9.2-6.5 8.6-10.8H12z"}));case"qr":return l.className+=" icon_social_qr",s.default.createElement("svg",l,s.default.createElement("path",{d:"M1 1h7v7H1zm8 0h1v1H9zm2 0h1v1h-1zm4 0h7v7h-7zM2 2v5h5V2zm8 0h1v1h3v2h-1V4h-1v2h1v1h-1v1h1v1h1v1h-1v2h2v1h-1v2h1v2h1v-2h-1v-2h1v1h1v-1h-1v-1h2v-1h1v-1h1v1h1v2h-3v1h1v1h-2v2h1v1h2v3h-2v-1h1v-1h-2v-1h-3v-2h-1v1h-1v3h-1v-2h-1v2h1v1H9v-8h2v-1h1V9h-1V7h-1v1H9V5h1v1h1V4h-1zm6 0v5h5V2zM3 3h3v3H3zm14 0h3v3h-3zm-4 4h1v1h-1zM2 9h7v1h2v1H9v1H7v1H6v-1H5v-2H3v1h1v1H3v1h1v1H2v-3H1v-1h1zm14 0h2v1h-1v1h-1zm5 0h1v2h-1zM6 10v1h2v-1zm8 0h1v1h-1zm-9 3h1v1H5zm2 0h1v1H7zm5 0v1h-1v1h-1v1h2v-1h1v-2zm9 0h1v1h-1zm-1 1h1v2h1v2h-1v-1h-3v-1h2zM1 15h7v7H1zm1 1v5h5v-5zm1 1h3v3H3zm10 1h1v1h2v1h-1v1h-1v-1h-1zm-1 2h1v1h-1zm3 1h1v1h-1zm5 0h1v1h-1z"}));default:return null}};n.default=c}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{consts:41}],191:[function(t,e,n){!function(t){"use strict";function e(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0});var r="undefined"!=typeof window?window.ReactDOM:"undefined"!=typeof t?t.ReactDOM:null,a=e(r);n.default={getDefaultProps:function(){return{scrollNodeInnerOffsetBottom:0,scrollNodeInnerOffsetTop:0,scrollNodeSelector:null}},scrollToView:function(){var t=this;return Vow.fulfill().then(function(){if(t.props.scrollNodeSelector){t._node||(t._node=a.default.findDOMNode(t)),t._scrollNode||(t._scrollNode="html"===t.props.scrollNodeSelector?document.scrollingElement||document.documentElement:document.querySelector(t.props.scrollNodeSelector));var e={top:t.props.scrollNodeInnerOffsetTop,bottom:-t.props.scrollNodeInnerOffsetBottom};if("html"!==t.props.scrollNodeSelector){var n=t._scrollNode.getBoundingClientRect();e.top+=n.top,e.bottom+=n.bottom}else e.bottom+=window.innerHeight;var r=t._node.getBoundingClientRect(),i=r.top-e.top;i>0&&(i=Math.min(Math.max(r.bottom-e.bottom,0),i)),i&&(t._scrollNode.scrollTop+=i)}})}}}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],192:[function(t,e,n){!function(e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0});var a="undefined"!=typeof window?window.React:"undefined"!=typeof e?e.React:null,i=r(a),s="undefined"!=typeof window?window._:"undefined"!=typeof e?e._:null,o=t("react-bem-components/lib/Popup"),c=r(o),l=t("react-bem-components/lib/Button"),d=r(l),u=t("bem_/react-mixin"),f=r(u),p=t("helpers/react"),m=t("helpers/message"),h=t("helpers/metrika"),v=r(h),y=t("rocks/button-copy"),b=r(y),g=t("rocks/icon/social"),_=r(g);e.window&&t("actions/share"),n.default=i.default.createClass({mixins:[f.default],displayName:"popup-share",propTypes:{services:i.default.PropTypes.shape({items:i.default.PropTypes.array,action:i.default.PropTypes.string,params:i.default.PropTypes.object}),buttonCopy:i.default.PropTypes.bool,shortUrl:i.default.PropTypes.string,onClose:i.default.PropTypes.func},getInitialState:function(){return{showQR:!1,height:0}},getDefaultProps:function(){return{buttonCopy:!0,onOpen:function(){},onClose:function(){}}},render:function(){return i.default.createElement(c.default,{ref:"popup",target:this.props.target,onOpen:this.onOpen,onClose:this.onClose,closable:!0,directions:["bottom-right","top-right","left-center"]},this.getContent())},open:function(t){this.refs.popup.setAnchor(t),this.refs.popup.open()},close:function(){this.refs.popup.close()},onOpen:function(t){var e=this.refs[this.state.showQR?"qr":"menu"].offsetHeight;this.setState({height:e}),this.props.onOpen(t)},onClose:function(t){var e=this;setTimeout(function(){e.setState({showQR:!1,height:0})},150),this.props.onClose(t)},showQR:function(){var t=this.refs.qr.offsetHeight;this.setState({showQR:!0,height:t}),this.countAction("qr")},getContent:function(){var t=this,e=this.props.services.items,n=void 0===e?[]:e;return i.default.createElement("div",{className:this.state.showQR?this.b.m("qr"):this.b,style:{minHeight:this.state.height}},i.default.createElement("div",{className:this.b.e("menu"),ref:"menu"},this.getButtonCopy(),i.default.createElement("div",{className:this.b.e("item-group")},n.map(function(e){return t.getItem(e)}),this.getItem("qr",this.showQR))),this.getQR())},getItem:function(t,e){var n=this.props.services,r=n.action,a=n.params;return a=s.extend({service:t},a),e=e||function(){return ns.action.run(r,a)},i.default.createElement("div",{key:t,onClick:e,className:this.b.e("item")},i.default.createElement(_.default,{service:t,className:this.b.e("icon")}),i.default.createElement("span",{className:this.b.e("label")},m.getTitleSocial(t)))},getButtonCopy:function(){if(this.props.buttonCopy)return i.default.createElement(b.default,{className:this.b.e("item-group").e("item"),text:this.props.shortUrl});var t=i.default.createElement(p.I18N,{loc:"Нажмите "+p.I18N.$1+", чтобы скопировать"},i.default.createElement("kbd",null,"MacOS"===this.props.OSFamily?"⌘-C":" Ctrl-C"));return i.default.createElement("div",{className:this.b.e("item-group").e("item").m("text")},t)},getQR:function(){return i.default.createElement("div",{className:this.b.e("qr"),ref:"qr"},i.default.createElement("div",{className:this.b.e("qr-image"),style:{backgroundImage:"url("+this.props.qrUrl+")"}}),i.default.createElement("div",{className:this.b.e("qr-text")},"Скачать QR-код в формате:"),i.default.createElement("div",{className:this.b.e("qr-buttons")},this.getQRButton("png"),this.getQRButton("svg")),i.default.createElement("div",{className:this.b.e("qr-buttons")},this.getQRButton("eps"),this.getQRButton("pdf")))},getQRButton:function(t){var e=this,n=t.toUpperCase(),r=this.props.qrUrl+"&download=1&format="+t,a=function(){e.countAction("qr-"+t)};return i.default.createElement(d.default,{size:"s",type:"link",url:r,target:"_blank",text:n,onClick:a})},countAction:function(t){var e=ns.Model.getValid("resource",{id:this.props.services.params.id});e&&v.default.count("actions","with resources","public links","link sharing attempt",e.get(".type"),t)}})}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"actions/share":37,"bem_/react-mixin":7,"helpers/message":59,"helpers/metrika":60,"helpers/react":67,"react-bem-components/lib/Button":16,"react-bem-components/lib/Popup":22,"rocks/button-copy":175,"rocks/icon/social":190}],193:[function(t,e,n){!function(e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function a(t,e){return t.toDateString()===e.toDateString()}Object.defineProperty(n,"__esModule",{value:!0});var i="undefined"!=typeof window?window.React:"undefined"!=typeof e?e.React:null,s=r(i),o=t("bem_/react-mixin"),c=r(o),l=t("helpers/format"),d=1e3,u=60*d,f=60*u,p=[{match:function(t,e){return 50*d>e-t},template:function(){return"только что"},timeout:u},{match:function(t,e){return f>e-t},template:function(t,e){return __i18n__.i18n.convert(["минуту назад",Math.round(e/u)+" минуту назад",Math.round(e/u)+" минуты назад",Math.round(e/u)+" минут назад"],Math.round(e/u))},timeout:u},{match:function(t,e){return 6*f>e-t},template:function(t,e){return __i18n__.i18n.convert(["час назад",Math.round(e/f)+" час назад",Math.round(e/f)+" часа назад",Math.round(e/f)+" часов назад"],Math.round(e/f))},timeout:f},{match:function(t,e){return a(t,e)},template:function(t){return l.timestampToDate(t,"H:mm")},timeout:f},{match:function(t,e){var n=new Date(e);return n.setDate(e.getDate()-1),a(t,n)},template:function(t){return"вчера "+l.timestampToDate(t,"H:mm")},timeout:f},{match:function(t,e){return t.getFullYear()===e.getFullYear()},template:function(t){return l.timestampToDate(t,"D mmmm HH:mm")}},{match:function(){return!0},template:function(t){return l.timestampToDate(t,"DD.MM.YYYY HH:mm")}}];n.default=s.default.createClass({mixins:[c.default],displayName:"relative-date",getInitialState:function(){var t=this.getState();return t.fullDate=p[p.length-1].template(new Date(this.props.time)/1e3),t},componentDidMount:function(){this.initUpdate()},componentDidUpdate:function(){this.initUpdate()},componentWillUnmount:function(){this._ticking&&clearTimeout(this._ticking)},initUpdate:function(){var t=this;!this._ticking&&this.state.timeout&&(this._ticking=setTimeout(function(){t._ticking=!1,t.setState(t.getState())},this.state.timeout))},getState:function(){var t=new Date(this.props.time),e=new Date,n=null,r=null;return p.some(function(a){return a.match(t,e)?(n=a.template(t/1e3,e-t),r=a.timeout,!0):!1}),{date:n,timeout:r}},render:function(){return s.default.createElement("span",{className:this.b,title:this.state.fullDate},this.state.date)}})}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"bem_/react-mixin":7,"helpers/format":53}],194:[function(t,e){"use strict";function n(t){return-1!==["d","i","public","mail"].indexOf(t)?"public":"a"===t?"album":void 0}var r=t("../helpers/uri"),a=e.exports={parseUrl:function(e){e=r.mergeSlashes(e);var n=t("url").parse(e,!0),a=n.pathname.split("/").filter(Boolean).map(function(t){try{t=decodeURIComponent(t)}catch(e){}return t}),i=a.shift();if(-1!==["d","i"].indexOf(i)){var s=a.shift();if(a.length)var o="/"+a.join("/");else{var c=/^(.+)_(x{0,3}[sl]|m)\.(?:jpg|jpeg|png|gif)$/i,l=c.exec(s);if(l){s=l[1];var d=l[2].toUpperCase()}}if(/[^0-9A-Za-z_-]/.test(s))return}else if(-1!==["public","mail"].indexOf(i)){var u=n.query.hash.split(":"),f=u.shift(),a=u.join(":").split("/").filter(Boolean);if(a.length)var o="/"+a.join("/")}return"a"===i&&(a.length>1?(o=a.pop(),s=a.pop()):s=a.pop()),{prefix:i,hashShort:s,hashLong:f,pathResource:o,sizeImage:d}},parseId:function(t){var e=t.indexOf(":"),n=(/^\/(\w+)\//.exec(t)||[""])[0],r=n.length,i={};return i.hashLong=t.slice(r),e>-1&&(i.hashLong=t.slice(r,e),i.pathResource=t.slice(e+1)),i.hashLong=a.decodeHash(i.hashLong),i},formatIdRoot:function(t){return"/"+n(t.prefix)+"/"+a.encodeHash(t.hashLong)},formatIdContext:function(t){return a.formatIdRoot(t)+(t.pathResource?":"+t.pathResource:"")},formatIdResource:function(t){return a.formatIdRoot(t)+":"+t.pathResource},formatPrivateHash:function(t){var e=a.parseId(t);return e.hashLong+(e.pathResource?":"+e.pathResource:"")},formatUrl:function(t){var e=!t.hashShort,r=t.hashShort||t.hashLong,a=n(t.prefix);return"public"===a&&(t.pathResource&&(e&&(r+=":"),r+=t.pathResource),r=e?"?hash="+encodeURIComponent(r):r.split("/").map(encodeURIComponent).join("/")),"album"===a&&t.pathResource&&(r+="/"+t.pathResource),"/"+t.prefix+"/"+r},encodeHash:function(t){return t.replace(/\//g,"_").replace(/\+/g,"-")},decodeHash:function(t){return t.replace(/_/g,"/").replace(/-/g,"+")}}},{"../helpers/uri":74,url:5}],195:[function(t,e){var n=function(){function t(){if(!U){try{var t=N.getElementsByTagName("body")[0].appendChild(y("span"));t.parentNode.removeChild(t)}catch(e){return}U=!0;for(var n=q.length,r=0;n>r;r++)q[r]()}}function e(t){U?t():q[q.length]=t}function r(t){if(typeof O.addEventListener!=z)O.addEventListener("load",t,!1);else if(typeof N.addEventListener!=z)N.addEventListener("load",t,!1);else if(typeof O.attachEvent!=z)b(O,"onload",t);else if("function"==typeof O.onload){var e=O.onload;O.onload=function(){e(),t()}}else O.onload=t}function a(){V?i():s()}function i(){var t=N.getElementsByTagName("body")[0],e=y(T);e.setAttribute("type",I);var n=t.appendChild(e);if(n){var r=0;!function(){if(typeof n.GetVariable!=z){var a=n.GetVariable("$version");a&&(a=a.split(" ")[1].split(","),W.pv=[parseInt(a[0],10),parseInt(a[1],10),parseInt(a[2],10)])}else if(10>r)return r++,setTimeout(arguments.callee,10),void 0;t.removeChild(e),n=null,s()}()}else s()}function s(){var t=F.length;if(t>0)for(var e=0;t>e;e++){var n=F[e].id,r=F[e].callbackFn,a={success:!1,id:n};if(W.pv[0]>0){var i=v(n);if(i)if(!g(F[e].swfVersion)||W.wk&&W.wk<312)if(F[e].expressInstall&&c()){var s={};s.data=F[e].expressInstall,s.width=i.getAttribute("width")||"0",s.height=i.getAttribute("height")||"0",i.getAttribute("class")&&(s.styleclass=i.getAttribute("class")),i.getAttribute("align")&&(s.align=i.getAttribute("align"));for(var u={},f=i.getElementsByTagName("param"),p=f.length,m=0;p>m;m++)"movie"!=f[m].getAttribute("name").toLowerCase()&&(u[f[m].getAttribute("name")]=f[m].getAttribute("value"));l(s,u,n,r)}else d(i),r&&r(a);else w(n,!0),r&&(a.success=!0,a.ref=o(n),r(a))}else if(w(n,!0),r){var h=o(n);h&&typeof h.SetVariable!=z&&(a.success=!0,a.ref=h),r(a)}}}function o(t){var e=null,n=v(t);if(n&&"OBJECT"==n.nodeName)if(typeof n.SetVariable!=z)e=n;else{var r=n.getElementsByTagName(T)[0];r&&(e=r)}return e}function c(){return!$&&g("6.0.65")&&(W.win||W.mac)&&!(W.wk&&W.wk<312)}function l(t,e,n,r){$=!0,j=r||null,C={success:!1,id:n};var a=v(n);if(a){"OBJECT"==a.nodeName?(k=u(a),A=null):(k=a,A=n),t.id=D,(typeof t.width==z||!/%$/.test(t.width)&&parseInt(t.width,10)<310)&&(t.width="310"),(typeof t.height==z||!/%$/.test(t.height)&&parseInt(t.height,10)<137)&&(t.height="137"),N.title=N.title.slice(0,47)+" - Flash Player Installation";var i=W.ie&&W.win?"ActiveX":"PlugIn",s="MMredirectURL="+O.location.toString().replace(/&/g,"%26")+"&MMplayerType="+i+"&MMdoctitle="+N.title;if(typeof e.flashvars!=z?e.flashvars+="&"+s:e.flashvars=s,W.ie&&W.win&&4!=a.readyState){var o=y("div");n+="SWFObjectNew",o.setAttribute("id",n),a.parentNode.insertBefore(o,a),a.style.display="none",function(){4==a.readyState?a.parentNode.removeChild(a):setTimeout(arguments.callee,10)}()}f(t,e,n)}}function d(t){if(W.ie&&W.win&&4!=t.readyState){var e=y("div");t.parentNode.insertBefore(e,t),e.parentNode.replaceChild(u(t),e),t.style.display="none",function(){4==t.readyState?t.parentNode.removeChild(t):setTimeout(arguments.callee,10)}()}else t.parentNode.replaceChild(u(t),t)}function u(t){var e=y("div");if(W.win&&W.ie)e.innerHTML=t.innerHTML;else{var n=t.getElementsByTagName(T)[0];if(n){var r=n.childNodes;if(r)for(var a=r.length,i=0;a>i;i++)1==r[i].nodeType&&"PARAM"==r[i].nodeName||8==r[i].nodeType||e.appendChild(r[i].cloneNode(!0))}}return e}function f(t,e,n){var r,a=v(n);if(W.wk&&W.wk<312)return r;if(a)if(typeof t.id==z&&(t.id=n),W.ie&&W.win){var i="";for(var s in t)t[s]!=Object.prototype[s]&&("data"==s.toLowerCase()?e.movie=t[s]:"styleclass"==s.toLowerCase()?i+=' class="'+t[s]+'"':"classid"!=s.toLowerCase()&&(i+=" "+s+'="'+t[s]+'"'));var o="";for(var c in e)e[c]!=Object.prototype[c]&&(o+='<param name="'+c+'" value="'+e[c]+'" />');a.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+i+">"+o+"</object>",B[B.length]=t.id,r=v(t.id)}else{var l=y(T);l.setAttribute("type",I);for(var d in t)t[d]!=Object.prototype[d]&&("styleclass"==d.toLowerCase()?l.setAttribute("class",t[d]):"classid"!=d.toLowerCase()&&l.setAttribute(d,t[d]));for(var u in e)e[u]!=Object.prototype[u]&&"movie"!=u.toLowerCase()&&p(l,u,e[u]);a.parentNode.replaceChild(l,a),r=l}return r}function p(t,e,n){var r=y("param");r.setAttribute("name",e),r.setAttribute("value",n),t.appendChild(r)}function m(t){var e=v(t);e&&"OBJECT"==e.nodeName&&(W.ie&&W.win?(e.style.display="none",function(){4==e.readyState?h(t):setTimeout(arguments.callee,10)}()):e.parentNode.removeChild(e))}function h(t){var e=v(t);if(e){for(var n in e)"function"==typeof e[n]&&(e[n]=null);e.parentNode.removeChild(e)}}function v(t){var e=null;try{e=N.getElementById(t)}catch(n){}return e}function y(t){return N.createElement(t)}function b(t,e,n){t.attachEvent(e,n),H[H.length]=[t,e,n]}function g(t){var e=W.pv,n=t.split(".");return n[0]=parseInt(n[0],10),n[1]=parseInt(n[1],10)||0,n[2]=parseInt(n[2],10)||0,e[0]>n[0]||e[0]==n[0]&&e[1]>n[1]||e[0]==n[0]&&e[1]==n[1]&&e[2]>=n[2]?!0:!1}function _(t,e,n,r){if(!W.ie||!W.mac){var a=N.getElementsByTagName("head")[0];if(a){var i=n&&"string"==typeof n?n:"screen";if(r&&(S=null,M=null),!S||M!=i){var s=y("style");s.setAttribute("type","text/css"),s.setAttribute("media",i),S=a.appendChild(s),W.ie&&W.win&&typeof N.styleSheets!=z&&N.styleSheets.length>0&&(S=N.styleSheets[N.styleSheets.length-1]),M=i}W.ie&&W.win?S&&typeof S.addRule==T&&S.addRule(t,e):S&&typeof N.createTextNode!=z&&S.appendChild(N.createTextNode(t+" {"+e+"}"))}}}function w(t,e){if(Y){var n=e?"visible":"hidden";U&&v(t)?v(t).style.visibility=n:_("#"+t,"visibility:"+n)}}function x(t){var e=/[\\\"<>\.;]/,n=null!=e.exec(t);return n&&typeof encodeURIComponent!=z?encodeURIComponent(t):t}var k,A,j,C,S,M,z="undefined",T="object",P="Shockwave Flash",R="ShockwaveFlash.ShockwaveFlash",I="application/x-shockwave-flash",D="SWFObjectExprInst",E="onreadystatechange",O=window,N=document,L=navigator,V=!1,q=[a],F=[],B=[],H=[],U=!1,$=!1,Y=!0,W=function(){var t=typeof N.getElementById!=z&&typeof N.getElementsByTagName!=z&&typeof N.createElement!=z,e=L.userAgent.toLowerCase(),n=L.platform.toLowerCase(),r=n?/win/.test(n):/win/.test(e),a=n?/mac/.test(n):/mac/.test(e),i=/webkit/.test(e)?parseFloat(e.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,s=!1,o=[0,0,0],c=null;if(typeof L.plugins!=z&&typeof L.plugins[P]==T)c=L.plugins[P].description,!c||typeof L.mimeTypes!=z&&L.mimeTypes[I]&&!L.mimeTypes[I].enabledPlugin||(V=!0,s=!1,c=c.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),o[0]=parseInt(c.replace(/^(.*)\..*$/,"$1"),10),o[1]=parseInt(c.replace(/^.*\.(.*)\s.*$/,"$1"),10),o[2]=/[a-zA-Z]/.test(c)?parseInt(c.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(typeof O.ActiveXObject!=z)try{var l=new ActiveXObject(R);l&&(c=l.GetVariable("$version"),c&&(s=!0,c=c.split(" ")[1].split(","),o=[parseInt(c[0],10),parseInt(c[1],10),parseInt(c[2],10)]))}catch(d){}return{w3:t,pv:o,wk:i,ie:s,win:r,mac:a}}();return function(){W.w3&&((typeof N.readyState!=z&&"complete"==N.readyState||typeof N.readyState==z&&(N.getElementsByTagName("body")[0]||N.body))&&t(),U||(typeof N.addEventListener!=z&&N.addEventListener("DOMContentLoaded",t,!1),W.ie&&W.win&&(N.attachEvent(E,function(){"complete"==N.readyState&&(N.detachEvent(E,arguments.callee),t())}),O==top&&function(){if(!U){try{N.documentElement.doScroll("left")}catch(e){return setTimeout(arguments.callee,0),void 0}t()}}()),W.wk&&function(){return U?void 0:/loaded|complete/.test(N.readyState)?(t(),void 0):(setTimeout(arguments.callee,0),void 0)}(),r(t)))}(),function(){W.ie&&W.win&&window.attachEvent("onunload",function(){for(var t=H.length,e=0;t>e;e++)H[e][0].detachEvent(H[e][1],H[e][2]);for(var r=B.length,a=0;r>a;a++)m(B[a]);for(var i in W)W[i]=null;W=null;for(var s in n)n[s]=null;n=null})}(),{registerObject:function(t,e,n,r){if(W.w3&&t&&e){var a={};a.id=t,a.swfVersion=e,a.expressInstall=n,a.callbackFn=r,F[F.length]=a,w(t,!1)}else r&&r({success:!1,id:t})},getObjectById:function(t){return W.w3?o(t):void 0},embedSWF:function(t,n,r,a,i,s,o,d,u,p){var m={success:!1,id:n};W.w3&&!(W.wk&&W.wk<312)&&t&&n&&r&&a&&i?(w(n,!1),e(function(){r+="",a+="";var e={};if(u&&typeof u===T)for(var h in u)e[h]=u[h];e.data=t,e.width=r,e.height=a;var v={};if(d&&typeof d===T)for(var y in d)v[y]=d[y];if(o&&typeof o===T)for(var b in o)typeof v.flashvars!=z?v.flashvars+="&"+b+"="+o[b]:v.flashvars=b+"="+o[b];if(g(i)){var _=f(e,v,n);e.id==n&&w(n,!0),m.success=!0,m.ref=_}else{if(s&&c())return e.data=s,l(e,v,n,p),void 0;w(n,!0)}p&&p(m)})):p&&p(m)},switchOffAutoHideShow:function(){Y=!1},ua:W,getFlashPlayerVersion:function(){return{major:W.pv[0],minor:W.pv[1],release:W.pv[2]}},hasFlashPlayerVersion:g,createSWF:function(t,e,n){return W.w3?f(t,e,n):void 0},showExpressInstall:function(t,e,n,r){W.w3&&c()&&l(t,e,n,r)},removeSWF:function(t){W.w3&&m(t)},createCSS:function(t,e,n,r){W.w3&&_(t,e,n,r)},addDomLoadEvent:e,addLoadEvent:r,getQueryParamValue:function(t){var e=N.location.search||N.location.hash;if(e){if(/\?/.test(e)&&(e=e.split("?")[1]),null==t)return x(e);for(var n=e.split("&"),r=0;r<n.length;r++)if(n[r].substring(0,n[r].indexOf("="))==t)return x(n[r].substring(n[r].indexOf("=")+1))}return""},expressInstallCallback:function(){if($){var t=v(D);t&&k&&(t.parentNode.replaceChild(k,t),A&&(w(A,!0),W.ie&&W.win&&(k.style.display="block")),j&&j(C)),$=!1}}}}();e.exports=n},{}],196:[function(t){"use strict";if(ns.SERVER){var e=t("ufo-bem-components/dist/ufo-bem-components.bh"),n=t("react-bem-components/lib/register");n({bh:e})}ns.View.define("app",{events:{"ufo-main-view-lock-overflow":"toggleLock","ufo-main-view-hide-overflow":"toggleOverflow","ufo-main-view-tooggle-user-select":"toggleUserSelect"},methods:{toggleLock:function(t,e){this.$node.toggleClass("main-view_lock-overflow",e)},toggleOverflow:function(t,e){this.$node.toggleClass("main-view_hide-overflow",e)},toggleUserSelect:function(t,e){this.$node.toggleClass("main-view_no-user-select",e)}}})},{"react-bem-components/lib/register":26}],197:[function(){"use strict";ns.View.define("asidePublic")},{}],198:[function(t){!function(e){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}var r="undefined"!=typeof window?window.React:"undefined"!=typeof e?e.React:null,a=n(r),i=t("rocks/attitude"),s=n(i);ns.ViewReact.define("attitude",{params:function(t){return{commentId:t.commentId,entityId:t.entityId,entityType:t.entityType,attitudeType:t.attitudeType,userId:t.userId}},models:{attitude:{"ns-model-changed":"updateView"}},methods:{getUserName:function(){var t=this.getModel("attitude").get(".user_id"),e=ns.Model.getValid("user",{user_id:t});return e?e.get(".display_name"):String(t)},getAvatarUrl:function(){return ns.Model.get("config").get(".links.yapic")+this.getModel("attitude").get(".user_id")+"/islands-middle"},getSocialProvider:function(){var t=this.getModel("attitude").get(".user_id"),e=ns.Model.getValid("user",{user_id:t});return e?e.get(".social.provider"):null},getComponentProps:function(){return{avatar:this.getAvatarUrl(),socialProvider:this.getSocialProvider(),user:this.getUserName()}}},component:{render:function(){return a.default.createElement(s.default,this.props.view.getComponentProps())}}})}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"rocks/attitude":173}],199:[function(t){!function(e){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){return{attitudeType:e,commentId:t.commentId,entityId:t.entityId,entityType:t.entityType}}function a(){return{handleClick:function(){var t=this,e=this.props.type===this.getModelData("attitudeCurrent",".myAttitude"),n=function(){switch(t.props.attitudeToType){case"reply":case"comment":return t.props.attitudeToType;default:return"public link"}};return p.default.metrikaCount([this.props.view.params.attitudeType+" "+(e?"off":"on"),n()]),this.props.view.handleAttitude()},getErrorMessageNotFound:function(){switch(this.props.attitudeToType){case"file":return"Не удалось получить список пользователей. Файл удалён.";case"dir":return"Не удалось получить список пользователей. Папка удалена.";case"comment":return"Не удалось получить список пользователей. Комментарий удалён.";case"reply":return"Не удалось получить список пользователей. Ответ удалён.";default:return"Не удалось получить список пользователей."}},render:function(){return o.default.createElement(l.default,i({attitudeList:this.createChildren(),className:this.props.className,handleClick:this.handleClick,errorMessage:"Произошла ошибка. Попробуйте позже.",errorMessageForbidden:"Не удалось получить список пользователей. Отметки отключены.",errorMessageNotFound:this.getErrorMessageNotFound(),mode:this.props.mode},this.props.view.getComponentProps()))}}}var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};t("views/attitudes/attitude"),t("models/attitudes/attitudes"),t("models/comments/attitude-current");var s="undefined"!=typeof window?window.React:"undefined"!=typeof e?e.React:null,o=n(s),c=t("rocks/attitudes"),l=n(c),d=t("helpers/auth"),u=n(d),f=t("helpers/comments"),p=n(f),m={attitudeCurrent:{"ns-model-changed":"updateView"},attitudes:{"ns-model-changed":"updateView"}},h={byModel:"attitudes",intoViews:"attitude"},v={handleAttitude:function(){return u.default.hasAuth()?this.setAttitude():(p.default.metrikaCount(["login popup"]),u.default.getAuthDialogPromise().then(this.setAttitude.bind(this)))},setAttitude:function(){return this.getModel("attitudeCurrent").setMyAttitude(this.params.attitudeType)},getComponentProps:function(){var t=this.getModel("attitudeCurrent"),e=this.getModel("attitudes");return{count:t.get("."+this.params.attitudeType+"Count"),countLoaded:e.models.length,handleFetch:function(){return e.fetch()},isChecked:this.params.attitudeType===t.get(".myAttitude"),isMobile:ns.Model.get("environment").get(".agent.isMobile"),type:this.params.attitudeType}}};ns.ViewReactCollection.define("likes",{params:function(t){return r(t,"like")},models:m,split:h,methods:v,component:a()}),ns.ViewReactCollection.define("dislikes",{params:function(t){return r(t,"dislike")},models:m,split:h,methods:v,component:a()})}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"helpers/auth":44,"helpers/comments":45,"models/attitudes/attitudes":90,"models/comments/attitude-current":92,"rocks/attitudes":174,"views/attitudes/attitude":198}],200:[function(t){!function(e){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}t("models/user-current/user-current"),t("models/comments/comment"),t("models/comments/state-comments"),t("models/comments/state-comments-scroll"),t("models/resource/resource");var r="undefined"!=typeof window?window.React:"undefined"!=typeof e?e.React:null,a=n(r),i=t("rocks/comment"),s=n(i),o=t("helpers/uri"),c=n(o),l=t("helpers/comments"),d=n(l);t("views/attitudes/attitudes");var u={"ns-model-changed":"updateView"},f={likes:!0,dislikes:!0};ns.layout.define("commentSingle",{"comment@":{comment:f}}),ns.layout.define("commentWithReplies",{"comment@":{comment:f,comments:!0}}),ns.ViewReact.define("commentBox",{models:["comment"],methods:{patchLayout:function(){var t=this.getModel("comment");return t.get(".replies")&&!t.get(".isDeleted")?"commentWithReplies":"commentSingle"}}}),ns.ViewReact.define("comment",{models:{comment:u,environment:!1,resource:u,stateComments:u,stateCommentsScroll:u,userCurrent:u},params:function(t){return{entityType:t.entityType,entityId:t.entityId,commentId:t.commentId,id:t.idRoot,parentId:t.parentId,stateCommentsId:t.parentId||t.commentId}},events:{"ns-view-init":"oninit","ns-view-show":"onshow","ns-view-touch":"ontouch"},methods:{oninit:function(){this._hasBeenAlreadySelected=!1},onshow:function(){this.hasSelectedStateChanged()&&this.getModel("stateCommentsScroll").setScrollToId(this.params.commentId)},ontouch:function(){this.hasSelectedStateChanged()&&this.setSelected()},getAuthorName:function(){var t=this.getModel("comment").get(".author_id"),e=ns.Model.getValid("user",{user_id:t});
return e?e.get(".display_name"):String(t)},getAvatarUrl:function(){return ns.Model.get("config").get(".links.yapic")+this.getModel("comment").get(".author_id")+"/islands-middle"},getSocialProvider:function(){var t=this.getModel("comment").get(".author_id"),e=ns.Model.getValid("user",{user_id:t});return e?e.get(".social.provider"):null},getLink:function(){var t=c.default.makeRelative(this.getModel("resource").get(".meta.short_url"));return this.isSelected()?t:c.default.addParams(t,{cid:this.params.commentId})},isAuthor:function(){return String(this.getModel("comment").get(".author_id"))===this.getModel("userCurrent").get(".uid")},isOwner:function(){return this.getModel("resource").get(".meta.uid")===this.getModel("userCurrent").get(".uid")},isSelected:function(){return ns.page.current.params.cid===String(this.params.commentId)},isReply:function(){return!!this.params.parentId},hasSelectedStateChanged:function(){return this._hasBeenAlreadySelected!==this.isSelected()},setSelected:function(){this.updateView(),this._hasBeenAlreadySelected=this.isSelected()},getComponentProps:function(){var t=this,e=this.getModel("comment"),n=this.getModel("stateComments"),r=this.getModel("stateCommentsScroll");return{author:this.getAuthorName(),avatar:this.getAvatarUrl(),selected:this.isSelected(),scroll:r.get(".scrollToId")===this.params.commentId,handleScrollComplete:function(){return r.resetScrollToId()},handleClickReplies:function(){return n.toggleReplies()},handleDelete:function(){return t.handleDelete()},handleReply:function(){return t.handleReply()},handleRestore:function(){return t.handleRestore()},isDeleted:e.get(".isDeleted"),isInitialLoading:n.get(".isInitialLoading"),isMobile:this.getModel("environment").get(".agent.isMobile"),labelCommentDeleted:"Комментарий удалён",labelDelete:"Удалить",labelReply:"Ответить",labelReplyCount:__i18n__.i18n.convert([e.get(".replies_count")+" ответ",e.get(".replies_count")+" ответа",e.get(".replies_count")+" ответов"],e.get(".replies_count")),labelReplyDeleted:"Ответ удалён",labelRestore:"Восстановить",link:this.getLink(),replies:e.get(".replies_count"),scrollNodeInnerOffsetBottom:r.get(".scrollNodeOffsetBottom"),scrollNodeInnerOffsetTop:r.get(".scrollNodeOffsetTop"),scrollNodeSelector:r.get(".scrollNodeSelector"),showPrivateControls:this.isAuthor()||this.isOwner(),socialProvider:this.getSocialProvider(),text:e.get(".text"),time:e.get(".created"),type:this.isReply()?"reply":"comment"}},handleDelete:function(){var t=this.getModel("comment");return d.default.metrikaCount(["delete",this.isReply()?"reply":"comment"]),t.delete()},handleRestore:function(){var t=this.getModel("comment");return d.default.metrikaCount(["restore",this.isReply()?"reply":"comment"]),t.restore()},handleReply:function(){var t=this.getModel("stateComments");return d.default.metrikaCount(["click reply link",this.isReply()?"reply":"comment"]),t.updateReplyTo(this.params.commentId)}},component:{render:function(){var t=this.props.view.getComponentProps();return a.default.createElement(s.default,t,this.createChildren({attitudeToType:t.type}))}}})}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"helpers/comments":45,"helpers/uri":74,"models/comments/comment":94,"models/comments/state-comments":103,"models/comments/state-comments-scroll":102,"models/resource/resource":138,"models/user-current/user-current":159,"rocks/comment":177,"views/attitudes/attitudes":199}],201:[function(t){!function(e){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}t("models/user-current/user-current"),t("models/comments/state-comments"),t("models/comments/state-comments-scroll"),t("models/comments/comment-settings"),t("models/comments/comments"),t("models/states/state-direct-aside-public"),t("views/comments/comment");var r="undefined"!=typeof window?window.React:"undefined"!=typeof e?e.React:null,a=n(r),i=t("rocks/comments"),s=n(i),o=t("helpers/page"),c=n(o),l=t("helpers/uri"),d=n(l),u=t("helpers/comments"),f=n(u),p=t("helpers/auth"),m=n(p),h="ufo-comment";ns.ViewReactCollection.define("comments",{models:{stateDirectAsidePublic:"metrikaShowCount",userCurrent:{"ns-model-changed":"updateModelComments"},stateComments:{"ns-model-changed":"onStateCommentsChange"},stateCommentsScroll:{"ns-model-changed":c.default.update},commentSettings:{"ns-model-changed":"updateModelComments"},comments:{"ns-model-insert":c.default.update,"ns-model-remove":c.default.update},resource:!1},events:{"ns-view-show":"metrikaShowCount"},params:function(t){var e={id:t.idRoot,entityType:t.entityType,entityId:t.entityId};return t.commentId?(e.parentId=t.commentId,e.stateCommentsId=t.commentId):(!t.poster||t.cid)&&ns.Model.get("stateComments",e).set(".isRepliesVisible",!0),e},split:{intoViews:"commentBox",byModel:"comments"},methods:{metrikaShowCount:function(){var t=this;if(!this._alreadyCounted&&!this.params.parentId){var e=this.models.commentSettings.get(".comments_disabled");if(e)return this._alreadyCounted=!0,f.default.metrikaCount(["block status","disabled"]),void 0;var n=function(){t._alreadyCounted=!0;var e=ns.page.current.params.cid;if(e){var n=t.models.comments.getCommentByIdRecursive(e),r=void 0;r=n?n.get(".parentId")?"reply":"comment":"deleted",f.default.metrikaCount(["show",r])}f.default.metrikaCount(["block status","enabled"])};if(ns.page.current.params.poster)return n();var r=this.getModel("stateDirectAsidePublic").get(".viewportStatus");return r?(f.default.metrikaCount(["show","all "+r]),n()):void 0}},handleSubmit:function(t){var e=this,n=this.getModel("comments"),r=function(){return n.add(t,e.params.parentId)};if(f.default.metrikaCount(["send",this.params.parentId?"reply":"comment"]),m.default.hasAuth())return r();if(f.default.metrikaCount(["login popup"]),"undefined"!=typeof this.params.parentId){var a=d.default.addParams(location.href,{cid:this.params.commentId});ns.Model.get("stateDialogAuth").set(".retpathDialog",a)}return localStorage.setItem(h,JSON.stringify({id:this.params.commentId,text:t})),m.default.getAuthDialogPromise().then(function(){return e.tryPopLocalComment(),r()},this.tryPopLocalComment.bind(this))},tryPopLocalComment:function(){if(e.window&&window.localStorage){var t=localStorage.getItem(h);if(t)try{var n=JSON.parse(t),r=n.id,a=n.text;if(r===this.params.commentId)return localStorage.removeItem(h),a}catch(i){localStorage.removeItem(h)}}return null},onStateCommentsChange:function(){var t=this.getModel("comments"),e=this.getModel("stateComments");0===t.getCommentsCountLoaded()&&t.getCommentsCountTotal()>0&&e.get(".isRepliesVisible")&&!e.get(".isInitialLoading")&&(e.set(".isInitialLoading",!0),t.fetch("last").always(function(){e.set(".isInitialLoading",!1)})),this.updateView()},updateModelComments:function(){this.getModel("comments").invalidate()},getAvatarUrl:function(){return ns.Model.get("config").get(".links.yapic")+(this.getModel("userCurrent").get(".uid")||0)+"/islands-middle"},handleLoadMore:function(t){var e=this.getModel("comments");return f.default.metrikaCount(["first"===t?"show previous":"show more",this.params.parentId?"replies":"comments"]),e.fetch(t)},getComponentProps:function(){var t=this,e=this.getModel("comments"),n=this.getModel("stateComments"),r=this.getModel("stateCommentsScroll"),a=this.tryPopLocalComment(),i=this.getModel("commentSettings").get(".comments_disabled"),s=!i&&n.get(".isRepliesVisible");return a&&n.set(".isFormVisible",!0),{avatar:this.getAvatarUrl(),commentsCountLoaded:e.getCommentsCountLoaded(),commentsCountTotal:e.getCommentsCountTotal(),commentsNodePosition:r.get(".commentsPositionTop"),handleCommentsNodePositionChange:function(t){return r.setCommentsPosition(t)},handleLoadMore:function(e){return t.handleLoadMore(e)},handleScrollNodeOffsetChange:function(t){var e=t.value;return r.setOffset(e)},handleSubmit:function(e){return t.handleSubmit(e)},isFirstLoaded:e.get(".isFirstLoaded"),isFormVisible:this.params.parentId?n.get(".isFormVisible"):s,isLastLoaded:e.get(".isLastLoaded"),isRepliesVisible:s,labelLoadMore:this.params.parentId?"Показать ещё ответы":"Показать ещё комментарии",parentId:this.params.parentId,placeholder:this.params.parentId?"Написать ответ":"Написать комментарий",replyToId:n.get(".replyToId"),resourceType:this.getModel("resource").get(".type"),scrollNodeOffsetBottom:r.get(".scrollNodeOffsetBottom"),scrollNodeOffsetTop:r.get(".scrollNodeOffsetTop"),scrollNodeSelector:r.get(".scrollNodeSelector"),savedComment:a}}},component:{render:function(){return a.default.createElement(s.default,this.props.view.getComponentProps(),this.createChildren())}}})}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"helpers/auth":44,"helpers/comments":45,"helpers/page":64,"helpers/uri":74,"models/comments/comment-settings":93,"models/comments/comments":95,"models/comments/state-comments":103,"models/comments/state-comments-scroll":102,"models/states/state-direct-aside-public":154,"models/user-current/user-current":159,"rocks/comments":179,"views/comments/comment":200}],202:[function(t){!function(e){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a="undefined"!=typeof window?window.React:"undefined"!=typeof e?e.React:null,i=n(a),s=t("rocks/comments/header"),o=n(s),c=t("helpers/comments"),l=n(c),d={"ns-model-changed":"updateView"};ns.ViewReact.define("commentsHeader",{models:{attitudeCurrent:d,commentSettings:d,resource:!1,stateComments:d,userCurrent:d},params:function(t){return{id:t.idRoot,entityType:t.entityType,entityId:t.entityId}},methods:{handleAttitude:function(t){var e=this.getModel("attitudeCurrent"),n=t===e.get(".myAttitude");return l.default.metrikaCount([t+" "+(n?"off":"on"),"public link"]),e.setMyAttitude(t)},handleToggleComments:function(){var t=this.getModel("commentSettings");return l.default.metrikaCount(["settings",t.get(".comments_disabled")?"enable comments":"disable comments"]),t.toggle()},handleViewComments:function(){var t=this.getModel("stateComments");return l.default.metrikaCount(["show","btn click"]),t.toggleReplies(!0)},getComponentProps:function(){var t=this,e=this.getModel("attitudeCurrent"),n=this.getModel("commentSettings"),r=this.getModel("stateComments"),a=this.getModel("resource"),i=a.get(".meta.views_counter");return{dislikeCount:e.get(".dislikeCount"),handleDislike:function(){return t.handleAttitude("dislike")},handleLike:function(){return t.handleAttitude("like")},handleToggleComments:function(){return t.handleToggleComments()},handleViewComments:function(){return t.handleViewComments()},isDisabled:n.get(".comments_disabled"),isOwner:this.getModel("userCurrent").get(".uid")===a.get(".meta.uid"),isRepliesVisible:r.get(".isRepliesVisible"),likeCount:e.get(".likeCount"),myAttitude:e.get(".myAttitude"),views:i?"Просмотров: "+i:"Нет просмотров"}}},component:{render:function(){return i.default.createElement(o.default,r({attitudes:this.createChildren({mode:"button",attitudeToType:this.props.view.getModel("resource").get(".type")})},this.props.view.getComponentProps()))}}})}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"helpers/comments":45,"rocks/comments/header":178}],203:[function(){!function(t){"use strict";function e(t){return t&&t.__esModule?t:{"default":t}}var n="undefined"!=typeof window?window.React:"undefined"!=typeof t?t.React:null,r=e(n);ns.ViewReact.define("commentsStub",{models:{resource:!1},params:function(t){return{id:t.idRoot}},component:{render:function(){var t=this.getModelData("resource",".meta.views_counter");return r.default.createElement("div",{className:"comments-header comments-header__row"},t?"Просмотров: "+t:"Нет просмотров")}}})}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],204:[function(t){"use strict";t("models/comments/server-stub"),ns.ViewReact.define("commentsWrapper",{models:["commentsServerStub"]})},{"models/comments/server-stub":101}],205:[function(t){!function(e){"use strict";t("models/resource/resource"),t("models/states/state-dialog-auth"),t("models/user-current/user-current"),t("views/dialogs/dialog-auth/dialog-auth"),t("nanoblocks/icon-resource/icon-resource");var n="undefined"!=typeof window?window._:"undefined"!=typeof e?e._:null,r=t("url"),a=t("config"),i=t("routers/public"),s=ns.View.infoLite("dialogAuth"),o=n.extend({userCurrent:!0,resource:!1},s.models),c=n.extend({"click .js-copy":"onClickCopy"},s.events);ns.View.define("dialogAuthCopy",{models:o,params:function(){return{id:ns.Model.get("stateDialogAuth").get(".idResource")}},events:c,methods:{afterinit:function(){n.bindAll(this,"doCopy"),this.setRetpath(),this.models.stateDialogAuth.set(".retpath",this.retpath),e.window&&(this._typePopupMetrika="copy"===ns.page.current.params.idApp?"login popup":"login & copy popup")},setRetpath:function(){this.retpath=a.links.disk+r.format({pathname:"/copy/",query:{hash:i.formatPrivateHash(this.params.id),source:this.models.stateDialogAuth.get(".source")||"copy-public",sk:a.skExternal}})},onAuthSuccess:function(){"copy"===ns.page.current.params.idApp?location.assign(this.retpath):(this.findAuth().then(this.doCopy),this.close())},doCopy:function(){ns.action.run("resource.save",this.params)},redirectToPassport:function(){location.assign(a.links.passport.login+"&retpath="+encodeURIComponent(this.retpath))},onClickCopy:function(t){return location.assign($(t.currentTarget).attr("href")),!1}}},"dialogAuth")}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{config:40,"models/resource/resource":138,"models/states/state-dialog-auth":152,"models/user-current/user-current":159,"nanoblocks/icon-resource/icon-resource":165,"routers/public":194,url:5,"views/dialogs/dialog-auth/dialog-auth":206}],206:[function(t){!function(e){"use strict";t("models/environment/environment"),t("models/states/state-dialog-auth"),t("nanoblocks/form-auth/form-auth");var n="undefined"!=typeof window?window._:"undefined"!=typeof e?e._:null,r=t("config"),a=t("helpers/page"),i=t("helpers/metrika"),s=t("helpers/formatter-metrika");ns.View.define("dialogAuth",{models:{config:!0,environment:!0,stateDialogAuth:{"ns-model-changed":"onStateChanged"}},events:{"click window":"onWindowClick","ns-view-init":"oninit","ns-view-htmlinit":"onhtmlinit","ns-view-show":"onshow","ns-view-htmldestroy":"onhtmldestroy","click .js-register":"onClickRegister","click .js-qrcode":"onClickQrcode"},methods:{oninit:function(){n.bindAll(this,"onAuthSuccess","onAuthError","onStartAuth","onStartAuthSocial","onInputLogin","onInputPassword","resetError","afterinit"),this.afterinit()},afterinit:no.nop,onhtmlinit:function(){var t=this.node.querySelector(".js-form");if(t){this.nbFormAuth=nb.block(t),this.nbFormAuth.on("nb-auth-success",this.onAuthSuccess),this.nbFormAuth.on("nb-auth-error",this.onAuthError),this.nbFormAuth.on("nb-start-auth-social",this.onStartAuthSocial),this.nbFormAuth.on("nb-start-auth",this.onStartAuth),this.nbFormAuth.on("nb-input-login",this.onInputLogin),this.nbFormAuth.on("nb-input-password",this.onInputPassword),this.nbFormAuth.on("nb-input-error-closed",this.resetError);var e=this.models.stateDialogAuth.get(".error");e&&this.nbFormAuth[e.login?"showErrorLogin":"showErrorPassword"]()}},onhtmldestroy:function(){this.nbFormAuth&&(this.nbFormAuth.off("nb-auth-success",this.onAuthSuccess),this.nbFormAuth.off("nb-auth-error",this.onAuthError),this.nbFormAuth.off("nb-start-auth-social",this.onStartAuthSocial),this.nbFormAuth.off("nb-start-auth",this.onStartAuth),this.nbFormAuth.off("nb-input-login",this.onInputLogin),this.nbFormAuth.off("nb-input-password",this.onInputPassword),this.nbFormAuth.off("nb-input-error-closed",this.resetError),this.nbFormAuth.destroy())},onshow:function(){this._countMetrika("show")},onAuthSuccess:function(){if("auth"===ns.page.current.params.idApp){var t=this.models.stateDialogAuth.get(".retpathDialog");t?location.assign(t):location.reload()}else this.findAuth(),this.close()},findAuth:function(){var e=[r.links.clientAuth];return t("client-auth").findAuthStatus(e)},onAuthError:function(t,e){-1!==["password-invalid","password-empty"].indexOf(e.status)?this.models.stateDialogAuth.setDataError({password:{status:e.status}}):-1!==["account-not-found","login-empty"].indexOf(e.status)?this.models.stateDialogAuth.setDataError({login:{status:e.status}}):this.redirectToPassport(e)},onStartAuthSocial:function(t,e){nb.trigger("popup-close"),this._countMetrika("social",e)},onStartAuth:function(){this._countMetrika("log in")},onClickRegister:function(t){return this._countLeaveMetrika("register").always(function(){location.assign($(t.currentTarget).attr("href"))}),!1},onClickQrcode:function(t){return this._countLeaveMetrika("qrcode").always(function(){location.assign($(t.currentTarget).attr("href"))}),!1},redirectToPassport:function(t){var e=r.links.passport.auth,n=this.models.stateDialogAuth.get(".retpathDialog");n&&(e=r.links.passport.login+"&retpath="+encodeURIComponent(n)),t.idkey&&(e+="&track_id="+encodeURIComponent(t.idkey)),location.assign(e)},onInputLogin:function(t,e){this.models.stateDialogAuth.set(".login",e)},onInputPassword:function(t,e){this.models.stateDialogAuth.set(".password",e),/[а-яё]/i.test(e)&&this.models.stateDialogAuth.setDataError({password:{status:"keyboard_warning"}})},resetError:function(){this.models.stateDialogAuth.setDataError(null)},onWindowClick:function(t){$(t.target).is(".nb-paranja")&&this.close()},close:function(){ns.action.run("dialog-auth.close")},_typePopupMetrika:"login popup",_getPrefixMetrika:function(){var t=ns.page.current.params.idContext||"";return t?[this._typePopupMetrika,s.getNameContext(t)]:[this._typePopupMetrika]},_countMetrika:function(){var t=this._getPrefixMetrika();i.count.apply(i,t.concat(n.toArray(arguments)))},_countLeaveMetrika:function(){var t=this._getPrefixMetrika();return i.countLeave.apply(i,t.concat(n.toArray(arguments)))},onStateChanged:function(t,e){(".error"===e&&this.models.stateDialogAuth.get(".error")||".retpathDialog"===e)&&(this.invalidate(),a.update())}}})}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"client-auth":39,config:40,"helpers/formatter-metrika":54,"helpers/metrika":60,"helpers/page":64,"models/environment/environment":110,"models/states/state-dialog-auth":152,"nanoblocks/form-auth/form-auth":164}],207:[function(t){"use strict";t("models/environment/environment"),t("models/cv-info/cv-info"),t("./direct-aside-public.js");var e="directAsidePublic",n=ns.View.infoLite(e);ns.View.define("directAsidePublicImage",{models:Object.assign({environment:!0,cvInfo:!0},n.models),events:n.events,params:n.params},e)},{"./direct-aside-public.js":208,"models/cv-info/cv-info":107,"models/environment/environment":110}],208:[function(t){"use strict";t("models/resource/resource"),t("models/config/config"),t("models/states/state-direct-aside-public"),ns.View.define("directAsidePublic",{models:{config:!0,resource:!1,environment:!0,stateDirectAsidePublic:!1},params:function(t){return{id:t.idRoot}},events:{"ns-view-init":"oninit","ns-view-htmlinit":"onhtmlinit","ns-view-show":"onshow","ns-view-hide":"onhide"},methods:{oninit:function(){this.onReceiveMessage=this.onReceiveMessage.bind(this)},onhtmlinit:function(){this.iframe=this.node.querySelector(".yandex-direct")},onshow:function(){this.iframe?window.addEventListener("message",this.onReceiveMessage):this.getModel("stateDirectAsidePublic").set(".viewportStatus",this.STATUSES.none)},onhide:function(){this.iframe&&window.removeEventListener("message",this.onReceiveMessage)},onReceiveMessage:function(t){var e=t.data;/^rtb/.test(e.id)&&(this.setIframeHeight(e.height),this.defineVisibilityStatus())},setIframeHeight:function(t){this.iframe.style.height=t+"px"},defineVisibilityStatus:function(){var t=this.iframe.getBoundingClientRect(),e=window.innerHeight>(t.top+t.bottom)/2;this.getModel("stateDirectAsidePublic").set(".viewportStatus",e?this.STATUSES.visible:this.STATUSES.hidden)},STATUSES:{none:"no awaps",hidden:"no adv",visible:"with adv"}}})},{"models/config/config":104,"models/resource/resource":138,"models/states/state-direct-aside-public":154}],209:[function(t){!function(e){"use strict";t("models/cv-info/cv-info");var n=t("./direct-content-public.js"),r="undefined"!=typeof window?window._:"undefined"!=typeof e?e._:null;ns.View.define("directContentPublicImage",{models:r.extend({},n.models,{cvInfo:!0}),events:n.events,params:function(t){return{id:t.idRoot}}},"directContentPublic")}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./direct-content-public.js":210,"models/cv-info/cv-info":107}],210:[function(t,e){"use strict";t("models/config/config"),t("models/environment/environment");var n=t("helpers/page");ns.View.define("directContentPublic",e.exports={models:{config:!0,environment:!0},events:{"ns-view-touch":"ontouch"},methods:{ontouch:function(){var t=Date.now(),e=ns.page.current.params.idContext;return this.idContext?(this.idContext!==e&&(t-this.lastUpdated<3e4||(this.idContext=e,this.lastUpdated=t,this.invalidate(),n.update())),void 0):(this.idContext=e,this.lastUpdated=t,void 0)}}})},{"helpers/page":64,"models/config/config":104,"models/environment/environment":110}],211:[function(t){"use strict";t("models/resource/resource"),t("views/view-fetch").define("fetchResource",{models:["resource"],params:function(t){return{id:t.idDialog}}})},{"models/resource/resource":138,"views/view-fetch":233}],212:[function(t){!function(e){"use strict";t("models/resource/resource"),t("nanoblocks/icon-resource/icon-resource");var n="undefined"!=typeof window?window._:"undefined"!=typeof e?e._:null,r=t("helpers/metrika"),a=55,i=32,s=200;ns.View.define("filePublic",{models:["resource"],params:function(t){return{id:t.idRoot}},events:{"ns-view-htmlinit":"onhtmlinit"},methods:{onhtmlinit:function(){if(n.bindAll(this,"showPreview","setSizeContainerVideo"),!this.models.resource.get(".meta.blocked")){this.isVideo="video"===this.models.resource.get(".meta.mediatype"),this.isVideo&&(Modernizr.videostream?(this.setSizeContainerVideo(),this._$window.on("resize",n.debounce(this.setSizeContainerVideo,100))):(this.node.removeClass("b-slider__item_video"),this.node.querySelector(".js-player-video").addClass("_hidden"),this.node.querySelector(".js-preview-video").removeClass("_hidden")));var t=this.models.resource.get(".hasPreview")&&"video"!==this.models.resource.get(".meta.mediatype");if(t){this.nodePreview=this.$node.find(".js-preview"),this.nodeLoader=this.$node.find(".js-loader");var e=this.nodePreview[0];!e.complete||"undefined"!=typeof e.naturalWidth&&0===e.naturalWidth?(this.hidePreview(),this.nodePreview.on("load",this.showPreview)):this.showPreview()}r.count("interface elements","show page")}},setSizeContainerVideo:function(){var t=this.$node.find(".js-container-video"),e=this._$window.height()-t.offset().top-a-i;s>e&&(e=s),t.css({height:e})},hidePreview:function(){this.nodePreview.addClass("_hidden"),this.nodeLoader.removeClass("_hidden")},showPreview:function(){this.nodeLoader.addClass("_hidden"),this.nodePreview.removeClass("_hidden"),this.$node.delay(300).hide(0).show(0)}}})}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"helpers/metrika":60,"models/resource/resource":138,"nanoblocks/icon-resource/icon-resource":165}],213:[function(t){"use strict";t("models/config/config"),t("models/environment/environment"),t("models/resource/resource"),ns.View.define("footerPublic",{models:["config","environment","resource"],params:function(t){return{id:t.idRoot,poster:t.poster}}})},{"models/config/config":104,"models/environment/environment":110,"models/resource/resource":138}],214:[function(){"use strict";var t="form-search-ufo-query-search.changed";ns.View.define("formSearch",{models:["environment"],params:function(t){var e="/disk";return t.scopeSearch?e=t.scopeSearch:("/trash"===t.idContext||"/mail"===t.idContext)&&(e=t.idContext),{scopeSearch:e}},events:{"ns-view-htmlinit":"onhtmlinit","ns-view-htmldestroy":"onhtmldestroy","ns-view-touch":"ontouch","submit .js-search":"search","mousedown .js-button-submit":"search","mousedown .js-clear":"clearInput","mousedown .js-arrow":"onArrowClick"},methods:{onhtmlinit:function(){var e=this.node.querySelector(".js-query"),n=this.node.querySelector(".js-button-submit");this.input=$(e),this.nbInput=nb.block(e),this.nbButtonSubmit=nb.block(n),this.buttonClear=$(this.node.querySelector(".js-clear")),this.buttonClear.hide(),this.nbButtonSubmit.disable(),this.nbInput.on("nb-input",this.updateStateButtons.bind(this)),this.models.environment.get(".agent.isMobile")&&this.input.on("focus",function(){setTimeout(function(){window.scrollTo(0,0),$(".nb-layer_type_fixed").css("position","absolute")},0)}),this.on(t,this.onQuerySearchChanged)},onhtmldestroy:function(){this.input.off(),this.off(t,this.onQuerySearchChanged)},ontouch:function(){var e=ns.page.current.params.querySearch;(e!==this._querySearch||this._querySearch!==encodeURIComponent(this.nbInput.getValue()))&&(this._querySearch=e,this.trigger(t))},search:function(t){t.preventDefault();var e=this.input.val();e?ns.action.run("app.search",{querySearch:e,scopeSearch:this.params.scopeSearch,from:"formSearch"}):ns.action.run("listing.openFolder",{id:this.params.scopeSearch,from:"formSearch"}),this.input.blur()},updateStateButtons:function(){this.nbInput.getValue().length>0?(this.buttonClear.show(),this.nbButtonSubmit.enable()):(this.buttonClear.hide(),this.nbButtonSubmit.disable())},onQuerySearchChanged:function(){if(this.nbInput){var t=this._querySearch?decodeURIComponent(this._querySearch):"";this.nbInput.setValue(t)}this.updateStateButtons()},clearInput:function(t){t.preventDefault(),this.nbInput.setValue(""),this.nbInput.focus(),this.updateStateButtons()},onArrowClick:function(){ns.action.run("listing.openFolder",{id:"/disk",from:"logo"})}}})},{}],215:[function(t){!function(e){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}var r="undefined"!=typeof window?window._:"undefined"!=typeof e?e._:null,a=n(r),i=t("helpers/page"),s=n(i),o=t("helpers/metrika"),c=n(o),l="undefined"!=typeof window?window.React:"undefined"!=typeof e?e.React:null,d=n(l),u=t("ui-components/lib/Header/Header.jsx"),f=n(u),p=t("./upload.jsx"),m=n(p),h=t("./search.jsx"),v=n(h),y=t("./user.jsx"),b=n(y),g=t("react-bem-components/lib/Link"),_=n(g),w=t("rocks/icon/download-app"),x=n(w);t("models/user-current/user-current"),t("models/environment/environment"),t("nanoblocks/popup-account/popup-account"),ns.ViewReact.define("header",{models:{config:{"ns-model-change":"updateView"},environment:{"ns-model-change":"updateView"},userCurrent:{"ns-model-change":"updateView"}},events:{"ns-view-show":"onshow"},params:function(t){return{idApp:t.idApp,querySearch:t.querySearch,scopeSearch:t.scopeSearch,idContext:"/trash"===t.idContext||"/mail"===t.idContext?t.idContext:"/disk"}},methods:{onshow:function(){this._renderElement()}},component:{componentDidMount:function(){var t=this.getIdOS();this.shouldDisplayDownloadAppElement()&&t&&c.default.count("interface elements","header","download","show",t)},getScopeSearch:function(t){return t.scopeSearch?t.scopeSearch:t.idContext},search:function(t){t&&ns.action.run("app.search",{querySearch:t,scopeSearch:this.getScopeSearch(this.props.view.params),from:"formSearch"})},getElementSearch:function(){var t=function(t){switch(t){case"/trash":return"Поиск по Корзине";case"/mail":return"Поиск по вложениям";case"/journal":return"Поиск по Истории";default:return""}};return d.default.createElement(v.default,{key:"header-search",className:" header__search",disabled:this.getModelData("environment",".session.loadingFailed"),text:"Найти",placeholder:t(this.getScopeSearch(this.props.view.params)),query:decodeURIComponent(this.props.view.params.querySearch||""),onSubmit:this.search})},showDialogAuth:function(){ns.action.run("dialog-auth.show")},switchAccount:function(t){c.default.countLeave("interface elements","login popup","click","change account").always(function(){ns.action.run("auth.switch-account",{uid:t})})},handleMetrikaUser:function(t,e){var n=this.props.models.config,r=["interface elements","login popup"],a=!1,i="";switch(t){case"show":r.push(t,e?"multiauth promo":"multiauth");break;case"hide":r.push(t);break;case"close promo":r.push("click",t);break;case"add account promo":case"add account":a=!0,i=n.get(".links.passport.auth"),r.push("click",t);break;case"passport":a=!0,i=n.get(".links.passport.home"),r.push("click",t);break;case"logout":a=!0,i=n.get(".links.passport.logout"),r.push("click",t);break;default:r.push("click",t)}a?c.default.countLeave.apply(this,r).always(function(){window.location.href=i}):c.default.count.apply(this,r)},getElementUser:function(){var t=this.props.models.config,e=this.props.models.userCurrent;if(e.get(".uid")){var n=[{id:"passport",text:"Паспорт",url:t.get(".links.passport.home")},{id:"logout",text:"Выход",url:t.get(".links.passport.logout")}],r={avatar:e.get(".avatar"),auth:t.get(".links.passport.auth")};return d.default.createElement(b.default,{handlerMetrika:this.handleMetrikaUser,key:"header-user",className:"header__user",displayName:e.get(".name"),url:r,menu:n,onAccountClick:this.switchAccount,accountsExtra:this.getModelData("environment",".session.auth.accountsExtra")})}return t.get(".yandexuid")?d.default.createElement(_.default,{text:"Войти",type:"pseudo",onClick:this.showDialogAuth}):null},selectFile:function(t,e){var n={files:t};ns.events.trigger("ufo-social-import-hide"),ns.action.run("resource.upload",n).always(function(){e(),c.default.count("actions","uploading","start upload","via button in header"),a.default.defer(function(){s.default.go(s.default.getUrlBase()+"|upload")})})},getElementUpload:function(){return"client"===this.props.view.params.idApp?d.default.createElement(m.default,{className:"header__upload",text:this.getModelData("environment",".agent.isMobile")?null:"Загрузить",title:"Загрузить файлы",disabled:this.getModelData("environment",".session.loadingFailed"),onChange:this.selectFile}):null},getMenuItems:function(t){var e=this.getModelData("config",".links"),n={all:{text:"Все сервисы",url:e.all},appmetrika:{text:"AppMetrika",url:e.appmetrika},browser:{text:"Яндекс.Браузер",url:e.browser},calendar:{text:"Календарь",url:e.calendar},contacts:{text:"Контакты",url:e.contacts},images:{text:"Картинки",url:e.images},mail:{text:"Почта",url:e.mail},maps:{text:"Карты",url:e.maps},market:{text:"Маркет",url:e.market},money:{text:"Деньги",url:e.money},music:{text:"Музыка",url:e.music},news:{text:"Новости",url:e.news},portal:{text:"Коннект",url:e.portal},probki:{text:"Пробки",url:e.probki},rasp:{text:"Расписания",url:e.rasp},translate:{text:"Перевод",url:e.translate},video:{text:"Видео",url:e.video},weather:{text:"Погода",url:e.weather},yamb:{text:"Ямб",url:e.yamb}};return t.map(function(t){var e=n[t];return e.id=t,e})},getMenuItemsByTld:function(t){switch(t){case"ru":return this.getMenuItems(["mail","maps","market","images","video","news","weather","browser","music","money","rasp","all"]);case"ua":return this.getMenuItems(["mail","maps","market","images","video","news","weather","browser","music","rasp","all"]);case"com.tr":return this.getMenuItems(["mail","maps","images","weather","video","translate","probki","browser"]);default:return this.getMenuItems(["mail","maps","images","video","appmetrika","translate","browser"])}},handleMetrikaHeader:function(t,e){var n=["interface elements"],r=!e||!!e.target.href&&e.target.host!==window.location.host&&!e.ctrlKey&&!e.altKey,a=e?e.target.href:this.getMenuItems([t])[0].url;switch(t){case"more":r=!1,n.push("header tabs","click",t);break;case"logo":n.push("header yandex logo","click");break;case"title":n.push("header disk title","click");break;default:n.push("header tabs","click",t)}r?(e&&e.preventDefault(),c.default.countLeave.apply(this,n).always(function(){window.location.href=a
})):c.default.count.apply(this,n)},isWS:function(){return this.getModelData("userCurrent",".isWS")},getLogoUrl:function(){return this.getModelData("config",".links.yandex")},getMenu:function(){var t="ещё";if(this.isWS())return{items:this.getMenuItems(["portal","yamb","mail","calendar","contacts"]),more:t};var e=this.getModelData("config",".tld");return{items:this.getMenuItemsByTld(e),limit:"com.tr"===e?4:3,more:t,url:this.getModelData("config",".links.all")}},getElementDownloadApp:function(){var t=this.getIdOS();if(this.shouldDisplayDownloadAppElement()&&t){var e="mac"===t?"Получайте файлы и папки на компьютер максимально быстро. Для этого нужно установить Яндекс.Диск для Mac.":"Получайте файлы и папки на компьютер максимально быстро. Для этого нужно установить Яндекс.Диск для Windows.";return d.default.createElement("a",{className:"_link header__download-app",href:this.getModelData("config",".links.downloadApp."+t),target:"_blank",onClick:function(){c.default.count("interface elements","header","download","click",t)},title:e},d.default.createElement(x.default,{size:"m",className:"header__download-app-icon"}),d.default.createElement("span",{className:"header__download-app-text"},"Установить Диск"))}},shouldDisplayDownloadAppElement:function(){return"public"===this.props.view.params.idApp&&!this.getModelData("environment",".agent.isMobile")},getIdOS:function(){var t=this.getModelData("environment",".agent.OSFamily");return"MacOS"===t?"mac":"Windows"===t?"win":null},render:function(){return d.default.createElement(f.default,{handlerMetrika:this.handleMetrikaHeader,locale:this.getModelData("environment",".session.locale"),logoUrl:this.getLogoUrl(),title:"Диск","const":this.getModelData("config",".links.diskRoot"),menu:this.getMenu()},this.getElementDownloadApp(),this.getElementUpload(),this.getElementSearch(),this.getElementUser())}}})}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./search.jsx":216,"./upload.jsx":217,"./user.jsx":218,"helpers/metrika":60,"helpers/page":64,"models/environment/environment":110,"models/user-current/user-current":159,"nanoblocks/popup-account/popup-account":172,"react-bem-components/lib/Link":20,"rocks/icon/download-app":182,"ui-components/lib/Header/Header.jsx":29}],216:[function(t,e,n){!function(e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0});var a="undefined"!=typeof window?window.React:"undefined"!=typeof e?e.React:null,i=r(a),s=t("react-bem-components/lib/Input"),o=r(s),c=t("react-bem-components/lib/Button"),l=r(c);n.default=i.default.createClass({getInitialState:function(){return{query:this.props.query}},getDefaultProps:function(){return{query:"",text:"Search",placeholder:"",disabled:!1}},componentWillReceiveProps:function(t){this.setState({query:t.query})},handleInputChange:function(t){this.setState({query:t.value})},handleSubmit:function(t){"function"==typeof this.props.onSubmit&&this.props.onSubmit(this.state.query),t.preventDefault()},render:function(){return i.default.createElement("form",{className:"control-group"+this.props.className,onSubmit:this.handleSubmit},i.default.createElement(o.default,{key:this.props.placeholder,val:this.state.query,type:"search",hasClear:!0,placeholder:this.props.placeholder,disabled:this.props.disabled,onChange:this.handleInputChange}),i.default.createElement(l.default,{text:this.props.text,type:"submit",disabled:this.props.disabled}))}})}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"react-bem-components/lib/Button":16,"react-bem-components/lib/Input":19}],217:[function(t,e,n){!function(t){"use strict";function e(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0});var r="undefined"!=typeof window?window.React:"undefined"!=typeof t?t.React:null,a=e(r);n.default=a.default.createClass({displayName:"Upload",reset:function(){this.refs.input.value=null},handleChange:function(t){var e=t.target.files;"function"==typeof this.props.onChange&&e.length>0&&this.props.onChange(e,this.reset)},getButtonText:function(){return this.props.text?a.default.createElement("span",{className:"button__text"},this.props.text):null},render:function(){var t=["button","button_view_action","button_size_m","button_theme_islands",this.props.disabled?"button_disabled":null,this.props.className].filter(Boolean).join(" ");return a.default.createElement("span",{style:{position:"relative"},title:this.props.title,className:t},a.default.createElement("input",{ref:"input",className:"button__attach",type:"file",multiple:!0,onChange:this.handleChange,disabled:this.props.disabled}),a.default.createElement("span",{className:"icon icon_action_upload"},a.default.createElement("svg",{width:"16",height:"16"},a.default.createElement("path",{d:"M1,13v2h14v-2H1z M2,7h3v5h6V6.969L14,7L8,1L2,7z"}))),this.getButtonText())}})}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],218:[function(t,e,n){!function(e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0});var a="undefined"!=typeof window?window.React:"undefined"!=typeof e?e.React:null,i=r(a),s="undefined"!=typeof window?window.ReactDOM:"undefined"!=typeof e?e.ReactDOM:null,o=r(s),c=t("ui-components/lib/Avatar/Avatar.jsx"),l=r(c),d=t("react-bem-components/lib/Popup"),u=r(d),f=t("react-bem-components/lib/Menu"),p=r(f),m=t("react-bem-components/lib/Button"),h=r(m);n.default=i.default.createClass({getInitialState:function(){return{popupOpened:!1,promoOpened:!0}},getDefaultProps:function(){return{accountsExtra:[]}},componentDidMount:function(){this.refs.popup.setAnchor(o.default.findDOMNode(this.refs.anchor))},handleClick:function(t){var e=this.state.popupOpened;this.setState({popupOpened:!e}),"function"==typeof this.props.onClick&&this.props.onClick(),"function"!=typeof this.props.handlerMetrika||e||this.props.handlerMetrika("show",this.state.promoOpened&&!this.props.accountsExtra.length),t.preventDefault()},handlePopupClose:function(){this.setState({popupOpened:!1})},handlePromoClose:function(){this.setState({promoOpened:!1}),"function"==typeof this.props.handlerMetrika&&this.props.handlerMetrika("close promo")},handleClickAccount:function(t){this.setState({popupOpened:!1}),"function"==typeof this.props.onAccountClick&&this.props.onAccountClick(t)},handleClickMenu:function(t){this.setState({popupOpened:!1}),"function"==typeof this.props.handlerMetrika&&this.props.handlerMetrika(t.value)},handleClickPromoAdd:function(t){this.setState({popupOpened:!1}),"function"==typeof this.props.handlerMetrika&&this.props.handlerMetrika("add account promo"),t.preventDefault()},render:function(){var t=this,e=i.default.createElement("div",{className:"popup-account__accounts"},i.default.createElement("div",{className:"popup-account__close",onClick:this.handlePromoClose}),i.default.createElement("div",{className:"popup-account__desc"},"Работайте с несколькими Дисками одновременно"),i.default.createElement(h.default,{onClick:this.handleClickPromoAdd,text:"Добавить",type:"link",view:"action",url:this.props.url.auth})),n=this.props.accountsExtra.map(function(e,n){return i.default.createElement("div",{className:"popup-account__user",key:"item-"+n,onClick:function(){t.handleClickAccount(e.uid)}},i.default.createElement("span",{className:" nb-user _nb-small-user _nb-user_justify _nb-user_ltr"},i.default.createElement("span",{className:" nb-user-avatar _nb-small-user-avatar",style:{backgroundImage:"url("+e.avatar+")"}}),i.default.createElement("span",{className:"_nb-user-label"},i.default.createElement("span",{className:"_nb-user-name _link",title:e.name},e.name))))}),r=i.default.createElement("div",{className:"popup-account__accounts"},i.default.createElement("div",{className:"popup-account__users"},n),i.default.createElement("a",{className:"popup-account__add-user",onClick:function(){t.props.handlerMetrika("add account")},href:this.props.url.auth},i.default.createElement("div",{className:"popup-account__icon-add"}),"Добавить пользователя")),a=this.props.menu.map(function(t){return{text:t.text,url:t.url,val:t.id,type:"link",pseudo:!0}});return i.default.createElement("div",{ref:"anchor",className:this.props.className,onClick:this.handleClick},i.default.createElement("span",{className:"header__username"},this.props.displayName),i.default.createElement(l.default,{url:this.props.url.avatar}),i.default.createElement(u.default,{ref:"popup",closable:!0,target:"anchor",directions:["bottom-center","bottom-right"],visible:this.state.popupOpened,onClose:this.handlePopupClose},i.default.createElement("div",{key:"popup-account-"+this.props.displayName,className:"popup-account"},this.props.accountsExtra.length?r:null,!this.props.accountsExtra.length&&this.state.promoOpened?e:null),i.default.createElement(p.default,{onSelect:this.handleClickMenu,key:"menu-"+this.props.displayName,options:a})))}})}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"react-bem-components/lib/Button":16,"react-bem-components/lib/Menu":21,"react-bem-components/lib/Popup":22,"ui-components/lib/Avatar/Avatar.jsx":28}],219:[function(t){!function(e){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}var r="undefined"!=typeof window?window.React:"undefined"!=typeof e?e.React:null,a=n(r),i="undefined"!=typeof window?window.ReactDOMServer:"undefined"!=typeof e?e.ReactDOMServer:null,s=n(i),o=t("helpers/react"),c=t("bem_/react-mixin"),l=n(c),d=t("react-bem-components/lib/Button"),u=n(d),f=t("react-bem-components/lib/Popup"),p=n(f),m=t("react-bem-components/lib/Link"),h=n(m),v=t("consts"),y=t("helpers/space"),b=n(y),g=t("helpers/format"),_=n(g),w=t("helpers/uri"),x=n(w),k="undefined"!=typeof window?window._:"undefined"!=typeof e?e._:null,A=n(k);t("models/resource/resource"),t("models/config/config"),t("models/environment/environment"),t("models/user-current/user-current");var j=t("helpers/metrika"),C=t("rocks/popup-share"),S=n(C),M=t("rocks/icon/eye"),z=n(M),T=t("rocks/icon/info"),P=n(T),R=t("rocks/icon/file"),I=n(R),D="initial",E="saving",O="saved",N="downloaded",L=s.default.renderToStaticMarkup(a.default.createElement(z.default,null)),V=a.default.createClass({mixins:[l.default,o.refClassName],displayName:"info-public",getInitialState:function(){return{popupInfo:!1,buttonSave:D,buttonDownload:D}},render:function(){return this.props.meta.blocked?a.default.createElement("div",{className:this.b},this.blockedMessage()):a.default.createElement("div",{className:this.b},this.getIcon(),a.default.createElement("div",{className:this.b.e("row")},this.info(),this.name()),a.default.createElement("div",{className:this.b.e("row").e("buttons")},this.buttonSave(),this.buttonDownload()),this.buttonEditOffice(),this.warnings(),this.props.children)},blockedMessage:function(){if("user"===this.props.meta.blocked)return a.default.createElement("div",{className:this.b.e("warning")},"Файл заблокирован");var t=ns.Model.get("config");return a.default.createElement("div",{className:this.b.e("warning")},"На этот файл поступила жалоба, доступ к нему заблокирован. ",a.default.createElement(h.default,{url:t.get(".links.blocked"),text:"Подробности"}))},getIcon:function(){var t=this;if(!this.props.poster)return null;var e=this.b.e("icon");if("docviewer"!==this.props.app)return a.default.createElement("div",{className:e},a.default.createElement(I.default,{type:this.props.icon,size:"xl"}));var n=function(){j.count("interface elements","public content","view in DV"),ns.action.run("resource.view-docviewer",{id:t.props.id,name:t.props.name})};return a.default.createElement("div",{className:e.m("view"),onClick:n,title:"Просмотреть"},a.default.createElement(I.default,{type:this.props.icon,size:"xl"}),a.default.createElement("div",{className:this.b.e("icon-view")},a.default.createElement(u.default,{icon:{content:L},size:"l",text:"Просмотреть"})))},name:function(){return a.default.createElement("div",{className:this.b.e("name"),title:this.props.name},this.props.name)},infoData:function(){var t=this.props,e=t.mtime,n=t.type,r=t.meta,i=r.download_counter,s=r.size,o=r.drweb,c=r.short_url,l=r.files_count,d=[a.default.createElement("li",{key:"owner"},"Владелец",": ",this.props.user.login)];if("undefined"!=typeof s&&d.push(a.default.createElement("li",{key:"size"},"Размер",": ",b.default.format(s))),l&&d.push(a.default.createElement("li",{key:"count"},"Количество файлов",": ",l)),e){var u="file"===n?"Изменён":"Изменена";d.push(a.default.createElement("li",{key:"mtime"},u,": ",_.default.timestampToDate(e,"DD.MM.YYYY HH:mm")))}if(i&&c){var u="file"===n?"Скачан":"Скачана";d.push(a.default.createElement("li",{key:"downloads"},u,": ",__i18n__.i18n.convert(["один раз",i+" раз",i+" раза",i+" раз"],i)))}return 1===o&&d.push(a.default.createElement("li",{key:"drweb"},"Вирусов не обнаружено")),a.default.createElement("ul",{className:this.b.e("info-list")},d)},info:function(){return a.default.createElement("span",{ref:"info",onClick:this.togglePopupInfo,className:this.b.e("info")},a.default.createElement(p.default,{target:"anchor",onClose:this.closePopupInfo,ref:"popupInfo",visible:this.state.popupInfo,closable:!0},this.infoData()),a.default.createElement(P.default,{size:"m"}))},togglePopupInfo:function(){this.refs.popupInfo.setAnchor(this.refs.info);var t=!this.state.popupInfo;this.setState({popupInfo:t}),t&&(j.count("interface elements","public sidebar","info popup","show window"),"dir"===this.props.type&&j.count("interface elements","public sidebar","info popup","show folder info"))},closePopupInfo:function(){this.setState({popupInfo:!1})},buttonSave:function(){return a.default.createElement("span",{ref:"save",className:this.b.e("button")},this.getButtonSave(),a.default.createElement(p.default,{target:"anchor",onClose:this.closePopupSave,ref:"popupSave",visible:this.state.popupSave,closable:!0},a.default.createElement("div",{className:this.b.e("popup-save-content")},a.default.createElement(o.I18N,{loc:"Файл сохранен на ваш Яндекс.Диск в "+o.I18N.$1+"."},a.default.createElement("a",{href:this.props.downloadsUrl},"Загрузки")))))},buttonEditOffice:function(){return this.props.editInOfficeUrl?a.default.createElement("div",{className:this.b.e("row")},a.default.createElement(u.default,{url:this.props.editInOfficeUrl,type:"link",size:"l",theme:"islands",target:"_blank",text:"Редактировать в Office Online"})):null},getButtonSave:function(){var t=this.refClassName("save"),e=!1;switch(this.state.buttonSave){case E:e=!0;case D:return a.default.createElement(u.default,{ref:t,onClick:this.onClickSave,size:"l",text:"Сохранить на Яндекс.Диск",view:"action",disabled:e});case O:return a.default.createElement(u.default,{key:"disk_link",ref:t,size:"l",text:"Открыть Яндекс.Диск",type:"link",url:this.props.downloadsUrl})}},closePopupSave:function(){this.setState({popupSave:!1})},onClickSave:function(){var t=this;this.refs.popupSave.setAnchor(this.refs.save),this.setState({buttonSave:E});var e=ns.action.run("resource.save",{id:this.props.id});e&&"operationSavePublic"===e.id&&(e.once("status.done",function(){t.setState({buttonSave:O,popupSave:!0})}),e.once("status.failed",function(){t.setState({buttonSave:D})})),j.count("interface elements","public sidebar","save")},buttonDownload:function(){var t=this,e=function(){j.count("interface elements","public sidebar","download"),ns.action.run("resource.download",{id:t.props.id}),t.setState({buttonDownload:N})};return a.default.createElement("span",{className:this.b.e("button")},a.default.createElement(u.default,{ref:this.refClassName("download"),onClick:e,size:"l",theme:"islands",disabled:this.isDownloadBlocked()||this.isDirSpeedLimited()||this.state.buttonDownload===N,text:"Скачать"}))},warnings:function(){return this.isDownloadBlocked()?a.default.createElement("div",{className:this.b.e("warning")},"Превышен лимит на скачивание файла. Вы можете сохранить его только на Яндекс.Диск."):this.isDirSpeedLimited()?a.default.createElement("div",{className:this.b.e("warning").m("light")},"Превышен лимит на скачивание папки архивом. Вы сможете сохранить его только на Яндекс.Диск."):this.props.meta.speed_limited?a.default.createElement("div",{className:this.b.e("warning").m("light"),dangerouslySetInnerHTML:{__html:"Скорость скачивания снижена до&nbsp;64&nbsp;кбит/с."}}):void 0},isDownloadBlocked:function(){var t=this.props.meta.blockings;return!!(t&&t.simple&&t.simple.public)},isDirSpeedLimited:function(){return this.props.meta.speed_limited&&"dir"===this.props.type},resetButtonDownload:function(){this.setState({buttonDownload:D})},onDownloadFail:function(){this.resetButtonDownload(),this.props.notify({operation:"download",status:"failed"})},componentWillMount:function(){this.props.subscribeOnStartDownload(this.resetButtonDownload,this.onDownloadFail)},componentWillUnmount:function(){this.props.unsubscribeOnStartDownload(this.resetButtonDownload,this.onDownloadFail)}}),q=a.default.createClass({mixins:[l.default],displayName:"share-public",getInitialState:function(){var t=!(!e.window||!Modernizr.clipboard);return{canCopy:t}},render:function(){var t={items:[v.SOCIAL.VK,v.SOCIAL.FB,v.SOCIAL.OK,this.props.isAuth&&v.SOCIAL.MAIL,v.SOCIAL.MAILRU],action:"share.resource",params:{id:this.props.id}};return-1!==["com","com.tr"].indexOf(this.props.tld)&&(t.items=[v.SOCIAL.FB,this.props.isAuth&&v.SOCIAL.MAIL,v.SOCIAL.GPLUS,v.SOCIAL.TW]),t.items=t.items.filter(Boolean),a.default.createElement("label",{ref:"share",className:this.b},"Поделиться: ",a.default.createElement("input",{className:this.b.e("url"),value:this.props.shortUrl,onFocus:this.showPopupShare,onMouseUp:function(t){return t.preventDefault()},readOnly:!0}),a.default.createElement(S.default,{ref:"popup",target:"anchor",services:t,buttonCopy:this.state.canCopy,OSFamily:this.props.OSFamily,shortUrl:this.props.shortUrl,qrUrl:this.props.qrUrl,closable:!0}))},showPopupShare:function(t){this.refs.popup.open(this.refs.share);var e=t.target;this.state.canCopy?e.blur():e.select()}}),F={"ns-model-changed":"updateView"};ns.ViewReact.define("infoPublic",{params:function(t){return A.default.extend({id:t.idRoot},t)},models:{config:F,environment:!1,resource:F,userCurrent:F},methods:{getOfficeOnlineUrl:function(){var t=this.getModel("resource").get(".meta.office_online_url");return t?x.default.addParams(t,{sk:this.getModel("config").get(".skExternal")}):null}},component:{render:function(){var t=this.props.models.resource.getData(),e=t.meta.short_url,n=this.getModelData("config",".links.diskQR")+"?text="+encodeURIComponent(e),r=this.getModelData("config",".links.disk")+"/client"+this.getModelData("userCurrent",".foldersDefault.downloads");return a.default.createElement(V,{app:t.app,downloadsUrl:r,editInOfficeUrl:this.props.view.getOfficeOnlineUrl(),icon:t.icon,id:t.id,meta:t.meta,mtime:t.mtime,name:t.name,notify:function(t){return ns.Model.get("queueNotifications").add(t)},poster:this.props.view.params.poster,subscribeOnStartDownload:function(t,e){ns.events.on("ufo-resource-start-download",t),ns.events.on("ufo-resource-start-download-fail",e)},type:t.type,unsubscribeOnDownload:function(t,e){ns.events.off("ufo-resource-start-download",t),ns.events.off("ufo-resource-start-download-fail",e)},url:t.meta.short_url,user:t.user},a.default.createElement(q,{id:t.id,shortUrl:e,qrUrl:n,OSFamily:this.getModelData("environment",".agent.OSFamily"),tld:this.getModelData("config",".tld"),isAuth:!!this.getModelData("userCurrent",".uid")}))}}})}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"bem_/react-mixin":7,consts:41,"helpers/format":53,"helpers/metrika":60,"helpers/react":67,"helpers/space":69,"helpers/uri":74,"models/config/config":104,"models/environment/environment":110,"models/resource/resource":138,"models/user-current/user-current":159,"react-bem-components/lib/Button":16,"react-bem-components/lib/Link":20,"react-bem-components/lib/Popup":22,"rocks/icon/eye":183,"rocks/icon/file":184,"rocks/icon/info":186,"rocks/popup-share":192}],220:[function(t){"use strict";function e(t){return $(ns.renderNode({notification:t.getData()},"notification"))}t("models/queues/queue-notifications");var n=t("helpers/metrika");ns.View.define("notifications",{models:{queueNotifications:{"ns-model-changed":"keepValid"}},events:{"ns-view-init":function(){this.models.queueNotifications.on("processing",this.add.bind(this))},"ns-view-show":"updateWidth",click:"closeNext",mouseover:"stopTimer",mouseout:"startTimer"},methods:{timeClose:5e3,timeMove:400,add:function(t,r){var a=r.item,i=r.promise,s=e(a);if(!s.text())return i.fulfill(),void 0;n.count("notifications","operation "+a.get(".operation"),a.get(".status"));var o=function(){s.html(e(a).html()).find(".js-message").css("width",""),this.updateWidth()}.bind(this);a.on("ns-model-changed",o),i.always(a.off.bind(a,"ns-model-changed",o)),this.$node.append(s),setTimeout(function(){s.addClass("notifications__item_moved"),this.updateWidth()}.bind(this),100),this.promises=this.promises||[],this.promises.unshift(i),this.timer||this.startTimer()},updateWidth:function(){var t=this.getChildren(),e=this.getChildNext(),n=e.children(".notifications__text").width();t.width(n)},closeNext:function(){var t=this.getChildNext();t.removeClass("notifications__item_moved"),this.updateWidth(),t.length?setTimeout(function(){t.remove(),this.startTimer(),this.promises.pop().fulfill()}.bind(this),this.timeMove):this.stopTimer()},getChildren:function(){var t=$(this.node),e=t.children(".notifications__item_moved");return e},getChildNext:function(){var t=this.getChildren();return t.eq(0)},startTimer:function(){this.timer&&this.stopTimer(),this.timer=setTimeout(function(){this.closeNext()}.bind(this),this.timeClose)},stopTimer:function(){clearTimeout(this.timer),this.timer=null}}})},{"helpers/metrika":60,"models/queues/queue-notifications":125}],221:[function(){"use strict";ns.View.define("pageError",{models:["environment"],events:{"click .js-page-reload":"reload"},methods:{reload:function(){window.location.reload()}}})},{}],222:[function(){"use strict";ns.View.define("contentError",{})},{}],223:[function(t){"use strict";function e(t){return t&&t.__esModule?t:{"default":t}}var n=t("helpers/performance"),r=e(n);t("models/config/config"),t("models/user-current/user-current"),t("models/poster/poster");var a="content-public__navigation_hidden",i=t("helpers/metrika");ns.View.define("contentPublic",{models:{poster:!1,config:!1,userCurrent:{"ns-model-changed":"updateNavigation"},resource:!1,stateCommentsScroll:!1},events:{"ns-view-init":"oninit","ns-view-htmlinit":"onhtmlinit","ns-view-show":"onshow"},params:function(t){return{id:t.idRoot,entityType:t.entityType,entityId:t.entityId,poster:t.poster}},methods:{oninit:function(){var t=this.params.poster?"html":".content-public__aside";this.models.stateCommentsScroll.set(".scrollNodeSelector",t)},onhtmlinit:function(){var t=this.models.poster.get(".pixel");if(t&&((new Image).src=t),this.$navigation=this.$node.find(".js-nav"),this.params.poster){var e=parseInt(this.$node.find(".content-public__poster").css("padding-top"),10);this.models.stateCommentsScroll.set(".scrollNodeOffsetTop",e)}},onshow:function(){this.params.poster&&i.count("adv-poster","show"),r.default.addCommonParams({resourceType:this.models.resource.get(".groupPublic"),poster:this.params.poster||!1})},updateNavigation:function(){this.$navigation.toggleClass(a,!this.models.userCurrent.get(".hasDisk"))}}})},{"helpers/metrika":60,"helpers/performance":66,"models/config/config":104,"models/poster/poster":123,"models/user-current/user-current":159}],224:[function(t){!function(e){"use strict";t("models/resource/resource"),t("models/states/state-player"),t("nanoblocks/player-audio/player-audio");var n="undefined"!=typeof window?window._:"undefined"!=typeof e?e._:null,r=t("helpers/format"),a=t("helpers/metrika"),i=t("environment"),s="player-audio-public_playing",o="player-audio-public_paused",c="iOS"===i.agent.OSFamily;ns.View.define("playerAudioPublic",{models:["resource"],params:function(t){return{id:t.idRoot}},events:{"ns-view-htmlinit":"onhtmlinit","ns-view-htmldestroy":"onhtmldestroy","click .js-play":function(){a.count("interface elements","audio","play button",this.nbPlayerAudio.typePlayer)}},methods:{onhtmlinit:function(){if(n.bindAll(this,"onStatusChanged","onSliderMove","onPlayerNotAvailable","onDurationChanged","onTimeCurrentChanged","onPlayerEnded","onPlayerError"),this.initPlayer(),this.promiseSrc=new Vow.Promise,this.statePlayer=ns.Model.get("statePlayer"),this.statePlayer.on("ns-model-changed.track.status",this.onStatusChanged),this.initControls(),nb.init(this.node),c){var t=ns.Model.get("config");t.get(".tldFinal")?(this.setSrc(),this.$node.removeClass("player-audio-public_inactive")):t.once("ns-model-changed",function(){this.setSrc(),this.$node.removeClass("player-audio-public_inactive")}.bind(this))}},onhtmldestroy:function(){ns.action.run("resource.pause"),this.statePlayer.off("ns-model-changed.track.status",this.onStatusChanged),this.unbindPlayer(),this.unbindControls()},initPlayer:function(){var t=$('<div data-nb="player-audio"></div>');this.nbPlayerAudio=nb.block(t[0]),this.nbPlayerAudio.on("player-audio.duration-changed",this.onDurationChanged),this.nbPlayerAudio.on("player-audio.time-changed",this.onTimeCurrentChanged),this.nbPlayerAudio.on("player-audio.ended",this.onPlayerEnded),this.nbPlayerAudio.on("player-audio.error",this.onPlayerError),this.nbPlayerAudio.on("player-audio.not-available",this.onPlayerNotAvailable)},unbindPlayer:function(){this.nbPlayerAudio.off("player-audio.duration-changed",this.onDurationChanged),this.nbPlayerAudio.off("player-audio.time-changed",this.onTimeCurrentChanged),this.nbPlayerAudio.off("player-audio.ended",this.onPlayerEnded),this.nbPlayerAudio.off("player-audio.error",this.onPlayerError),this.nbPlayerAudio.off("player-audio.not-available",this.onPlayerNotAvailable),this.nbPlayerAudio.destroy()},onPlayerNotAvailable:function(){this.$node.find(".js-player").addClass("_hidden"),this.$node.find(".js-icon").removeClass("_hidden")},initControls:function(){this.$timeCurrent=this.$node.find(".js-time-current"),this.$timeTotal=this.$node.find(".js-time-total");var t=this.node.querySelector(".js-slider");t&&(this.slider=nb.block(t),this.slider.on("nb-slider_slidestart",function(){this._seeking=!0}.bind(this)),this.slider.on("nb-slider_slide",this.onSliderMove),this.slider.on("nb-slider_slidestop",function(){this._seeking=!1,this.jump()}.bind(this)))},unbindControls:function(){this.slider.off()},setSrc:function(){this.models.resource.getURL({inline:!0}).then(function(t){var e=this.nbPlayerAudio.load(t.get(".file"));e&&e.then(function(){this.syncVolume(),this.promiseSrc.fulfill()},this)}.bind(this))},onStatusChanged:function(){if(this.statePlayer.get(".track.id")===this.models.resource.get(".id")){var t=this.statePlayer.get(".track.status");"playing"===t?this.play():"paused"===t?this.pause():"ended"===t?this.onEnded():"stopped"===t?this.stop():"error"===t&&this.onError()}},setPlaying:function(t){this.$node.toggleClass(s,t)},setPaused:function(t){this.$node.toggleClass(o,t)},play:function(){return this.setPaused(!1),this.setPlaying(!0),this.promiseSrc.isResolved()?(this.nbPlayerAudio.play(),void 0):(this.setSrc(),this.promiseSrc.then(function(){this.$node.removeClass("player-audio-public_inactive"),"playing"===this.statePlayer.get(".track.status")&&this.nbPlayerAudio.play()},this),void 0)},pause:function(){this.setPaused(!0),this.setPlaying(!1),this.nbPlayerAudio.pause()},stop:function(){this.onEnded()},onEnded:function(){this.setPaused(!1),this.setPlaying(!1)},onError:function(){return"html"===this.typePlayer?(this.unbindPlayer(),this.initPlayer("flash"),this.nbPlayerAudio.play(),void 0):(this.setPaused(!1),this.setPlaying(!1),void 0)},onDurationChanged:function(t,e){this.updateTimeTotal(e)},onTimeCurrentChanged:function(t,e){this._seeking||(this.updateTimeCurrent(e),this.updateProgress(e))},updateProgress:function(t){this.slider.setValue(100*(t/this.nbPlayerAudio.getDuration())||0)},updateTimeCurrent:function(t){this.$timeCurrent.text(t?r.secondsToTime(t):"00:00")},updateTimeTotal:function(t){this.$timeTotal.text(t?r.secondsToTime(t):"--:--")},onPlayerEnded:function(){this.statePlayer.set(".track.status","ended")},onPlayerError:function(){this.statePlayer.set(".track.status","error")},jump:function(){this.nbPlayerAudio.seek(this.slider.getValue()/100)},syncVolume:function(){var t=this.statePlayer.get(".volume");this.nbPlayerAudio.setVolume(t)},onSliderMove:function(){var t=Math.ceil(this.slider.getValue()/100*this.nbPlayerAudio.getDuration());this.$timeCurrent.text(t?r.secondsToTime(t):"00:00")}}})}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{environment:42,"helpers/format":53,"helpers/metrika":60,"models/resource/resource":138,"models/states/state-player":155,"nanoblocks/player-audio/player-audio":168}],225:[function(t){!function(e){"use strict";t("models/video-info/video-info"),t("models/resource/resource"),t("models/state-resource/state-resource"),t("models/environment/environment"),t("models/config/config"),t("nanoblocks/player-video-flash/player-video-flash"),t("nanoblocks/player-video-yandex/player-video-yandex"),t("nanoblocks/player-video-html/player-video-html");var n="undefined"!=typeof window?window._:"undefined"!=typeof e?e._:null,r=t("helpers/metrika");ns.View.define("playerVideo",{models:{videoInfo:!1,resource:!1,stateResource:!1,config:!1,environment:!1},events:{"ns-view-init":"oninit","ns-view-show":"onshow","ns-view-hide":"onhide","ns-view-htmldestroy":"onhtmldestroy","resize@show window":"onresize"},params:function(t){return{id:t.idDialog||t.idRoot,idContext:t.idContext}},methods:{oninit:function(){n.bindAll(this,"onNeedToFetchUrl"),this.models.stateResource.isValid()||this.models.stateResource.setDataDefault()},onhtmldestroy:function(){this.destroyPlayer()},onshow:function(){r.count("interface elements","video","show","yavideo"===this.models.videoInfo.get(".typeVideoPlayer")?"yandex-video":"streaming"),this.nbPlayer||(this.nbPlayer=nb.block(this.node.querySelector(".js-player")),this.nbPlayer.on("ufo-need-url",this.onNeedToFetchUrl))},onhide:function(){this.models.stateResource.set(".autoplay",!1),this.destroyPlayer(),this.invalidate()},destroyPlayer:function(){this.nbPlayer&&(this.nbPlayer.destroy(),delete this.nbPlayer)},onresize:n.debounce(function(){this.updateSize()},200),updateSize:function(){this.nbPlayer&&this.nbPlayer.setSize(this.nbPlayer.getSize())},onNeedToFetchUrl:function(t,e){var n=this;this.models.videoInfo.fetchUrl(e).then(function(){var t=n.models.videoInfo.get(".url");n.nbPlayer.setUrl(t)})}}})}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"helpers/metrika":60,"models/config/config":104,"models/environment/environment":110,"models/resource/resource":138,"models/state-resource/state-resource":151,"models/video-info/video-info":163,"nanoblocks/player-video-flash/player-video-flash":169,"nanoblocks/player-video-html/player-video-html":170,"nanoblocks/player-video-yandex/player-video-yandex":171}],226:[function(t,e,n){!function(e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0});var a="undefined"!=typeof window?window.React:"undefined"!=typeof e?e.React:null,i=r(a),s=t("bem_/react-mixin"),o=r(s),c=t("helpers/metrika"),l=r(c),d=["interface elements","adv blocks","yap-R-I-178837-4"];n.default=i.default.createClass({displayName:"public-resource-info-aside-item",mixins:[o.default],propTypes:{link:a.PropTypes.object,title:a.PropTypes.string,body:a.PropTypes.string},componentDidMount:function(){this._image&&(this._image.complete?this._image.naturalWidth?this._onImageLoad():this._onImageError():(this._image.onload=this._onImageLoad,this._image.onerror=this._onImageError))},_onLinkClick:function(t){t.preventDefault(),l.default.count.apply(l.default,d.concat(["adv bl1 click"])),window.open(this.props.link.url,"_blank")
},_getImage:function(){var t=this;return this.props.image?i.default.createElement("a",{href:"#",target:"_blank",className:this.b.e("image"),onClick:this._onLinkClick},i.default.createElement("img",{src:this.props.image,ref:function(e){t._image=e}})):null},_onImageLoad:function(){l.default.count.apply(l.default,d.concat(["image load","success"]))},_onImageError:function(){l.default.count.apply(l.default,d.concat(["image load","fail"]))},render:function(){var t=this._getImage();return i.default.createElement("div",{className:this.b.m(t?"with-image":null)},t,i.default.createElement("a",{href:"#",target:"_blank",className:this.b.e("title"),onClick:this._onLinkClick},this.props.title),i.default.createElement("div",{className:this.b.e("body")},this.props.body))}})}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"bem_/react-mixin":7,"helpers/metrika":60}],227:[function(t,e,n){!function(e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};Object.defineProperty(n,"__esModule",{value:!0});var i="undefined"!=typeof window?window.React:"undefined"!=typeof e?e.React:null,s=r(i),o=t("bem_/react-mixin"),c=r(o),l=t("./ad"),d=r(l),u=t("helpers/metrika"),f=r(u),p=["interface elements","adv blocks","yap-R-I-178837-4"];n.default=s.default.createClass({displayName:"public-resource-info-aside",mixins:[c.default],propTypes:{sponsoredLink:i.PropTypes.string,sponsored:i.PropTypes.string,ads:i.PropTypes.array},componentDidMount:function(){var t=$(this._adsNode).is(":visible");f.default.count.apply(f.default,p.concat(["show",t?"success":"failure"]))},_getList:function(){return this.props.ads.map(function(t,e){return s.default.createElement(d.default,a({},t,{key:e}))})},_onLinkClick:function(){f.default.count.apply(f.default,p.concat(["adv label click"]))},render:function(){var t=this;return s.default.createElement("div",{className:this.b},s.default.createElement("div",{className:this.b.e("head")},s.default.createElement("a",{href:this.props.sponsoredLink,target:"_blank",className:this.b.e("head-link"),onClick:this._onLinkClick},this.props.sponsored)),s.default.createElement("div",{className:this.b.e("body"),ref:function(e){t._adsNode=e}},this._getList()))}})}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./ad":226,"bem_/react-mixin":7,"helpers/metrika":60}],228:[function(t){!function(e){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}var r="undefined"!=typeof window?window.React:"undefined"!=typeof e?e.React:null,a=n(r),i=t("./ads-list"),s=n(i);t("models/direct-aside-ad/direct-aside-ad");var o=t("helpers/metrika"),c=n(o);ns.ViewReact.define("publicResourceInfoAside",{models:{directAsideAd:!0},events:{"ns-view-init":"oninit"},methods:{oninit:function(){this.models.directAsideAd.get(".ads")||c.default.count("interface elements","adv blocks","yap-R-I-178837-4","show","direct fail")}},component:{render:function(){var t=this.props.models.directAsideAd.data;return t.ads?a.default.createElement(s.default,t):null}}})}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./ads-list":227,"helpers/metrika":60,"models/direct-aside-ad/direct-aside-ad":108}],229:[function(t){"use strict";function e(t){return t&&t.__esModule?t:{"default":t}}t("models/direct-row-ad/direct-row-ad");var n=t("helpers/metrika"),r=e(n),a=["interface elements","adv blocks","yap-R-I-178837-3"];ns.View.define("publicResourceInfoRow",{models:{directRowAd:!0},events:{"click .js-link":"_onLinkClick","click .js-sponsored-link":"_onSponsoredLinkClick","ns-view-show":"onshow"},methods:{onshow:function(){var t=void 0;t=this.$node.is(".public-resource-info-row_empty")?"direct fail":this.$node.is(":visible")?"success":"failure",r.default.count.apply(r.default,a.concat([t]))},_onLinkClick:function(t){t.preventDefault(),r.default.count.apply(r.default,a.concat(["adv bl1 click"])),window.open(this.models.directRowAd.get(".link.url"),"_blank")},_onSponsoredLinkClick:function(){r.default.count.apply(r.default,a.concat(["adv label click"]))}}})},{"helpers/metrika":60,"models/direct-row-ad/direct-row-ad":109}],230:[function(t){"use strict";t("models/slices/slices"),t("models/counter-mail/counter-mail");var e=t("helpers/page"),n=t("helpers/metrika");ns.View.define("sliceLinkMail",{models:{slices:!0,counterMail:{"ns-model-changed":function(){this.invalidate(),e.update()}}},events:{"click .js-link-mail":"countClickLinkMail"},methods:{countClickLinkMail:function(t){n.countLeave("navigation","tabs","yandex.mail").always(function(){window.location.href=$(t.currentTarget).attr("href")},this)}}})},{"helpers/metrika":60,"helpers/page":64,"models/counter-mail/counter-mail":106,"models/slices/slices":148}],231:[function(t){"use strict";t("models/slices/slices"),t("models/invites/invites-folder"),t("models/config/config");var e=t("helpers/page");ns.View.define("sliceShared",{models:{slices:"invalidate",invitesFolder:{"ns-model-changed":"onUpdateModels","ns-model-remove":"onUpdateModels"},config:!0},"params+":{idContext:null,idApp:null},methods:{onUpdateModels:function(){this.invalidate(),e.update()}}})},{"helpers/page":64,"models/config/config":104,"models/invites/invites-folder":112,"models/slices/slices":148}],232:[function(t){!function(e){"use strict";t("models/slices/slices"),t("models/config/config"),t("models/user-current/user-current");var n="undefined"!=typeof window?window._:"undefined"!=typeof e?e._:null,r=t("environment"),a=t("helpers/operation"),i=t("helpers/metrika"),s=t("helpers/page");ns.View.define("slices",{models:{slices:{"ns-model-changed":function(t,e){if(".loading"!==e){if(".loaded"===e)return this.showItemsPopupHidden(),void 0;this.invalidate(),s.update()}}},config:!0},params:function(t){return t.idContext&&(t.idCurrent=ns.Model.get("slices").getIdSliceByContext(t.idContext)||t.idContext),t},events:{"ns-view-init":"oninit","ns-view-htmlinit":"onhtmlinit","ns-view-htmldestroy":"onhtmldestroy","ns-view-hide":"onhide","click .js-more":"onClickMore"},methods:{oninit:function(){n.bindAll(this,"onDropTrash","onPopupOpen","onPopupClose","closePopup")},onhtmlinit:function(){var t=this.node.querySelector(".js-popup");t&&(this.popup=nb.block(t),this.popup.on("nb-opened",this.onPopupOpen),this.popup.on("nb-closed",this.onPopupClose),this.itemPopup=this.popup.$node.find(".js-item-popup")),this.itemMenu=this.$node.find(".js-item"),this.isDroppable()&&(this.$droppable=this.$node.find(".js-trash"),this.$droppable.droppable({hoverClass:"slices__item_drag-hover",tolerance:"pointer",over:this.onOver,out:this.onOut,drop:this.onDropTrash}))},onhtmldestroy:function(){this.popup&&this.popup.off("nb-opened",this.onPopupOpen),this.$droppable&&this.$droppable.droppable("destroy")},onhide:function(){this.popup&&this.popup.close()},onClickMore:function(t){this.popup&&!this.popup.isOpen()&&this.syncPopupItemsWithMenu(),this.popup.open({where:t.currentTarget,how:"fixed"}),i.count("actions","show more dialog","navigation tabs"),t.stopPropagation()},syncPopupItemsWithMenu:function(){var t=this.itemPopup;n.each(this.itemMenu,function(e){var n=$(e),r=n.data("id"),a=t.filter('[data-id="'+r+'"]');a.toggleClass("slices__item-popup_hidden",n.position().top<=0)})},onDropTrash:function(t,e){var r=e.helper.data("params");a.create("delete",n.map(r.resources,function(t){return{idSrc:t.id}}))},onOver:function(){$.ui.ddmanager.current.element.draggable("option","scroll",!1)},onOut:function(){$.ui.ddmanager.current.element.draggable("option","scroll","document")},onPopupOpen:function(){this.models.slices.fetch(),this._$window.on("resize",this.closePopup)},onPopupClose:function(){this._$window.off("resize",this.closePopup)},closePopup:function(){this.popup&&this.popup.close()},showItemsPopupHidden:function(){var t=this.models.slices;this.popup&&this.popup.$node.find(".js-hidden").each(function(e,n){var r=$(n),a=r.data("id"),i=t.get('.slice[.id == "'+a+'"].hidden')[0];i||r.removeClass("js-hidden slices__item-popup_hidden")})},isDroppable:function(){return!r.agent.isMobile}}})}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{environment:42,"helpers/metrika":60,"helpers/operation":63,"helpers/page":64,"models/config/config":104,"models/slices/slices":148,"models/user-current/user-current":159}],233:[function(t,e){"use strict";var n=t("helpers/page"),r=e.exports=function(){};no.inherit(r,ns.View,{_htmlinit:function(){ns.View.prototype._htmlinit.apply(this,arguments),n.update()}}),r.define=function(t,e){return ns.View.define(t,e,r)}},{"helpers/page":64}],234:[function(t){!function(e){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(){var e=[o.agent.isMobile?"mobile":"desktop"],n=ns.Model.get("userCurrent").getData();e.push(n.uid?n.hasDisk?"auth with Disk":"auth no Disk":"noauth");var r,a,i,c=ns.page.current.params.idRoot&&ns.Model.get("resource",{id:ns.page.current.params.idRoot});c&&c.isValid()?c.get(".meta.blocked")?r="blocked":"file"===c.get(".type")?(r="file",c.get(".meta.speed_limited")&&(r="limited file"),c.get(".meta.blockings.simple.public")&&(r="file blocked download "),a=c.get(".meta.mediatype"),i=s.extname(c.get(".name"))):"dir"===c.get(".type")&&(r="folder",c.get(".meta.speed_limited")&&(r="limited folder")):r="notfound",r&&e.push(r),a&&e.push(a),i&&e.push(i),t("helpers/metrika").init(l.countersMetrika.public,e)}var a=t("helpers/performance"),i=n(a);t("actions/actions-public"),t("libs/jquery/extensions.jquery"),("undefined"!=typeof window?window._:"undefined"!=typeof e?e._:null).extend(yr.externals,t("libs/yate.externals")),t("models/resource/resource"),t("models/user-current/do-log-visit-public");var s=t("helpers/path"),o=t("environment"),c=t("helpers/init"),l=t("config"),d=t("react-bem-components/lib/register");i.default.init({app:"public",page:o.session.page});var u=ns.history._onAnchorClick;ns.history._onAnchorClick=function(t){var e=t.currentTarget;return 0===(e.pathname||"").indexOf("/client")?!0:u.apply(this,arguments)},$(function(){modules.require(["BEMHTML","i-bem__dom","jquery"],function(e,n,a){d({bh:e,ibem:n,jQuery:a}),c.reconstructApp().always(function(){ns.page.title=function(){var t=ns.Model.get("resource",{id:ns.page.current.params.idContext||ns.page.current.params.idRoot}),e="";e+=t.isValid()?t.get(".meta.blocked")?"Файл заблокирован":t.get(".name"):"Ничего не найдено",e+=" — Яндекс.Диск",o.session.loadingFailed&&(e="Яндекс.Диск"),document.title=e},ns.page.title(),ns.events.on("ufo-detected-auth-status",function(){r();var t=ns.Model.get("config");if("ru"===t.get(".tld")&&t.get(".yandexuid")){var e=new Date(1e3*(Math.pow(2,31)-1));a.cookie("yandexuid",t.get(".yandexuid"),{expires:e,path:"/"}),o.session.skLocal=t.get(".skExternal")}ns.Model.get("userCurrent").get(".uid")&&ns.request("do-log-visit-public",{short_url:location.origin+location.pathname})});var e=t("models/states/state-dialog-mobile-app.js");t("client-auth").findAuthStatus(o.session.urlsCheckAuth,{source:"not-found"===o.session.page?"public-notfound":"public",md5:e.get(".showAppButton")})}),nb.init(),t("helpers/time-info").start()})})}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"actions/actions-public":30,"client-auth":39,config:40,environment:42,"helpers/init":56,"helpers/metrika":60,"helpers/path":65,"helpers/performance":66,"helpers/time-info":71,"libs/jquery/extensions.jquery":84,"libs/yate.externals":87,"models/resource/resource":138,"models/states/state-dialog-mobile-app.js":153,"models/user-current/do-log-visit-public":158,"react-bem-components/lib/register":26}],235:[function(t){"use strict";t("libs/client-preloaded"),t("./file-public.noscript.js"),t("./common-client")},{"./common-client":234,"./file-public.noscript.js":236,"libs/client-preloaded":80}],236:[function(t){"use strict";t("libs/extensions.noscript"),t("layouts/file-public"),t("layouts/error-public"),t("models-preloaded").fill(),t("./routes-file")},{"./routes-file":237,"layouts/error-public":76,"layouts/file-public":77,"libs/extensions.noscript":82,"models-preloaded":88}],237:[function(t){"use strict";ns.router.routes={route:{"/public/error":"error-public","{urlFull:any}":"file-public"},rewriteParams:{"file-public":t("./routes-rewrite")(function(t){t.poster="banner"===ns.Model.get("environment").get(".session.awaps.type")})}}},{"./routes-rewrite":238}],238:[function(t,e){"use strict";var n=t("routers/public");e.exports=function(e){return function(r){var a="/"+r.urlFull.split("/").map(encodeURIComponent).join("/");r.hash&&(a+="?hash="+encodeURIComponent(r.hash));var i=n.parseUrl(a);i.hashLong||(i.hashLong=t("environment").session.public[i.hashShort]);var s=n.formatIdRoot(i),o={idRoot:s,idContext:s,idApp:"public"},c=ns.Model.getValid("resource",{id:s});return o.isBlocked=!!c.get(".meta.blocked"),o.isBlocked||(o.entityType="public_resource",o.entityId=c.get(".meta.comment_ids."+o.entityType)),r.cid&&/^\w+$/.test(r.cid)&&(o.cid=r.cid),e(o,r,i),o}}},{environment:42,"routers/public":194}]},{},[235]),__i18n__={},__i18n__.i18n=__i18n__.i18n||{},__i18n__.i18n.convert=function(t,e){var n=t.length;if(4==n&&1==e)return t[0];var r=e%100,a=e%10,i=2;return r>10&&20>=r?i=2:1==a?i=0:a>1&&5>a&&(i=1),4==n&&i++,t[i]},__i18n__.i18n["if"]=function(t,e,n){return t?e:n},__i18n__.i18n.index=function(t,e){return t[+e]},__i18n__.i18n.plural=function(t,e,n){return t>1?e:n};
var yr=yr||require("yate/lib/runtime.js");!function(){function t(t,e){return _a("ok",Ca("status",e,[]))}function e(t,e){return _a("error",Ca("status",e,[]))}function a(t,e){return!!za("isReactView",e.doc.root)}function n(t,e){return!!za("isReactView",e.doc.root)&&!!za("isServer",e.doc.root)}function r(t,e){return ha(Ca("selected",e,[]))}function s(t,e){return!_a("true",Ca("search",e,[]))}function i(t,e){return za("href",e)}function o(t,e){return _a("default",Ca("type",e,[]))}function c(t,e){return _a("username",Ca("type",e,[]))}function l(t,e){return _a("suggest",Ca("mod",e,[]))&&za("usernameHighlighted",e)}function d(t,e){return _a("suggest",Ca("mod",e,[]))&&za("emailHighlighted",e)}function u(t,e){return _a("link",Ca("type",e,[]))}function f(t,e){return!!za("services",e)&&!za("isMobile",e)}function y(t,e){return _a("cover",Ca("image-sizing",e,[]))}function v(t,e){return za("static",e)}function b(t,e){return za("icon",e)}function p(t,e){return!!za("accountsExtra",e)}function _(t,e){return _a("DEFAULT",Ca("name",e,[]))}function m(t,e){return za("hasPreview",e)&&_a("image",t.s(Bs,e))}function h(t,e){return _a("video",t.s(Bs,e))}function w(t,e){return za("hasPreview",e)&&(_a("docviewer",Ca("app",e,[]))||_a("book",t.s(Bs,e)))}function x(t,e){return _a("dir",Ca("type",e,[]))}function g(t,e){return _a("doc",Ca("type",e,[]))}function j(t,e){return _a("image",Ca("type",e,[]))}function A(t,e){return _a("docviewer",Ca("app",e,[]))&&!ha(t.s(li,e))}function k(t,e){return _a(2,Ca("drweb",e,[]))||ha(t.s(ui,e))}function z(t,e){return za("hasPreview",e)&&(_a("book",t.s(Bs,e))||_a("document",t.s(Bs,e)))}function C(t,e){return _a("XXL",Ca("name",e,[]))}function M(t,e){return _a("player",Ca("app",e,[]))}function S(t,e){return za("textOnly",e)}function P(t,e){return _a("delete",Ca("operation",e,[]))&&_a("done",Ca("status",e,[]))&&za("dst",e)}function D(t,e){return _a("move",Ca("operation",e,[]))&&_a("done",Ca("status",e,[]))}function F(t,e){return _a("move",Ca("operation",e,[]))&&_a("done",Ca("status",e,[]))&&_a("dir",t.s(Bi,e))}function T(t,e){return _a("move",Ca("operation",e,[]))&&_a("done",Ca("status",e,[]))&&za("count",e)}function R(t,e){return _a("move",Ca("operation",e,[]))&&_a("failed",Ca("status",e,[]))}function I(t,e){return _a("move",Ca("operation",e,[]))&&_a("failed",Ca("status",e,[]))&&_a("dir",t.s(Bi,e))}function L(t,e){return _a("move",Ca("operation",e,[]))&&_a("canceled",Ca("status",e,[]))}function q(t,e){return _a("move",Ca("operation",e,[]))&&_a("canceled",Ca("status",e,[]))&&_a("dir",t.s(Bi,e))}function V(t,e){return _a("cleanTrash",Ca("operation",e,[]))&&_a("failed",Ca("status",e,[]))}function H(t,e){return _a("cleanTrash",Ca("operation",e,[]))&&_a("done",Ca("status",e,[]))}function E(t,e){return(_a("delete",Ca("operation",e,[]))||_a("leaveFolder",Ca("operation",e,[])))&&_a("done",Ca("status",e,[]))}function O(t,e){return(_a("delete",Ca("operation",e,[]))||_a("leaveFolder",Ca("operation",e,[])))&&_a("done",Ca("status",e,[]))&&_a("dir",t.s(Bi,e))}function Y(t,e){return(_a("delete",Ca("operation",e,[]))||_a("leaveFolder",Ca("operation",e,[])))&&_a("failed",Ca("status",e,[]))}function N(t,e){return(_a("delete",Ca("operation",e,[]))||_a("leaveFolder",Ca("operation",e,[])))&&_a("failed",Ca("status",e,[]))&&_a("dir",t.s(Bi,e))}function B(t,e){return(_a("delete",Ca("operation",e,[]))||_a("leaveFolder",Ca("operation",e,[])))&&_a("done",Ca("status",e,[]))&&za("count",e)}function G(t,e){return _a("leaveFolder",Ca("operation",e,[]))&&_a("owner",Ca("role",e,[]))}function U(t,e){return _a("rename",Ca("operation",e,[]))&&_a("failed",Ca("status",e,[]))}function K(t,e){return _a("rename",Ca("operation",e,[]))&&_a("failed",Ca("status",e,[]))&&_a("dir",t.s(Bi,e))}function X(t,e){return _a("rename",Ca("operation",e,[]))&&_a("failed",Ca("status",e,[]))&&_a("nameHasSlash",Ca("reason",e,[]))&&_a("file",t.s(Bi,e))}function Z(t,e){return _a("rename",Ca("operation",e,[]))&&_a("failed",Ca("status",e,[]))&&_a("nameHasSlash",Ca("reason",e,[]))&&_a("dir",t.s(Bi,e))}function W(t,e){return _a("createFolder",Ca("operation",e,[]))&&_a("canceled",Ca("status",e,[]))&&_a("nameHasSlash",Ca("reason",e,[]))&&_a("dir",t.s(Bi,e))}function Q(t,e){return _a("rename",Ca("operation",e,[]))&&_a("failed",Ca("status",e,[]))&&_a("exists",Ca("reason",e,[]))&&_a("dir",t.s(Bi,e))}function J(t,e){return _a("rename",Ca("operation",e,[]))&&_a("failed",Ca("status",e,[]))&&_a("exists",Ca("reason",e,[]))&&_a("file",t.s(Bi,e))}function $(t,e){return _a("delete",Ca("operation",e,[]))&&_a("done",Ca("status",e,[]))&&za("dst",e)&&_a("dir",t.s(Bi,e))}function te(t,e){return _a("delete",Ca("operation",e,[]))&&_a("done",Ca("status",e,[]))&&za("dst",e)&&za("count",e)}function ee(t,e){return _a("restore",Ca("operation",e,[]))&&_a("done",Ca("status",e,[]))}function ae(t,e){return _a("restore",Ca("operation",e,[]))&&_a("failed",Ca("status",e,[]))}function ne(t,e){return _a("restore",Ca("operation",e,[]))&&_a("done",Ca("status",e,[]))&&_a("dir",t.s(mo,e))}function re(t,e){return _a("restore",Ca("operation",e,[]))&&_a("failed",Ca("status",e,[]))&&_a("dir",t.s(Bi,e))}function se(t,e){return _a("restore",Ca("operation",e,[]))&&_a("done",Ca("status",e,[]))&&za("count",e)}function ie(t,e){return _a("copy",Ca("operation",e,[]))&&_a("done",Ca("status",e,[]))}function oe(t,e){return _a("copy",Ca("operation",e,[]))&&_a("done",Ca("status",e,[]))&&_a("dir",t.s(Bi,e))}function ce(t,e){return _a("copy",Ca("operation",e,[]))&&_a("done",Ca("status",e,[]))&&za("count",e)}function le(t,e){return _a("copy",Ca("operation",e,[]))&&_a("failed",Ca("status",e,[]))}function de(t,e){return _a("copy",Ca("operation",e,[]))&&_a("failed",Ca("status",e,[]))&&_a("dir",t.s(Bi,e))}function ue(t,e){return _a("createFolder",Ca("operation",e,[]))&&_a("exists",Ca("status",e,[]))}function fe(t,e){return _a("createFolder",Ca("operation",e,[]))&&_a("failed",Ca("status",e,[]))}function ye(t,e){return _a("upload",Ca("operation",e,[]))&&_a("exists",Ca("status",e,[]))}function ve(t,e){return _a("upload",Ca("operation",e,[]))&&_a("failed",Ca("status",e,[]))}function be(t,e){return _a("publish",Ca("operation",e,[]))&&za("reverse",e)&&_a("done",Ca("status",e,[]))}function pe(t,e){return _a("publish",Ca("operation",e,[]))&&za("reverse",e)&&_a("done",Ca("status",e,[]))&&_a("dir",t.s(Bi,e))}function _e(t,e){return _a("publish",Ca("operation",e,[]))&&_a("failed",Ca("status",e,[]))}function me(t,e){return _a("publish",Ca("operation",e,[]))&&_a("failed",Ca("status",e,[]))&&_a("dir",t.s(Bi,e))}function he(t,e){return _a("publish",Ca("operation",e,[]))&&za("reverse",e)&&_a("failed",Ca("status",e,[]))}function we(t,e){return _a("publish",Ca("operation",e,[]))&&za("reverse",e)&&_a("failed",Ca("status",e,[]))&&_a("dir",t.s(Bi,e))}function xe(t,e){return _a("acceptInvite",Ca("operation",e,[]))&&_a("done",Ca("status",e,[]))}function ge(t,e){return _a("acceptInvite",Ca("operation",e,[]))&&_a("failed",Ca("status",e,[]))}function je(t,e){return _a("acceptInvite",Ca("operation",e,[]))&&_a("owner",Ca("role",e,[]))}function Ae(t,e){return _a("rejectInvite",Ca("operation",e,[]))&&_a("done",Ca("status",e,[]))}function ke(t,e){return _a("rejectInvite",Ca("operation",e,[]))&&_a("failed",Ca("status",e,[]))}function ze(t,e){return _a("inviteDisk",Ca("operation",e,[]))&&_a("done",Ca("status",e,[]))}function Ce(t,e){return _a("inviteDisk",Ca("operation",e,[]))&&_a("failed",Ca("status",e,[]))}function Me(t,e){return _a("inviteDisk",Ca("operation",e,[]))&&_a("failed",Ca("status",e,[]))&&_a("hasDisk",Ca("reason",e,[]))}function Se(t,e){return _a("unshare",Ca("operation",e,[]))&&_a("user",Ca("role",e,[]))}function Pe(t,e){return _a("accessFolder",Ca("operation",e,[]))&&_a("actor",Ca("role",e,[]))&&!za("rights",e)}function De(t,e){return _a("accessFolder",Ca("operation",e,[]))&&_a("actor",Ca("role",e,[]))&&_a("660",Ca("rights",e,[]))}function Fe(t,e){return _a("accessFolder",Ca("operation",e,[]))&&_a("actor",Ca("role",e,[]))&&_a("640",Ca("rights",e,[]))}function Te(t,e){return _a("importSocial",Ca("operation",e,[]))&&_a("failed",Ca("status",e,[]))}function Re(t,e){return _a("importSocial",Ca("operation",e,[]))&&_a("done",Ca("status",e,[]))}function Ie(t,e){return _a("copyLinkInviteDisk",Ca("action",e,[]))}function Le(t,e){return _a("saveEditorPhoto",Ca("operation",e,[]))&&_a("done",Ca("status",e,[]))&&za("dst",e)}function qe(t,e){return _a("saveEditorPhoto",Ca("operation",e,[]))&&_a("failed",Ca("status",e,[]))}function Ve(t,e){return _a("edit-photo",Ca("action",e,[]))&&_a("failed",Ca("status",e,[]))}function He(t,e){return _a("exportSocial",Ca("operation",e,[]))&&_a("done",Ca("status",e,[]))}function Ee(t,e){return _a("exportSocial",Ca("operation",e,[]))&&_a("failed",Ca("status",e,[]))}function Oe(t,e){return _a("exportSocial",Ca("operation",e,[]))&&_a("failed",Ca("status",e,[]))&&za("partial",e)}function Ye(t,e){return _a("savePublic",Ca("operation",e,[]))}function Ne(t,e){return _a("savePublic",Ca("operation",e,[]))&&_a("failed",Ca("status",e,[]))}function Be(t,e){return _a("failed",Ca("status",e,[]))&&_a("READ_ONLY",Ca("reason",e,[]))}function Ge(t,e){return _a("failed",Ca("status",e,[]))&&_a("READ_ONLY",Ca("reason",e,[]))&&_a("delete",Ca("operation",e,[]))&&za("isTrashCleaning",e)}function Ue(t,e){return _a("createAlbum",Ca("operation",e,[]))&&_a("failed",Ca("status",e,[]))}function Ke(t,e){return _a("removeAlbum",Ca("operation",e,[]))&&_a("done",Ca("status",e,[]))}function Xe(t,e){return _a("removeAlbum",Ca("operation",e,[]))&&_a("failed",Ca("status",e,[]))}function Ze(t,e){return _a("publishAlbum",Ca("operation",e,[]))&&_a("done",Ca("status",e,[]))}function We(t,e){return _a("publishAlbum",Ca("operation",e,[]))&&za("reverse",e)&&_a("done",Ca("status",e,[]))}function Qe(t,e){return _a("publishAlbum",Ca("operation",e,[]))&&_a("failed",Ca("status",e,[]))}function Je(t,e){return _a("publishAlbum",Ca("operation",e,[]))&&za("reverse",e)&&_a("failed",Ca("status",e,[]))}function $e(t,e){return _a("addToAlbum",Ca("operation",e,[]))&&_a("done",Ca("status",e,[]))}function ta(t,e){return _a("addToAlbum",Ca("operation",e,[]))&&_a("failed",Ca("status",e,[]))}function ea(t,e){return _a("saveAlbum",Ca("operation",e,[]))&&_a("done",Ca("status",e,[]))}function aa(t,e){return _a("saveAlbum",Ca("operation",e,[]))&&_a("progressing",Ca("status",e,[]))}function na(t,e){return _a("saveAlbum",Ca("operation",e,[]))&&_a("failed",Ca("status",e,[]))}function ra(t,e){return _a("removeResourceAlbum",Ca("operation",e,[]))&&_a("done",Ca("status",e,[]))}function sa(t,e){return _a("removeResourceAlbum",Ca("operation",e,[]))&&_a("failed",Ca("status",e,[]))}function ia(t,e){return _a("editAlbum",Ca("operation",e,[]))&&_a("failed",Ca("status",e,[]))&&_a("title",Ca("target",e,[]))}function oa(t,e){return _a("editAlbum",Ca("operation",e,[]))&&_a("failed",Ca("status",e,[]))&&_a("nameHasSlash",Ca("reason",e,[]))}function ca(t,e){return _a("editAlbum",Ca("operation",e,[]))&&_a("done",Ca("status",e,[]))&&_a("cover",Ca("target",e,[]))}function la(t,e){return _a("editAlbum",Ca("operation",e,[]))&&_a("failed",Ca("status",e,[]))&&_a("cover",Ca("target",e,[]))}function da(t,e){return _a("download",Ca("operation",e,[]))&&_a("failed",Ca("status",e,[]))}function ua(t,e){return!!ha(t.s(ki,e.doc.root))}function fa(t,e){return _a("linkMail",Ca("id",e,[]))}function ya(t,e){return _a("shared",Ca("id",e,[]))}function va(t,e){return!za("inMenu",e)&&!za("hidden",e)}function ba(t,e){return _a("trash",Ca("id",e,[]))}var pa=yr.cmpNN,_a=yr.cmpSN,ma=yr.nodeset2xml,ha=yr.nodeset2boolean,wa=yr.nodeset2attrvalue,xa=yr.nodeset2scalar,ga=yr.scalar2attrvalue;yr.xml2attrvalue;var ja=yr.scalar2xml,Aa=yr.xml2scalar,ka=yr.simpleScalar,za=yr.simpleBoolean,Ca=yr.selectNametest,Ma=yr.closeAttrs,Sa=new yr.Module,Pa=[0,"models",0,"*",2,t];Sa.k26={},Sa.k26.n=function(t,e){return t.s(Pa,e.doc.root)},Sa.k26.u=function(t,e){return e.name},Sa.k26.b=function(t,e){function a(t,e){return"status"!=e.name}var n=[],r=[0,"*",2,a];return n=t.s(r,e)},Sa.k26.ut="scalar",Sa.k26.bt="nodeset";var Da=[0,"models",0,"*",2,e];Sa.k27={},Sa.k27.n=function(t,e){return t.s(Da,e.doc.root)},Sa.k27.u=function(t,e){return e.name},Sa.k27.b=function(t,e){function a(t,e){return"status"!=e.name}var n=[],r=[0,"*",2,a];return n=t.s(r,e)},Sa.k27.ut="scalar",Sa.k27.bt="nodeset",Sa.f868=function(t,e,a,n,r,s,i,o,c,l){s=void 0===s?[]:s,i=void 0===i?[]:i,o=void 0===o?[]:o,c=void 0===c?[]:c,l=void 0===l?[]:l;var d=[];return d=yr.externals["_ns-view-call"]([e.doc.root],r,s,i,o,c,l)},Sa.f869=function(t,e,a,n,r,s,i,o,c,l,d){i=void 0===i?[]:i,o=void 0===o?[]:o,c=void 0===c?[]:c,l=void 0===l?[]:l,d=void 0===d?[]:d;var u=[];return u=yr.externals["_ns-model-call"]([e.doc.root],r,s,i,o,c,l,d)},Sa.f870=function(t,e,a,n,r,s,i,o,c,l){i=void 0===i?[]:i,o=void 0===o?[]:o,c=void 0===c?[]:c,l=void 0===l?[]:l;var d=[];return d=yr.externals["_ns-view-call-scalar"]([e.doc.root],r,s,i,o,c,l)},Sa.f871=function(t,e,a,n,r,s,i,o,c,l,d){o=void 0===o?[]:o,c=void 0===c?[]:c,l=void 0===l?[]:l,d=void 0===d?[]:d;var u=[];return u=yr.externals["_ns-model-call-scalar"]([e.doc.root],r,s,i,o,c,l,d)},Sa.f872=function(t,e,a,n,r,s){var i="";return i+=Ma(r),i+=s};var Fa=[0,"*"];Sa.f873=function(t,e,a,n,r,s,i){i=void 0===i?[]:i;var o="";return o+=t.a(t,0,t.n(Fa,yr.externals["_nb-wrap"](s,i)),"nb",r)};var Ta=[0,"name"],Ra=[0,"size"],Ia=[0,"theme"],La=[0,"type"];Sa.f874=function(t,e,a,n,r,s){s=void 0===s?[]:s;var i=r.a["class"];if(r.a["class"]=i?i.addscalar(" nb-"+xa(t.n(Ta,s))):new yr.scalarAttr(" nb-"+xa(t.n(Ta,s))),ha(t.n(Ra,s))&&!_a("m",t.n(Ra,s))||ha(t.n(Ia,s))&&!_a("normal",t.n(Ia,s))||ha(t.n(La,s))){var o="";_a("s",t.n(Ra,s))?o+="-small":_a("xs",t.n(Ra,s))?o+="-extra-small":_a("l",t.n(Ra,s))?o+="-large":_a("xl",t.n(Ra,s))&&(o+="-extra-large");var c=o,o="";!_a("normal",t.n(Ia,s))&&ha(t.n(Ia,s))&&(o+="-"+xa(t.n(Ia,s)));var l=o,o="";ha(t.n(La,s))&&(o+="-"+xa(t.n(La,s)));var d=o,i=r.a["class"];r.a["class"]=i?i.addscalar(" _nb"+c+l+d+"-"+xa(t.n(Ta,s))):new yr.scalarAttr(" _nb"+c+l+d+"-"+xa(t.n(Ta,s)))}else{var i=r.a["class"];r.a["class"]=i?i.addscalar(" _nb-normal-"+xa(t.n(Ta,s))):new yr.scalarAttr(" _nb-normal-"+xa(t.n(Ta,s)))}return r.a},Sa.f875=function(t,e,a,n,r,s){s=void 0===s?[]:s;var i="",o={};o.size="s";var c=o;return i+=Ma(r),i+=t.f("f873",e,a,n,r,"ico",yr.externals["_nb-extend"](yr.object2nodeset(c),s))},Sa.f876=function(t,e,a,n,r,s){s=void 0===s?[]:s;var i="",o={};o.size="m",o.theme="normal";var c=o;return i+=Ma(r),i+=_a("file",t.n(La,s))?t.f("f873",e,a,n,r,"buttonAttach",yr.externals["_nb-extend"](yr.object2nodeset(c),s)):_a("inline",t.n(La,s))?t.f("f873",e,a,n,r,"buttonSpan",yr.externals["_nb-extend"](yr.object2nodeset(c),s)):_a("label",t.n(La,s))?t.f("f873",e,a,n,r,"buttonLabel",yr.externals["_nb-extend"](yr.object2nodeset(c),s)):_a("link",t.n(La,s))?t.f("f873",e,a,n,r,"buttonLink",yr.externals["_nb-extend"](yr.object2nodeset(c),s)):t.f("f873",e,a,n,r,"button",yr.externals["_nb-extend"](yr.object2nodeset(c),s))};var qa=[0,"attrs",0,"name"],Va=[0,"content"],Ha=[0,"icon"];Sa.f877=function(t,e,a,n,r,s){if(t.f("f874",e,a,n,r,yr.object2nodeset(function(){var t={};return t.name="button",t.size=yr.nodeset2data(Ca("size",e,[])),t.theme=yr.nodeset2data(Ca("theme",e,[])),t}())),za("disabled",e)){var i=r.a["class"];r.a["class"]=i?i.addscalar(" _nb-is-disabled"):new yr.scalarAttr(" _nb-is-disabled"),r.a.tabindex=new yr.scalarAttr("-1"),"button"==s&&(r.a.disabled=new yr.scalarAttr("disabled"))}if(za("tabindex",e)&&!za("disabled",e)&&(r.a.tabindex=new yr.scalarAttr(ka("tabindex",e))),"attach"==s){var i=r.a["class"];r.a["class"]=i?i.addscalar(" _nb-attach-button"):new yr.scalarAttr(" _nb-attach-button")}if("button"==s&&(za("name",e)&&(r.a.name=new yr.scalarAttr(ka("name",e))),ha(t.s(qa,e))&&(r.a.name=new yr.scalarAttr(xa(t.s(qa,e))))),!ha(Ca("content",e,[]))&&(za("icon",e)||za("iconText",e))){var i=r.a["class"];r.a["class"]=i?i.addscalar(" _nb-with-only-button"):new yr.scalarAttr(" _nb-with-only-button")}return r.a},Sa.f878=function(t,e,a,n,r){var s="";return s+=Ma(r),za("iconText",e)&&(s+='<span class="nb-icon _nb-icon-text">',s+=ma(Ca("iconText",e,[])),s+="</span>"),za("content",e)&&(s+=ka("content",e)),s},Sa.f879=function(t,e,a,n,r){if(!ha(Ca("static",e,[]))){var s=r.a["class"];r.a["class"]=s?s.addscalar(" _init"):new yr.scalarAttr(" _init"),r.a["data-nb"]=new yr.scalarAttr("button")}return r.a},Sa.f880=function(t,e,a,n,r,s){s=void 0===s?[]:s;var i="",o={};o.none="none";var c=o;return i+=Ma(r),i+=t.f("f873",e,a,n,r,"popupMenu",yr.externals["_nb-extend"](yr.object2nodeset(c),s))},Sa.f881=function(t,e,a,n,r,s){s=void 0===s?[]:s;var i="",o={};o.none="none";var c=o;return i+=Ma(r),i+=t.f("f873",e,a,n,r,"popup",yr.externals["_nb-extend"](yr.object2nodeset(c),s))},Sa.f882=function(t,e,a,n,r,s){s=void 0===s?[]:s;var i="",o={},c={};c.modal="true",c.width="auto",c.height="auto",c.minHeight="auto",c.maxHeight="auto",o["data-nb"]=c;var c={};c.none="none",o.close=c;var l=o;return i+=Ma(r),i+=t.f("f873",e,a,n,r,"modalPopup",yr.externals["_nb-deep-extend"](yr.object2nodeset(l),s))},Sa.f883=function(t,e,a,n,r,s){s=void 0===s?[]:s;var i="";return i+=Ma(r),i+='<div class="_nb-popup-content">',i+=xa(s),i+="</div>"},Sa.f884=function(t,e,a,n,r,s){s=void 0===s?[]:s;var i="";return i+=Ma(r),i+='<div class="_nb-popup-title">',i+=xa(s),i+="</div>"};var Ea=[0,"data"],Oa=[0,"data",0,"*"],Ya=[1,0];Sa.f885=function(t,e,a,n,r,s){s=void 0===s?[]:s;var i="";if(i+=Ma(r),i+="<div",r.a={"class":new yr.scalarAttr("_nb-popup-buttons")},r.s="div",i+=t.a(t,0,s,"nb-main-attrs",r),i+=Ma(r),t.n(Oa,s).length)for(var o=t.n(Ea,s),c=0,l=o.length;l>c;c++){var d=o[c];i+=t.f("f876",d,c,l,r,t.s(Ya,d))}else i+=xa(t.n(Ea,s));return i+="</div>"};var Na=[0,"class"],Ba=[0,"attrs"],Ga=[0,"attrs",0,"*"];Sa.f886=function(t,e,a,n,r,s){s=void 0===s?[]:s;var i="";i+=Ma(r),i+="<a",r.a={"class":new yr.scalarAttr("_nb-popup-close")},r.s="a";for(var o="",c=t.n(Na,s),l=0,d=c.length;d>l;l++){var u=c[l];o+=" "+xa(t.s(Ya,u))}var f=r.a["class"];if(r.a["class"]=f?f.addscalar(o):new yr.scalarAttr(o),ha(t.n(Ba,s)))for(var c=t.n(Ga,s),l=0,d=c.length;d>l;l++){var u=c[l];r.a[u.name]=new yr.scalarAttr(xa(t.s(Ya,u)))}return i+=Ma(r),i+="</a>"},Sa.f887=function(t,e,a,n,r,s){s=void 0===s?[]:s;var i="",o={};o.size="m",o.theme="normal",o.type="radio";var c=o;return i+=Ma(r),i+=t.f("f873",e,a,n,r,"radio-button",yr.externals["_nb-extend"](yr.object2nodeset(c),s))},Sa.f888=function(t,e,a,n,r,s){s=void 0===s?[]:s;var i="",o={};o.size="m",o.theme="normal",o.direction="bottom";var c=o;return i+=Ma(r),i+=t.f("f873",e,a,n,r,"select",yr.externals["_nb-extend"](yr.object2nodeset(c),s))};var Ua=[0,"text"],Ka=[0,"value"],Xa=[0,"selected"],Za=[0,"separator"];Sa.f889=function(t,e,a,n,r,s){s=void 0===s?[]:s;var i="";if(i+=Ma(r),i+="<option",r.a={},r.s="option",ha(t.n(Za,s)))r.a.separator=new yr.scalarAttr("true");else{if(r.a.label=new yr.scalarAttr(xa(t.n(Ua,s))),r.a.value=new yr.scalarAttr(xa(t.n(Ka,s))),r.a["data-icon"]=new yr.scalarAttr(xa(t.n(Ha,s))),ha(t.n(Na,s)))for(var o=t.n(Na,s),c=0,l=o.length;l>c;c++){var d=o[c],u=r.a["data-class"];r.a["data-class"]=u?u.addscalar(" "+xa(t.s(Ya,d))):new yr.scalarAttr(" "+xa(t.s(Ya,d)))}ha(t.n(Xa,s))&&(r.a.selected=new yr.scalarAttr("")),i+=Ma(r),i+=ma(t.n(Ua,s))}return i+=Ma(r),i+="</option>"},Sa.f890=function(t,e,a,n,r,s){s=void 0===s?[]:s;var i="",o={};o.size="m",o.type="checkbox",o.theme="normal";var c=o;return i+=Ma(r),i+=t.f("f873",e,a,n,r,"checkbox",yr.externals["_nb-extend"](yr.object2nodeset(c),s))};var Wa=[0,"leftContent"],Qa=[0,"rightContent"],Ja=[0,"labelContent"],$a=[0,"reset"],tn=[0,"ghost"],en=[0,"error"],an=[0,"hint"];Sa.f891=function(t,e,a,n,r,s){s=void 0===s?[]:s;var i="",o={};o.size="s";var c=o;return i+=Ma(r),i+=ha(t.n(Wa,s))||ha(t.n(Qa,s))||ha(t.n(Ja,s))||ha(t.n($a,s))||ha(t.n(tn,s))||ha(t.n(en,s))||ha(t.n(an,s))?_a("multiline",t.n(La,s))?t.f("f873",e,a,n,r,"textarea",yr.externals["_nb-extend"](yr.object2nodeset(c),s)):t.f("f873",e,a,n,r,"input",yr.externals["_nb-extend"](yr.object2nodeset(c),s)):_a("multiline",t.n(La,s))?t.f("f873",e,a,n,r,"textareaSimple",yr.externals["_nb-extend"](yr.object2nodeset(c),s)):t.f("f873",e,a,n,r,"inputSimple",yr.externals["_nb-extend"](yr.object2nodeset(c),s))},Sa.f892=function(t,e,a,n,r,s){s=void 0===s?[]:s;var i="";return i+=Ma(r),i+=t.f("f873",e,a,n,r,"input-group",s)},Sa.f893=function(t,e,a,n,r,s){s=void 0===s?[]:s;var i="",o={};o.bar="true",o.start="0",o.type="percentage",o.title=" ";var c=o;return i+=Ma(r),i+=t.f("f873",e,a,n,r,"progress",yr.externals["_nb-extend"](yr.object2nodeset(c),s))},Sa.f894=function(t,e,a,n,r,s){s=void 0===s?[]:s;var i="",o={};o.theme="dark";var c=o;return i+=Ma(r),i+=t.f("f873",e,a,n,r,"paranja",yr.externals["_nb-extend"](yr.object2nodeset(c),s))},Sa.f895=function(t,e,a,n,r,s){s=void 0===s?[]:s;var i="",o={};o.content="";var c=o;return i+=Ma(r),i+=t.f("f873",e,a,n,r,"island",yr.externals["_nb-extend"](yr.object2nodeset(c),s))},Sa.f896=function(t,e,a,n,r,s){s=void 0===s?[]:s;var i="",o={},c={};c.size="s",c.type="file",c.theme="pseudo",c["class"]="_nb-dropzone-button",o.button=c;var l=o;return i+=Ma(r),i+=t.f("f873",e,a,n,r,"dropzone",yr.externals["_nb-deep-extend"](yr.object2nodeset(l),s))},Sa.f897=function(t,e,a,n,r,s){s=void 0===s?[]:s;var i="",o={};o.size="m";var c=o;return i+=Ma(r),i+=t.f("f873",e,a,n,r,"loader",yr.externals["_nb-extend"](yr.object2nodeset(c),s))},Sa.f898=function(t,e,a,n,r,s){s=void 0===s?[]:s;var i="",o={};o.value=0,o.type="range",o.size="s",o.orientation="horiz";var c=o;return i+=Ma(r),i+=t.f("f873",e,a,n,r,"slider",yr.externals["_nb-deep-extend"](yr.object2nodeset(c),s))},Sa.f899=function(t,e,a,n,r,s){s=void 0===s?[]:s;var i="",o={};o.size="m";var c=o;return i+=Ma(r),i+=t.f("f873",e,a,n,r,"tabs",yr.externals["_nb-extend"](yr.object2nodeset(c),s))},Sa.f900=function(t,e,a,n,r,s){s=void 0===s?[]:s;var i="",o={};o.search="true",o.buttonContent="Find";var c=o;return i+=Ma(r),i+=t.f("f873",e,a,n,r,"arrow",yr.externals["_nb-extend"](yr.object2nodeset(c),s))},Sa.f901=function(t,e,a,n,r,s){s=void 0===s?[]:s;var i="",o={},c={};c.search="true",c.buttonContent="Найти",c["class"]="_nb-header-arrow",o.arrow=c,o.services=!0,o.settings=!0,o.yaHref="http://yandex.ru";var l=o;return i+=Ma(r),i+=t.f("f873",e,a,n,r,"header",yr.externals["_nb-deep-extend"](yr.object2nodeset(l),s))},Sa.f902=function(t,e,a,n,r,s){s=void 0===s?[]:s;var i="",o={};o.size="m";var c=o;return i+=Ma(r),i+=t.f("f873",e,a,n,r,"user",yr.externals["_nb-extend"](yr.object2nodeset(c),s))},Sa.f903=function(t,e,a,n,r,s){s=void 0===s?[]:s;var i="",o={};o.countMax="10",o.type="default";var c=o;return i+=Ma(r),i+=t.f("f873",e,a,n,r,"suggest",yr.externals["_nb-extend"](yr.object2nodeset(c),s))},Sa.f904=function(t,e,a,n,r,s){s=void 0===s?[]:s;var i="",o={};o.leftText="On",o.rightText="Off",o.size="s";var c=o;return i+=Ma(r),i+=t.f("f873",e,a,n,r,"toggler",yr.externals["_nb-extend"](yr.object2nodeset(c),s))},Sa.v2635=function(t,e){var a=[];return a=za("config",e.doc.root)?Ca("config",e.doc.root,[]):yr.externals.getConfig()},Sa.v2636=function(t,e){return Ca("environment",e.doc.root,[])},Sa.f905=function(t,e,a,n,r,s){s=void 0===s?[]:s;var i="",o={};o.size="s";var c=o;return i+=Ma(r),i+=t.f("f919",e,a,n,r,"icon-social",yr.externals["nb-extend"](yr.object2nodeset(c),s))},Sa.f906=function(t,e,a,n,r,s){s=void 0===s?[]:s;var i="";return i+=Ma(r),i+=t.f("f919",e,a,n,r,"form-auth",s)};var nn=[0,"color"];Sa.f907=function(t,e,a,n,r,s){var i="";if(i+=Ma(r),i+="<div",r.a={"class":new yr.scalarAttr("nb-tick "+xa(t.n(Na,yr.object2nodeset(s))))},r.s="div",ha(t.n(nn,yr.object2nodeset(s)))){var o=r.a["class"];r.a["class"]=o?o.addscalar(" nb-tick_color_"+xa(t.n(nn,yr.object2nodeset(s)))):new yr.scalarAttr(" nb-tick_color_"+xa(t.n(nn,yr.object2nodeset(s))))}return i+=Ma(r),i+="</div>"},Sa.f908=function(t,e,a,n,r,s){s=void 0===s?[]:s;var i="";return i+=t.a(t,0,t.n(Fa,yr.externals["nb-wrap"]("checkbox-resource",s)),"nb",r)};var rn=[0,"published"];Sa.f909=function(t,e,a,n,r,s){var i="";if(i+=Ma(r),i+="<div",r.a={"class":new yr.scalarAttr("nb-icon-resource-public")},r.s="div",ha(t.n(Na,yr.object2nodeset(s)))){var o=r.a["class"];r.a["class"]=o?o.addscalar(" "+xa(t.n(Na,yr.object2nodeset(s)))):new yr.scalarAttr(" "+xa(t.n(Na,yr.object2nodeset(s))))}return i+=Ma(r),ha(t.n(rn,yr.object2nodeset(s)))&&(i+=t.f("f875",e,a,n,r,yr.object2nodeset(function(){var t={};return t.icon="published",t}()))),i+="</div>"},Sa.f910=function(t,e,a,n,r,s){s=void 0===s?[]:s;var i="";return i+=Ma(r),i+=t.f("f919",e,a,n,r,"icon-start-play",s)},Sa.f911=function(t,e,a,n,r,s){s=void 0===s?[]:s;var i="",o={};o.size="s",o["size-icon-video"]="s";var c=o;return i+=t.a(t,0,t.n(Fa,yr.externals["nb-wrap"]("icon-resource",yr.externals["nb-extend"](yr.object2nodeset(c),s))),"nb",r)},Sa.f912=function(t,e){return za("preview",e)&&(_a("image",Ca("type",e,[]))||_a("document",Ca("type",e,[]))||_a("book",Ca("type",e,[]))||_a("video",Ca("type",e,[])))},Sa.f913=function(t,e,a,n,r,s){s=void 0===s?[]:s;var i="";return i+=Ma(r),i+=t.f("f919",e,a,n,r,"player-video-flash",s)},Sa.f914=function(t,e,a,n,r,s){s=void 0===s?[]:s;var i="",o={};o.size="m";var c=o;return i+=Ma(r),i+=t.f("f919",e,a,n,r,"loader-thin",yr.externals["nb-extend"](yr.object2nodeset(c),s))},Sa.f915=function(t,e,a,n,r,s){s=void 0===s?[]:s;var i="";return i+=Ma(r),i+=t.f("f919",e,a,n,r,"player-video-html",s)};var sn=[0,"resolution"],on=[0,"resolutions"];Sa.f916=function(t,e,a,n,r,s){var i="",o="js-player-control";if(i+=Ma(r),i+="<div",r.a={"class":new yr.scalarAttr("player-video-html__controls js-video-controls")},r.s="div",za("isMobile",e)){var c=r.a["class"];r.a["class"]=c?c.addscalar(" player-video-html__controls_mobile"):new yr.scalarAttr(" player-video-html__controls_mobile")}return i+=Ma(r),i+='<div class="player-video-html__buffered js-video-buffered"></div>',i+='<div class="player-video-html__seek js-seek '+ga(o)+'"></div>',i+='<div class="player-video-html__pull_right">',yr.externals.modernizr("csstransforms")&&ha(t.n(sn,yr.object2nodeset(s)))&&(i+='<span class="player-video-html__control player-video-html__control_rotate js-rotate '+ga(o)+'"></span>',i+=" "),za("hq",e)&&(i+=t.f("f888",e,a,n,r,yr.object2nodeset(function(){var a={};a.size="s",a["class"]="player-video-html__quality js-video-quality",a.direction="top";for(var n=[],r=Ca("resolutions",e,[]),s=0,i=r.length;i>s;s++){var o=r[s],c={};c.text=xa(t.s(Ya,o))+"p",c.value=yr.nodeset2data(t.s(Ya,o)),0==s&&(c.selected="true"),n.push(c)}return a.items=n,a}()))),yr.externals.modernizr("fullscreen")&&(i+=" ",i+='<span class="player-video-html__control player-video-html__control_full js-fullscreen"></span>'),i+="</div>",i+=t.f("f876",e,a,n,r,yr.object2nodeset(function(){var t={};return t["static"]=!0,t.theme="dark",t.size="m",t.icon="videoplayer_pause",t["class"]="player-video-html__button player-video-html__pause js-toggle "+o,t}())),i+=t.f("f876",e,a,n,r,yr.object2nodeset(function(){var t={};return t["static"]=!0,t.theme="dark",t.size="m",t.icon="videoplayer_play",t["class"]="player-video-html__button player-video-html__play js-toggle "+o,t}())),i+='<div class="player-video-html__time js-video-time">',i+=t.f("f914",e,a,n,r,yr.object2nodeset(function(){var t={};return t["class"]="player-video-html__loader",t.size="s",t}())),i+="</div>",i+='<div class="player-video-html__volume js-volume '+ga(o)+'"></div>',i+="</div>"},Sa.f917=function(t,e,a,n,r,s){s=void 0===s?[]:s;var i="";return i+=Ma(r),i+=t.f("f919",e,a,n,r,"player-video-yandex",s)},Sa.f918=function(t,e,a,n,r,s){s=void 0===s?[]:s;var i="",o={};o.idPopup=yr.externals["nb-uniq"]();var c=o;return i+=Ma(r),i+=t.f("f919",e,a,n,r,"popup-account",yr.externals["nb-extend"](yr.object2nodeset(c),s))},Sa.f919=function(t,e,a,n,r,s,i){i=void 0===i?[]:i;var o="";return o+=t.a(t,0,t.n(Fa,yr.externals["nb-wrap"](s,i)),"nb",r)},Sa.f920=function(t,e,a,n,r,s){s=void 0===s?[]:s;var i="";return i+=Ma(r),i+=t.f("f919",e,a,n,r,"logo-yandex",s)},Sa.f921=function(t,e,a,n,r,s){var i="";return i+=Ma(r),i+='<svg viewBox="-10 0 840 320" class="logo-yandex__svg">',"ru"==s||"uk"==s?(i+='<path fill="#f00" d="M133 0H90C47 0 10 32 10 94c0 37 18 65 49 79L1 277c-2 3 0 6 3 6h27c2 0 4-1 5-3l53-102h19v102c0 1 1 3 3 3h24c2 0 3-1 3-3V4c-1-3-2-4-5-4zm-25 154H92c-69 0-64-130-3-130h20v130z"></path>',i+='<path d="M277 94h-24c-2 0-3 1-3 3v72h-44V97c0-2-1-3-3-3h-23c-2 0-3 1-3 3v183c0 2 1 3 3 3h24c2 0 3-1 3-3v-88h44v88c0 2 1 3 3 3h24c2 0 3-1 3-3V97c-1-2-2-3-4-3zm540 164c0-1-1-1-2-1-10 0-71 29-71-67 0-42 16-101 54-66 1 1 2 1 3 1s2-1 3-3l10-17c1-1 1-2 1-3 0-2-2-3-4-4-66-33-100 28-100 99 0 92 67 105 105 77 2-1 2-3 2-4l-1-12zm-164-79l46-83c1-1 0-3-1-3h-23c-7 0-9 2-11 7s-36 76-40 79V96c0-1-1-3-2-3h-25c-1 0-2 1-2 3v184c0 1 1 3 2 3h25c2 0 2-1 2-3v-95c3 2 45 89 46 92 2 4 6 6 11 6h25c2 0 2-1 1-3l-54-101zm-219 80h-5c-6 0-7-2-7-7V96c0-2-1-3-2-3h-77c-2 0-3 1-3 3 0 42 1 112-27 163h-8c-2 0-3 1-3 3v55c0 2 2 3 3 3h18c4 0 6-3 6-6v-31h81v34c0 1 1 3 3 3h20c2 0 5-2 5-6v-52c-1-2-2-3-4-3zm-42 0h-56c16-26 31-68 31-142h25v142zM512 89c-41 0-60 51-60 107 0 92 64 106 108 79 2-1 2-2 2-3l-3-13c0-1-1-2-3-2-16 0-72 28-72-63 20 2 20 2 80 2-1-46-6-107-52-107zm-27 84c0-73 48-87 48-2-21 0-30 0-48 2z"></path>'):(i+='<path fill="#f00" d="M170 0h-27c-2 0-4 1-4 3 0 0-36 107-54 171C67 127 35 34 34 33c0-2-1-4-5-4H3c-2-1-4 2-3 4 1 1 48 126 67 174v105c0 2 1 3 3 3h25c2 0 3-1 3-3V208c16-44 74-201 75-203 1-3 0-5-3-5z"></path>',i+='<path d="M323 135v-9c0-2-1-3-3-3h-24c-2 0-3 1-3 3v186c0 2 1 3 3 3h24c2 0 3-1 3-3V153c18-12 48-10 48 12v147c0 2 1 3 3 3h24c2 0 3-2 3-3V157c0-40-45-45-78-22zM547 28h-24c-2 0-3 1-3 3v94c-62-23-90 34-90 102 0 82 51 116 95 77l5 9c1 2 2 2 3 2h14c2 0 3-1 3-3V31c0-2-1-3-3-3zm-85 193c0-78 33-89 58-69v137c-28 15-58 6-58-68zm177-101c-40 0-60 52-60 108 0 79 50 111 106 80 2-1 2-2 1-4l-3-12c0-2-1-2-3-2-12 0-70 27-70-65 19 3 20 2 79 2 2-46-4-107-50-107zm-27 84c1-20 5-61 26-61 19 0 22 40 22 59-23 0-28-1-48 2zm-365-60c-16-31-53-29-85-15-4 2-5 3-3 7l8 17c1 2 3 3 7 1 39-24 51-7 51 40-33-20-80 1-80 60s51 86 85 46c0 0 5 11 5 12 1 1 1 2 3 2h14c2 0 3-1 3-3 1-123 3-147-8-167zm-21 141c-21 20-48 11-48-32s26-51 48-33v65zm541-95s-1-3-24-62c-1-2-2-4-5-4h-23c-3 0-4 3-3 5s38 86 38 86-40 94-41 96 0 5 3 5h21c4 0 5-2 6-5 7-20 9-23 24-69 10 27 7 20 26 70 1 3 2 4 5 4h23s3-3 2-5c-3-5-25-58-40-93 0 0 40-87 41-89s1-4-3-4h-21c-2 0-4 1-4 3"></path>'),i+="</svg>"},Sa.f922=function(t,e,a,n,r,s){s=void 0===s?[]:s;var i="";return i+=Ma(r),i+=t.f("f919",e,a,n,r,"popup-auth",s)},Sa.f923=function(t,e,a,n,r){var s="";return s+=Ma(r),s+=t.f("f920",e,a,n,r,yr.object2nodeset(function(){var t={},a="";return a+=_a("ru",Ca("locale",e,[]))||_a("uk",Ca("locale",e,[]))?"ru":"en",t.lang=a,t["class"]="popup-auth__logo",t}()))};var cn=[0,"login"],ln=[0,"error",0,"login"],dn=[0,"error",0,"login",0,"status"],un=[0,"password"],fn=[0,"error",0,"password"],yn=[0,"error",0,"password",0,"status"],vn=[0,"tld"];Sa.f924=function(t,e,a,n,r){var s="",i={};if(ha(t.s(ln,e))){var o={};o.value=yr.nodeset2data(Ca("login",e,[]));var c={};c.content=yr.externals.getMessageError(xa(t.s(dn,e))),o.error=c,i.login=o}else{var o={};o.value=yr.nodeset2data(Ca("login",e,[])),i.login=o}if(ha(t.s(fn,e))){var o={};o.value=yr.nodeset2data(Ca("password",e,[]));var c={};c.content=yr.externals.getMessageError(xa(t.s(yn,e))),o.error=c,i.password=o}else{var o={};o.value=yr.nodeset2data(Ca("password",e,[])),i.password=o}i.qrcode=yr.nodeset2data(Ca("qrcode",e,[])),i.restore=yr.nodeset2data(Ca("restore",e,[])),i.register=yr.nodeset2data(Ca("register",e,[]));var o={};if(_a("ru",Ca("tld",e,[]))||_a("ua",Ca("tld",e,[]))){var c=[];c.push("vkontakte"),c.push("facebook"),o.visible=c;var c=[];c.push("twitter"),c.push("google"),c.push("odnoklassniki"),o.hidden=c}else{var c=[];c.push("facebook"),c.push("twitter"),c.push("google"),o.visible=c}i.services=o;var l=i;return s+=Ma(r),s+=t.f("f906",e,a,n,r,yr.externals["nb-extend"](yr.object2nodeset(l),Ca("form",e,[])))};var bn=[0,"action-button",0,"login"],pn=[0,"action-button",0,"class"],_n=[0,"action-button",0,"link"],mn=[0,"action-button",0,"content"];Sa.f925=function(t,e,a,n,r){var s="";return s+=Ma(r),s+='<div class="popup-auth-extended__login">',s+=ma(t.s(bn,e)),s+="</div>",s+=t.f("f876",e,a,n,r,yr.object2nodeset(function(){var a={};
a["class"]=yr.nodeset2data(t.s(pn,e)),a.theme="promo",a.type="link";var n={};return n.href=yr.nodeset2data(t.s(_n,e)),a.attrs=n,a.content=yr.nodeset2data(t.s(mn,e)),a}()))};var hn=[0,"extend",0,"previewContent"],wn=[0,"extend",0,"title"],xn=[0,"extend",0,"description"];Sa.f926=function(t,e,a,n,r){var s="";return s+=Ma(r),s+='<div class="popup-auth-extended__info">',s+=xa(t.s(hn,e)),s+='<div class="popup-auth-extended__title">',s+=xa(t.s(wn,e)),s+="</div>",s+='<div class="popup-auth-extended__desc">',s+=xa(t.s(xn,e)),s+="</div>",s+="</div>"};var gn=[0,"uid"],jn=[0,"retpath"];Sa.f927=function(t,e){var a={},n=t.k("k26","stateDialogAuth",e.doc.root),r=t.k("k26","userCurrent",e.doc.root);return ha(t.n(gn,r))&&(a["class"]="js-copy",a.login=yr.nodeset2data(t.n(cn,r)),a.content="Сохранить",a.link=yr.nodeset2data(t.n(jn,n))),a};var An=[0,"session",0,"locale"],kn=[0,"source"],zn=[0,"retpathDialog"],Cn=[0,"links",0,"passport",0,"qrcode"],Mn=[0,"links",0,"passport",0,"restore"],Sn=[0,"links",0,"passport",0,"register"],Pn=[0,"session",0,"canHaveAuth"],Dn=[0,"links",0,"disk"],Fn=[0,"links",0,"passport",0,"auth"];Sa.f928=function(t,e,a,n,r,s){var i="",o=t.k("k26","config",e.doc.root),c=t.k("k26","environment",e.doc.root),l=t.k("k26","stateDialogAuth",e.doc.root),d=t.n(An,c),u=t.n(kn,l),f=xa(u)+"."+xa(d),y="";y+=ha(t.n(jn,l))?xa(t.n(jn,l)):ha(t.n(zn,l))?xa(t.n(zn,l)):"";var v=y;return i+=Ma(r),i+=t.f("f922",e,a,n,r,yr.externals["nb-extend"](yr.object2nodeset(function(){var r={};r.locale=yr.nodeset2data(t.n(An,c)),r.tld=yr.nodeset2data(t.n(vn,o)),r.error=yr.nodeset2data(t.n(en,l)),r.login=yr.nodeset2data(t.n(cn,l)),r.password=yr.nodeset2data(t.n(un,l)),r.qrcode=t.f("f929",e,a,n,xa(t.n(Cn,o)),v),r.restore=t.f("f929",e,a,n,xa(t.n(Mn,o)),v),r.register=yr.externals.replaceParam(t.f("f929",e,a,n,yr.externals.replaceParam(xa(t.n(Sn,o)),"origin",f),v),"source",xa(u));var s={},i={};i["class"]="js-form",ha(t.n(Pn,c))||(i["data-params"]=yr.externals.json(yr.object2nodeset(function(){var e={};return e.retpath=xa(t.n(Dn,o))+"/auth/retpath/close_broker.html",e}()))),i.action=t.f("f929",e,a,n,xa(t.n(Fn,o)),v),s.attrs=i,r.form=s;var s={};s["class"]="ns-action";var i={};return i["data-click-action"]="dialog-auth.close",s.attrs=i,r.close=s,r}()),yr.object2nodeset(s)))},Sa.f929=function(t,e,a,n,r,s){var i="";return i+=s?yr.externals.replaceParam(r,"retpath",s):r},Sa.f930=function(t,e,a,n,r,s){s=void 0===s?[]:s;var i="";return i+=Ma(r),i+=t.f("f919",e,a,n,r,"yandex-direct",s)};var Tn=[0,"preview-resource"];Sa.f931=function(t,e,a,n,r,s){s=void 0===s?[]:s;var i="",o={};o.type="doc";var c=o;if(i+=Ma(r),i+="<div",r.a={},r.s="div",i+=t.a(t,0,t.n(Tn,s),"nb-main-attrs",r),_a("image",t.n(La,s))){var l=r.a["class"];r.a["class"]=l?l.addscalar(" preview-resource_no-overlay"):new yr.scalarAttr(" preview-resource_no-overlay")}var l=r.a["class"];return r.a["class"]=l?l.addscalar(" preview-resource"):new yr.scalarAttr(" preview-resource"),i+=Ma(r),i+=t.f("f919",e,a,n,r,"preview-resource",yr.externals["nb-extend"](yr.object2nodeset(c),s)),i+="</div>"},Sa.f932=function(t,e,a,n,r,s){var i="",o={};o.current="ru";var c=o;return i+=Ma(r),i+=t.f("f919",e,a,n,r,"switcher-locale",yr.externals["nb-extend"](yr.object2nodeset(c),yr.object2nodeset(s)))},Sa.f933=function(t,e,a,n,r,s){var i="";return i+=t.a(t,0,t.n(Fa,yr.externals["nb-wrap"]("footer",yr.object2nodeset(s))),"nb",r)},Sa.f934=function(t,e,a,n,r,s){var i="";return i+=Ma(r),i+=t.f("f919",e,a,n,r,"nb-arrow-service",yr.object2nodeset(s))},Sa.f935=function(t,e,a,n,r,s){var i="";return i+=t.a(t,0,t.n(Fa,yr.externals["nb-wrap"]("form-search",yr.object2nodeset(s))),"nb",r)},Sa.f936=function(t,e,a,n,r,s){s=void 0===s?[]:s;var i="";return i+=Ma(r),i+=t.f("f919",e,a,n,r,"item-nav",s)};var Rn=[0,"views",0,"*"],In=[0,"tree",0,"*"],Ln=[0,"views",0,"*"],qn=[0,"views",0,"ns-view-collection-container",0,"*"],Vn=[0,"*",4,a],Hn=[0,"*",4,n],En=[0,"id"],On=[0,"data-nb",0,"*"],Yn=[0,"ico"],Nn=[0,"button"],Bn=[0,"buttonLink"],Gn=[0,"buttonSpan"],Un=[0,"buttonLabel"],Kn=[0,"buttonAttach"],Xn=[0,"attrs",0,"multiple"],Zn=[0,"attrs",0,"title"],Wn=[0,"attrs",0,"accept"],Qn=[0,"popupMenu"],Jn=[0,"menu"],$n=[0,"href"],tr=[0,"popup"],er=[0,"modalPopup"],ar=[0,"radio-button"],nr=[1,1,0,"name"],rr=[1,1,0,"size"],sr=[0,"select"],ir=[0,"items",2,r],or=[0,"checkbox"],cr=[0,"input"],lr=[0,"error",0,"direction"],dr=[0,"error",0,"class"],ur=[0,"error",0,"content"],fr=[0,"hint",0,"text"],vr=[0,"hint",0,"ghost"],br=[0,"textarea"],pr=[0,"inputSimple"],_r=[0,"textareaSimple"],mr=[0,"input-group"],hr=[0,"progress"],wr=[0,"title"],xr=[0,"paranja"],gr=[0,"island"],jr=[0,"dropzone"],Ar=[0,"loader"],kr=[0,"slider"],zr=[0,"handle",0,"class"],Cr=[0,"tabs"],Mr=[0,"arrow"],Sr=[0,"arrow",2,s],Pr=[0,"arrow",2,s,2,i],Dr=[0,"header"],Fr=[0,"settings",0,"content"],Tr=[0,"services",0,"content"],Rr=[0,"auth",0,"content"],Ir=[0,"user"],Lr=[0,"user",0,"content"],qr=[0,"suggest"],Vr=[0,"input",0,"attrs"],Hr=[0,"input",0,"leftContent"],Er=[0,"input",0,"rightContent"],Or=[0,"input",0,"labelContent"],Yr=[0,"input",0,"reset"],Nr=[0,"input",0,"ghost"],Br=[0,"input",0,"error"],Gr=[0,"input",0,"hint"],Ur=[2,o,0,"item"],Kr=[2,c,0,"item"],Xr=[0,"user",2,l,0,"username"],Zr=[1,1,0,"usernameHighlighted"],Wr=[0,"user",2,d,0,"email"],Qr=[1,1,0,"emailHighlighted"],Jr=[0,"toggler"],$r=[0,"icon-social"],ts=[0,"icon-social",2,u],es=[0,"form-auth"],as=[0,"login",0,"error"],ns=[0,"login",0,"value"],rs=[0,"password",0,"error"],ss=[0,"password",0,"value"],is=[1,0,2,f],os=[0,"services",0,"visible"],cs=[0,"services",0,"hidden"],ls=[0,"checkbox-resource"],ds=[0,"icon-start-play"],us=[0,"icon-resource"],fs=[0,"icon-resource",2,y],ys=[0,"icon-resource",2,v],vs=[0,"icon-resource",2,b],bs=[0,"player-video-flash"],ps=[0,"loader-thin"],_s=[0,"player-video-html"],ms=[0,"dimension",0,"width"],hs=[0,"dimension",0,"height"],ws=[0,"player-video-yandex"],xs=[0,"popup-account"],gs=[0,"links",0,"home"],js=[0,"links",0,"logout"],As=[0,"links",0,"auth"],ks=[0,"popup-account",2,p],zs=[0,"logo-yandex"],Cs=[0,"hostPDD"],Ms=[0,"popup-auth"],Ss=[0,"dialogAuth"],Ps=[0,"dialogAuthRegister"],Ds=[0,"dialogAuthEdit"],Fs=[0,"dialogAuthInvite"],Ts=[0,"links",0,"yapic"],Rs=[0,"dialogAuthFolder"],Is=[0,"folder_name"],Ls=[0,"rights"],qs=[0,"owner_name"],Vs=[0,"dialogAuthCopy"],Hs=[0,"hasPreview"],Es=[0,"meta",0,"sizes",2,_,0,"url"],Os=[0,"dialogAuthCopyAlbum"],Ys=[0,"cover",0,"meta",0,"sizes",2,_,0,"url"],Ns=[0,"dialogAuthCopyAlbumResource"],Bs=[0,"meta",0,"mediatype"],Gs=[0,"resource",2,m],Us=[0,"resource",2,h],Ks=[0,"resource",2,w],Xs=[0,"resource",2,x],Zs=[0,"yandex-direct"],Ws=[0,"directAsidePublic"],Qs=[0,"directAsidePublicImage"],Js=[0,"tldFinal"],$s=[0,"cv_text_direct"],ti=[0,"session",0,"nonce"],ei=[0,"session",0,"experiment",0,"cvDirect"],ai=[0,"directContentPublic"],ni=[0,"directContentPublicImage"],ri=[0,"agent",0,"isMobile"],si=[0,"preview-resource",2,g],ii=[0,"preview-resource",2,j],oi=[0,"filePublic"],ci=[0,"resource"],li=[0,"meta",0,"blockings",0,"simple",0,"public"],di=[0,"resource",2,A],ui=[0,"meta",0,"blocked"],fi=[0,"resource",2,k],yi=[0,"resource",2,z],vi=[0,"meta",0,"sizes",2,C,0,"url"],bi=[0,"resource",2,M],pi=[0,"views",0,"playerAudioPublic"],_i=[0,"views",0,"boxVideoPublic"],mi=[0,"switcher-locale"],hi=[0,"footer"],wi=[0,"switcher",0,"current"],xi=[0,"switcher",0,"tune"],gi=[0,"switcher",0,"available"],ji=[0,"links",0,"*"],Ai=[0,"footerPublic"],ki=[0,"params",0,"poster"],zi=[0,"links",0,"langSwitch"],Ci=[0,"skExternal"],Mi=[0,"languagesAvailable"],Si=[0,"links",0,"yandex"],Pi=[0,"links",0,"help",0,"disk"],Di=[0,"links",0,"feedback",0,"abuse"],Fi=[0,"nb-arrow-service"],Ti=[0,"form-search"],Ri=[0,"formSearch"],Ii=[0,"params",0,"scopeSearch"],Li=[0,"session",0,"loadingFailed"],qi=[0,"notifications"],Vi=[0,"notification"],Hi=[0,"notification",2,S],Ei=[0,"notification",2,P],Oi=[0,"notification",2,D],Yi=[0,"dst",0,"name"],Ni=[0,"dst",0,"parents"],Bi=[0,"src",0,"type"],Gi=[0,"notification",2,F],Ui=[0,"notification",2,T],Ki=[0,"notification",2,R],Xi=[0,"src",0,"name"],Zi=[0,"notification",2,I],Wi=[0,"notification",2,L],Qi=[0,"notification",2,q],Ji=[0,"notification",2,V],$i=[0,"notification",2,H],to=[0,"notification",2,E],eo=[0,"notification",2,O],ao=[0,"notification",2,Y],no=[0,"notification",2,N],ro=[0,"notification",2,B],so=[0,"notification",2,G],io=[0,"notification",2,U],oo=[0,"notification",2,K],co=[0,"notification",2,X],lo=[0,"notification",2,Z],uo=[0,"notification",2,W],fo=[0,"notification",2,Q],yo=[0,"notification",2,J],vo=[0,"notification",2,$],bo=[0,"notification",2,te],po=[0,"notification",2,ee],_o=[0,"notification",2,ae],mo=[0,"dst",0,"type"],ho=[0,"notification",2,ne],wo=[0,"notification",2,re],xo=[0,"notification",2,se],go=[0,"notification",2,ie],jo=[0,"notification",2,oe],Ao=[0,"notification",2,ce],ko=[0,"notification",2,le],zo=[0,"notification",2,de],Co=[0,"notification",2,ue],Mo=[0,"notification",2,fe],So=[0,"notification",2,ye],Po=[0,"notification",2,ve],Do=[0,"notification",2,be],Fo=[0,"notification",2,pe],To=[0,"notification",2,_e],Ro=[0,"notification",2,me],Io=[0,"notification",2,he],Lo=[0,"notification",2,we],qo=[0,"notification",2,xe],Vo=[0,"notification",2,ge],Ho=[0,"notification",2,je],Eo=[0,"notification",2,Ae],Oo=[0,"notification",2,ke],Yo=[0,"notification",2,ze],No=[0,"notification",2,Ce],Bo=[0,"notification",2,Me],Go=[0,"notification",2,Se],Uo=[0,"notification",2,Pe],Ko=[0,"notification",2,De],Xo=[0,"notification",2,Fe],Zo=[0,"notification",2,Te],Wo=[0,"notification",2,Re],Qo=[0,"notification",2,Ie],Jo=[0,"notification",2,Le],$o=[0,"dst",0,"id"],tc=[0,"idContext"],ec=[0,"notification",2,qe],ac=[0,"notification",2,Ve],nc=[0,"notification",2,He],rc=[0,"notification",2,Ee],sc=[0,"notification",2,Oe],ic=[0,"notification",2,Ye],oc=[0,"notification",2,Ne],cc=[0,"notification",2,Be],lc=[0,"notification",2,Ge],dc=[0,"notification",2,Ue],uc=[0,"notification",2,Ke],fc=[0,"notification",2,Xe],yc=[0,"notification",2,Ze],vc=[0,"src",0,"title"],bc=[0,"notification",2,We],pc=[0,"notification",2,Qe],_c=[0,"notification",2,Je],mc=[0,"notification",2,$e],hc=[0,"dst",0,"public",0,"disk_url"],wc=[0,"dst",0,"title"],xc=[0,"notification",2,ta],gc=[0,"notification",2,ea],jc=[0,"notification",2,aa],Ac=[0,"notification",2,na],kc=[0,"notification",2,ra],zc=[0,"notification",2,sa],Cc=[0,"notification",2,ia],Mc=[0,"notification",2,oa],Sc=[0,"notification",2,ca],Pc=[0,"notification",2,la],Dc=[0,"notification",2,da],Fc=[0,"pageError"],Tc=[0,"session"],Rc=[0,"contentError"],Ic=[0,"views",0,"pageError"],Lc=[0,"views",0,"header"],qc=[0,"contentPublic"],Vc=[0,"views",0,"directContentPublic"],Hc=[0,"views",0,"publicResourceInfoRow"],Ec=[0,"views",0,"directContentPublicImage"],Oc=[0,"views",0,"boxCrumbs"],Yc=[0,"views",0,"content"],Nc=[0,"views",0,"asidePublic"],Bc=[0,"views",0,"directAsidePublic"],Gc=[0,"views",0,"directAsidePublicImage"],Uc=[0,"views",0,"publicResourceInfoAside"],Kc=[0,"views",0,"notifications"],Xc=[0,"contentPublic",4,ua],Zc=[0,"src"],Wc=[0,"link"],Qc=[0,"hasDisk"],Jc=[0,"views",0,"boxSlices"],$c=[0,"playerAudioPublic"],tl=[0,"playerVideo"],el=[0,"typeVideoPlayer"],al=[0,"session",0,"experiment",0,"hqVideoStreaming"],nl=[0,"domains",0,"video"],rl=[0,"yandexVideo",0,"login"],sl=[0,"yandexVideo",0,"storageDir"],il=[0,"dimension"],ol=[0,"stid"],cl=[0,"yandexVideo",0,"videodiskToken"],ll=[0,"autoplay"],dl=[0,"agent",0,"OSFamily"],ul=[0,"duration"],fl=[0,"links",0,"pathVideoPlayerFlash"],yl=[0,"host"],vl=[0,"publicResourceInfoRow"],bl=[0,"sponsoredLink"],pl=[0,"sponsored"],_l=[0,"domain"],ml=[0,"body"],hl=[0,"item-nav"],wl=[0,"sliceLinkMail"],xl=[0,"slice",2,fa],gl=[0,"unread"],jl=[0,"sliceShared"],Al=[0,"slice",2,ya],kl=[0,"params",0,"idContext"],zl=[0,"invites"],Cl=[0,"slices"],Ml=[0,"slice",2,va],Sl=[0,"params",0,"idCurrent"],Pl=[0,"params",0,"idAlbum"],Dl=[0,"views",0,"sliceShared"],Fl=[0,"slice"],Tl=[0,"slice",2,ba],Rl=[0,"params",0,"idApp"];Sa.t2664=function(t,e,a,n,r){var s="";return s+=t.a(t,0,t.s(Rn,e),"ns-view",r)},Sa.t2664.j=1,Sa.t2664.a=1,Sa.t2665=function(t,e,a,n,r){var s="";return s+=t.a(t,0,t.n(In,yr.document(t.s(Ya,e))),"ns-build-view",r)},Sa.t2665.j=Fa,Sa.t2665.a=0,Sa.t2666=function(t,e,a,n,r){var s="";return s+=Ma(r),s+="<div",r.a={},r.s="div",s+=t.a(t,0,t.s(Ya,e),"ns-build-view-content",r),s+=Ma(r),s+="</div>"},Sa.t2666.j=Fa,Sa.t2666.a=0,Sa.t2667=function(t,e,a,n,r){var s="",i=ka("state",e.doc.root);if(r.a["class"]=new yr.scalarAttr("ns-view-"+xa(Ca("id",e.doc.root,[]))+" "+xa(Ca("uniqueId",e.doc.root,[]))),r.a["data-key"]=new yr.scalarAttr(xa(Ca("key",e.doc.root,[]))),"placeholder"==i){var o=r.a["class"];r.a["class"]=o?o.addscalar(" ns-view-placeholder"):new yr.scalarAttr(" ns-view-placeholder"),s+=ha(Ca("collection",e.doc.root,[]))?t.a(t,0,t.s(Ya,e),"ns-view-collection",r):t.a(t,0,t.s(Ya,e),"ns-view-desc",r)}else{var c="",l={a:{}};c+=t.a(t,0,t.s(Ya,e),"ns-view-add-class",l);var o=r.a["class"];r.a["class"]=o?o.addxml(c):new yr.xmlAttr(c),s+=t.a(t,0,t.s(Ya,e),"ns-view-add-attrs",r),s+="loading"==i?t.a(t,0,t.s(Ya,e),"ns-view-async-content",r):"error"==i?t.a(t,0,t.s(Ya,e),"ns-view-error-content",r):t.a(t,0,t.s(Ya,e),"ns-view-content",r)}return s},Sa.t2667.j=Fa,Sa.t2667.a=0,Sa.t2668=function(t,e){var a="";return a},Sa.t2668.j=Fa,Sa.t2668.a=0,Sa.t2669=function(t,e){var a="";return a},Sa.t2669.j=Fa,Sa.t2669.a=0,Sa.t2670=function(t,e,a,n,r){var s="";return ha(Ca("collection",e.doc.root,[]))?(s+=Ma(r),s+="<div",r.a={"class":new yr.scalarAttr("ns-view-container-desc")},r.s="div",s+=t.a(t,0,t.s(Ya,e),"ns-view-collection",r),s+=Ma(r),s+="</div>"):s+=t.a(t,0,t.s(Ya,e),"ns-view-desc",r),s},Sa.t2670.j=Fa,Sa.t2670.a=0,Sa.t2671=function(t,e,a,n,r){var s="";return s+=t.a(t,0,t.s(Ln,e.doc.root),"ns-view",r)},Sa.t2671.j=Fa,Sa.t2671.a=0,Sa.t2672=function(t,e,a,n,r){var s="";return s+=t.a(t,0,t.s(qn,e.doc.root),"ns-view",r)},Sa.t2672.j=Fa,Sa.t2672.a=0,Sa.t2673=function(t,e){var a="";return a},Sa.t2673.j=Fa,Sa.t2673.a=0,Sa.t2674=function(t,e){var a="";return a},Sa.t2674.j=Fa,Sa.t2674.a=0,Sa.t2675=function(t,e){var a="";return a},Sa.t2675.j=Vn,Sa.t2675.a=0,Sa.t2676=function(t,e){var a="";return a},Sa.t2676.j=Vn,Sa.t2676.a=0,Sa.t2677=function(t,e,a,n,r){var s="";return s+=Ma(r),s+=xa(t.f("f868",e,a,n,"renderToString"))},Sa.t2677.j=Hn,Sa.t2677.a=0,Sa.t2678=function(t,e,a,n,r){var s="";return s+=Ma(r),s+=xa(t.f("f868",e,a,n,"renderToString"))},Sa.t2678.j=Hn,Sa.t2678.a=0,Sa.t2679=function(t,e,a,n,r){var s="";s+=t.a(t,0,t.s(Ya,e),"nb-attrs",r),s+=t.a(t,0,Ca("*",e,[]),"nb-attrs",r),za("id",e)&&(r.a.id=new yr.scalarAttr(ka("id",e)));for(var i="",o=Ca("class",e,[]),c=0,l=o.length;l>c;c++){var d=o[c];i+=" "+xa(t.s(Ya,d))}var u=r.a["class"];if(r.a["class"]=u?u.addscalar(i):new yr.scalarAttr(i),za("mixin-nb",e)){for(var i="",o=Ca("mixin-nb",e,[]),c=0,l=o.length;l>c;c++){var d=o[c];i+=" "+xa(t.s(Ya,d))}var u=r.a["data-nb"];r.a["data-nb"]=u?u.addscalar(i):new yr.scalarAttr(i)}for(var o=t.s(On,e),c=0,l=o.length;l>c;c++){var d=o[c];r.a["data-nb-"+d.name]=new yr.scalarAttr(xa(t.s(Ya,d)))}for(var o=t.s(Ga,e),c=0,l=o.length;l>c;c++){var d=o[c];r.a[d.name]=new yr.scalarAttr(xa(t.s(Ya,d)))}return s},Sa.t2679.j=Fa,Sa.t2679.a=0,Sa.t2680=function(t,e,a,n,r){var s="";return s+=t.a(t,0,t.s(Ya,e),"nb-content",r)},Sa.t2680.j=Fa,Sa.t2680.a=0,Sa.t2681=function(t,e,a,n,r){var s="";s+=Ma(r),s+="<img",r.a={src:new yr.scalarAttr("data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7")},r.s="img";var i="";return i+="nb-icon nb-",i+=ka("size",e),_a("",Ca("icon",e,[]))||(i+="-",i+=ka("icon",e)),i+="-icon",r.a["class"]=new yr.scalarAttr(i),s+=t.a(t,0,t.s(Ya,e),"nb-main-attrs",r),s+=Ma(r),s+=""},Sa.t2681.j=Yn,Sa.t2681.a=0,Sa.t2682=function(t,e,a,n,r){var s="";return s+=Ma(r),s+="<button",r.a={},r.s="button",t.f("f877",e,a,n,r,"button"),t.f("f879",e,a,n,r),s+=t.a(t,0,t.s(Ya,e),"nb-main-attrs",r),s+=Ma(r),s+='<span class="_nb-button-content">',za("icon",e)&&(s+=t.f("f875",e,a,n,r,yr.object2nodeset(function(){var t={};return t.icon=yr.nodeset2data(Ca("icon",e,[])),t}()))),s+=t.f("f878",e,a,n,r),s+="</span>",s+="</button>"},Sa.t2682.j=Nn,Sa.t2682.a=0,Sa.t2683=function(t,e,a,n,r){var s="";return s+=Ma(r),s+="<a",r.a={},r.s="a",t.f("f877",e,a,n,r,"link"),t.f("f879",e,a,n,r),s+=t.a(t,0,t.s(Ya,e),"nb-main-attrs",r),s+=Ma(r),s+='<span class="_nb-button-content">',za("icon",e)&&(s+=t.f("f875",e,a,n,r,yr.object2nodeset(function(){var t={};return t.icon=yr.nodeset2data(Ca("icon",e,[])),t}()))),s+=t.f("f878",e,a,n,r),s+="</span>",s+="</a>"},Sa.t2683.j=Bn,Sa.t2683.a=0,Sa.t2684=function(t,e,a,n,r){var s="";return s+=Ma(r),s+="<span",r.a={},r.s="span",t.f("f877",e,a,n,r,"span"),t.f("f879",e,a,n,r),s+=t.a(t,0,t.s(Ya,e),"nb-main-attrs",r),s+=Ma(r),s+='<span class="_nb-button-content">',za("icon",e)&&(s+=t.f("f875",e,a,n,r,yr.object2nodeset(function(){var t={};return t.icon=yr.nodeset2data(Ca("icon",e,[])),t}()))),s+=t.f("f878",e,a,n,r),s+="</span>",s+="</span>"},Sa.t2684.j=Gn,Sa.t2684.a=0,Sa.t2685=function(t,e,a,n,r){var s="";return s+=Ma(r),s+="<label",r.a={},r.s="label",t.f("f877",e,a,n,r,"label"),t.f("f879",e,a,n,r),s+=t.a(t,0,t.s(Ya,e),"nb-main-attrs",r),s+=Ma(r),s+='<span class="_nb-button-content">',za("icon",e)&&(s+=t.f("f875",e,a,n,r,yr.object2nodeset(function(){var t={};return t.icon=yr.nodeset2data(Ca("icon",e,[])),t}()))),s+=t.f("f878",e,a,n,r),s+="</span>",s+="</label>"},Sa.t2685.j=Un,Sa.t2685.a=0,Sa.t2686=function(t,e,a,n,r){var s="";if(s+=Ma(r),s+="<label",r.a={},r.s="label",t.f("f877",e,a,n,r,"attach"),t.f("f879",e,a,n,r),s+=t.a(t,0,t.s(Ya,e),"nb-main-attrs",r),s+=Ma(r),s+='<span class="_nb-file-intruder">',s+='<span class="_nb-file-intruder-inner">',s+="<input",r.a={"class":new yr.scalarAttr("_nb-file-intruder-input"),type:new yr.scalarAttr("file")},r.s="input",(ha(t.s(Xn,e))||za("multiple",e))&&(r.a.multiple=new yr.scalarAttr("multiple")),za("name",e)&&(r.a.name=new yr.scalarAttr(ka("name",e))),ha(t.s(qa,e))&&(r.a.name=new yr.scalarAttr(xa(t.s(qa,e)))),ha(t.s(Zn,e))){var i=r.a.title;r.a.title=i?i.addscalar(xa(t.s(Zn,e))):new yr.scalarAttr(xa(t.s(Zn,e)))}return za("disabled",e)&&(r.a.disabled=new yr.scalarAttr("disabled")),ha(t.s(Wn,e))&&(r.a.accept=new yr.scalarAttr(xa(t.s(Wn,e)))),s+=Ma(r),s+="",s+='<span class="_nb-file-intruder-focus"></span>',s+="</span>",s+="</span>",s+='<span class="_nb-button-content">',za("icon",e)&&(s+=t.f("f875",e,a,n,r,yr.object2nodeset(function(){var t={};return t.icon=yr.nodeset2data(Ca("icon",e,[])),t}()))),s+=t.f("f878",e,a,n,r),s+="</span>",s+="</label>"},Sa.t2686.j=Kn,Sa.t2686.a=0,Sa.t2687=function(t,e,a,n,r){var s="";if(s+=Ma(r),s+="<div",r.a={"class":new yr.scalarAttr("nb-popup _nb-popup _init")},r.s="div",!za("static",e)){r.a["data-nb"]=new yr.scalarAttr("popup");var i=r.a["class"];r.a["class"]=i?i.addscalar(" _nb-is-hidden"):new yr.scalarAttr(" _nb-is-hidden")}return s+=t.a(t,0,t.s(Ya,e),"nb-main-attrs",r),ha(Ca("withoutTail",e,[]))&&(r.a["data-nb-withoutTail"]=new yr.scalarAttr("true")),s+=t.a(t,0,t.s(Ya,e),"nb-popup-menu-content",r),s+=Ma(r),s+="</div>"},Sa.t2687.j=Qn,Sa.t2687.a=0,Sa.t2688=function(t,e,a,n,r){var s="";return s+=Ma(r),s+="<ul",r.a={"class":new yr.scalarAttr("_nb-popup-menu")},r.s="ul",s+=t.a(t,0,Ca("menu",e,[]),"nb-popup-menu-content-item",r),s+=Ma(r),s+="</ul>"},Sa.t2688.j=Qn,Sa.t2688.a=0,Sa.t2689=function(t,e,a,n,r){var s="";return s+=Ma(r),za("separator",e)?s+='<li class="_nb-popup-separator"></li>':(s+='<li class="_nb-popup-line">',s+="<a",r.a={"class":new yr.scalarAttr("_nb-popup-link")},r.s="a",za("href",e)&&(r.a.href=new yr.scalarAttr(ka("href",e))),s+=t.a(t,0,t.s(Ya,e),"nb-main-attrs",r),s+=Ma(r),s+=ka("content",e),s+="</a>",s+="</li>"),s},Sa.t2689.j=Jn,Sa.t2689.a=0,Sa.t2690=function(t,e,a,n,r){var s="";return s+=Ma(r),s+="<div",r.a={"class":new yr.scalarAttr("nb-popup _nb-popup _init _nb-is-hidden"),"data-nb":new yr.scalarAttr("popup")},r.s="div",s+=t.a(t,0,t.s(Ya,e),"nb-main-attrs",r),ha(Ca("withoutTail",e,[]))&&(r.a["data-nb-withoutTail"]=new yr.scalarAttr("true")),s+=Ma(r),za("close",e)&&(s+=t.f("f886",e,a,n,r,Ca("close",e,[]))),za("titleContent",e)&&(s+=t.f("f884",e,a,n,r,Ca("titleContent",e,[]))),za("content",e)&&(s+=t.f("f883",e,a,n,r,Ca("content",e,[]))),s+="</div>"},Sa.t2690.j=tr,Sa.t2690.a=0,Sa.t2691=function(t,e,a,n,r){var s="";s+=Ma(r),za("static",e)&&(s+=t.f("f894",e,a,n,r)),s+="<div",r.a={},r.s="div",t.f("f874",e,a,n,r,yr.object2nodeset(function(){var t={};return t.name="popup",t.theme=yr.nodeset2data(Ca("theme",e,[])),t.type="modal",t}()));var i=r.a["class"];r.a["class"]=i?i.addscalar(" _init"):new yr.scalarAttr(" _init");var i=r.a["class"];if(r.a["class"]=i?i.addscalar(" _nb-popup"):new yr.scalarAttr(" _nb-popup"),!za("static",e)){r.a["data-nb"]=new yr.scalarAttr("popup");var i=r.a["class"];r.a["class"]=i?i.addscalar(" _nb-is-hidden"):new yr.scalarAttr(" _nb-is-hidden")}return s+=t.a(t,0,t.s(Ya,e),"nb-main-attrs",r),s+=Ma(r),s+='<div class="_nb-popup-i">',za("close",e)&&(s+=t.f("f886",e,a,n,r,Ca("close",e,[]))),za("titleContent",e)&&(s+=t.f("f884",e,a,n,r,Ca("titleContent",e,[]))),za("content",e)&&(s+=t.f("f883",e,a,n,r,Ca("content",e,[]))),za("buttons",e)&&(s+=t.f("f885",e,a,n,r,Ca("buttons",e,[]))),s+="</div>",s+="</div>"},Sa.t2691.j=er,Sa.t2691.a=0,Sa.t2692=function(t,e,a,n,r){var s="",i="radio-button_"+yr.externals["_nb-uniq"]();s+=Ma(r),s+="<div",r.a={},r.s="div",t.f("f874",e,a,n,r,yr.object2nodeset(function(){var t={};return t.name="radio-button",t.size=yr.nodeset2data(Ca("size",e,[])),t.theme=yr.nodeset2data(Ca("theme",e,[])),t}()));var o=r.a["class"];r.a["class"]=o?o.addscalar(" nb-group"):new yr.scalarAttr(" nb-group"),s+=t.a(t,0,t.s(Ya,e),"nb-main-attrs",r),s+=Ma(r);for(var c=Ca("group",e,[]),l=0,d=c.length;d>l;l++){var u=c[l],f="nb-radio-button_"+yr.externals["_nb-uniq"]();s+='<span class="_nb-radio-button-button nb-complex-group-item">',s+="<input",r.a={"class":new yr.scalarAttr("_nb-radio-button-radio"),type:new yr.scalarAttr("radio"),value:new yr.scalarAttr(xa(Ca("value",u,[]))),id:new yr.scalarAttr(f)},r.s="input",za("checked",u)&&(r.a.checked=new yr.scalarAttr("checked")),za("disabled",u)&&(r.a.disabled=new yr.scalarAttr("disabled")),za("tabindex",u)&&!za("disabled",u)&&(r.a.tabindex=new yr.scalarAttr(ka("tabindex",u)));var y="";y+=ha(Ca("name",u,[]))?ka("name",u):ha(t.s(qa,u))?xa(t.s(qa,u)):ha(t.s(nr,u))?xa(t.s(nr,u)):i,r.a.name=new yr.scalarAttr(y),s+=Ma(r),s+="",s+=t.f("f876",u,l,d,r,yr.externals["_nb-extend"](t.s(Ya,u),yr.object2nodeset(function(){var e={},a=[];a.push("nb-complex-group-item-subject"),a.push("js-button"),e["class"]=a,e.type="label",e["static"]=!0,e.id=!1,e.size=yr.nodeset2data(t.s(rr,u));var a={};return a["for"]=f,a["data-value"]=yr.nodeset2data(Ca("value",u,[])),e.attrs=a,e}()))),s+="</span>"}return s+="</div>"},Sa.t2692.j=ar,Sa.t2692.a=0,Sa.t2693=function(t,e,a,n,r){var s="",i=t.s(ir,e).length>0;s+=Ma(r),s+="<span",r.a={"data-nb-direction":new yr.scalarAttr(xa(Ca("direction",e,[]))),"data-nb":new yr.scalarAttr("select"),tabindex:new yr.scalarAttr("0")},r.s="span",t.f("f877",e,a,n,r,"span");var o=r.a["class"];if(r.a["class"]=o?o.addscalar(" nb-select _init _nb-select-button"):new yr.scalarAttr(" nb-select _init _nb-select-button"),_a("s",Ca("size",e,[]))){var o=r.a["class"];r.a["class"]=o?o.addscalar(" _nb-small-normal-select"):new yr.scalarAttr(" _nb-small-normal-select")}s+=t.a(t,0,t.s(Ya,e),"nb-main-attrs",r),za("within",e)&&(r.a["data-nb-within"]=new yr.scalarAttr(ka("within",e))),za("appendto",e)&&(r.a["data-nb-appendto"]=new yr.scalarAttr(ka("appendto",e))),za("tabindex",e)&&!za("disabled",e)&&(r.a.tabindex=new yr.scalarAttr(ka("tabindex",e))),za("maxHeight",e)&&(r.a["data-nb-maxheight"]=new yr.scalarAttr(ka("maxHeight",e))),s+=Ma(r),s+='<span class="_nb-button-content">';for(var c=Ca("items",e,[]),l=0,d=c.length;d>l;l++){var u=c[l];(i&&za("selected",u)||!i&&0==l)&&(s+=ma(Ca("text",u,[])))}return s+="</span>",s+='<span class="_nb-select-helper"></span>',s+="<select",r.a={"class":new yr.scalarAttr("_nb-select-fallback")},r.s="select",ha(Ca("disabled",e,[]))&&(r.a.disabled=new yr.scalarAttr("disabled")),za("name",e)&&(r.a.name=new yr.scalarAttr(ka("name",e))),ha(t.s(qa,e))&&(r.a.name=new yr.scalarAttr(xa(t.s(qa,e)))),s+=t.a(t,0,t.s(Ya,e),"nb-select-options",r),s+=Ma(r),s+="</select>",s+="<span",r.a={},r.s="span",t.f("f874",e,a,n,r,yr.object2nodeset(function(){var t={};return t.name="select-dropdown",t.size=yr.nodeset2data(Ca("size",e,[])),t.theme=yr.nodeset2data(Ca("theme",e,[])),t}())),s+=Ma(r),s+="</span>",s+="</span>"},Sa.t2693.j=sr,Sa.t2693.a=0,Sa.t2694=function(t,e,a,n,r){var s="";s+=Ma(r);for(var i=Ca("items",e,[]),o=0,c=i.length;c>o;o++){var l=i[o];if(za("group",l)){s+='<optgroup label="'+wa(Ca("text",l,[]))+'" data-nb-type="'+wa(Ca("type",l,[]))+'">';for(var d=Ca("group",l,[]),u=0,f=d.length;f>u;u++){var y=d[u];s+=t.f("f889",y,u,f,r,t.s(Ya,y))}s+="</optgroup>"}else s+=t.f("f889",l,o,c,r,t.s(Ya,l))}return s},Sa.t2694.s=[1,sr],Sa.t2694.a=[1,0],Sa.t2695=function(t,e,a,n,r){var s="",i="";i+=za("id",e)?ka("id",e):yr.externals["_nb-uniq"]();var o=i;s+=Ma(r),s+="<label",r.a={"data-nb":new yr.scalarAttr("checkbox"),"for":new yr.scalarAttr("nb-checkbox_"+o)},r.s="label",s+=t.a(t,0,t.s(Ya,e),"nb-main-attrs",r),t.f("f874",e,a,n,r,yr.object2nodeset(function(){var t={};return t.name="checkbox",t.size=yr.nodeset2data(Ca("size",e,[])),za("type",e)&&(t.type=yr.nodeset2data(Ca("type",e,[]))),t}()));var c=r.a["class"];if(r.a["class"]=c?c.addscalar(" _init"):new yr.scalarAttr(" _init"),za("disabled",e)){var c=r.a["class"];r.a["class"]=c?c.addscalar(" _nb-is-disabled"):new yr.scalarAttr(" _nb-is-disabled")}if(s+=Ma(r),s+="<input",r.a={"class":new yr.scalarAttr("_nb-checkbox-input"),id:new yr.scalarAttr("nb-checkbox_"+o)},r.s="input",r.a.type=_a("button",Ca("type",e,[]))?new yr.scalarAttr("checkbox"):new yr.scalarAttr(ka("type",e)),za("name",e)&&(r.a.name=new yr.scalarAttr(ka("name",e))),za("tabindex",e)&&!za("disabled",e)&&(r.a.tabindex=new yr.scalarAttr(ka("tabindex",e))),za("disabled",e)&&(r.a.disabled=new yr.scalarAttr("disabled")),za("checked",e)&&(r.a.checked=new yr.scalarAttr("checked")),Ca("value",e,[]).length&&(r.a.value=new yr.scalarAttr(ka("value",e))),s+=Ma(r),s+="",_a("button",Ca("type",e,[])))s+=t.f("f876",e,a,n,r,yr.externals["_nb-extend"](t.s(Ya,e),yr.object2nodeset(function(){var t={};t.type="inline",t["static"]=!0,t.id=!1,t.attrs=!1;var e=[];return e.push("_nb-checkbox-label"),t["class"]=e,t}())));else{if(s+="<span",r.a={"class":new yr.scalarAttr("_nb-checkbox-flag ")},r.s="span",_a("checkbox",Ca("type",e,[]))){var c=r.a["class"];r.a["class"]=c?c.addscalar("_nb-checkbox-normal-flag"):new yr.scalarAttr("_nb-checkbox-normal-flag")}else if(za("type",e)){var c=r.a["class"];r.a["class"]=c?c.addscalar("_nb-checkbox-"+xa(Ca("type",e,[]))+"-flag"):new yr.scalarAttr("_nb-checkbox-"+xa(Ca("type",e,[]))+"-flag")}s+=Ma(r),s+='<span class="_nb-checkbox-flag-icon"></span>',s+="</span>",s+='<span class="_nb-checkbox-label">',ha(Ca("content",e,[]))&&(s+=ka("content",e)),s+="</span>"}return s+="</label>"},Sa.t2695.j=or,Sa.t2695.a=0,Sa.t2696=function(t,e,a,n,r){var s="",i="nb-input_error"+yr.externals["_nb-uniq"]();s+=Ma(r),s+="<label",r.a={},r.s="label",t.f("f874",e,a,n,r,yr.object2nodeset(function(){var t={};return t.name="input",za("size",e)&&(t.size=yr.nodeset2data(Ca("size",e,[]))),t.type="complex",t}())),s+=t.a(t,0,t.s(Ya,e),"nb-main-attrs",r);var o=r.a["class"];if(r.a["class"]=o?o.addscalar(" _init"):new yr.scalarAttr(" _init"),ha(Ca("static",e,[]))||(r.a["data-nb"]=new yr.scalarAttr("input")),za("disabled",e)){var o=r.a["class"];r.a["class"]=o?o.addscalar(" _nb-is-disabled"):new yr.scalarAttr(" _nb-is-disabled"),r.a["data-nb-disabled"]=new yr.scalarAttr("true")}if(za("ghost",e)){var o=r.a["class"];r.a["class"]=o?o.addscalar(" _nb-is-ghost"):new yr.scalarAttr(" _nb-is-ghost"),r.a["data-nb-ghost"]=new yr.scalarAttr("true")}za("error",e)&&(r.a["data-nb-error"]=new yr.scalarAttr('{ "id": "'+i+'", "direction":"'+xa(t.s(lr,e))+'"}')),s+=Ma(r),za("error",e)&&(s+=t.f("f881",e,a,n,r,yr.object2nodeset(function(){var a={};return a["class"]=xa(t.s(dr,e))+" _nb-error-popup",a.content=yr.nodeset2data(t.s(ur,e)),a.id=i,a}()))),za("leftContent",e)&&(s+='<span class="_nb-input-left">',s+=ka("leftContent",e),s+="</span>"),za("rightContent",e)&&(s+='<span class="_nb-input-right">',s+=ka("rightContent",e),s+="</span>"),za("reset",e)&&(s+='<span class="_nb-input-reset"></span>'),s+='<span class="_nb-input-content">',!za("hint",e)||_a("",t.s(fr,e))||!_a("",Ca("content",e,[]))&&za("content",e)||(s+='<span class="_nb-input-hint">',s+='<span class="_nb-input-hint-inner">',ha(t.s(vr,e))?(s+='<span class="_nb-input-hint-ghost"></span>',s+='<span class="_nb-input-hint-content">',s+=ma(t.s(fr,e)),s+="</span>"):s+=ma(Ca("hint",e,[])),s+="</span>",s+="</span>"),s+="<input",r.a={type:new yr.scalarAttr("text"),"class":new yr.scalarAttr("_nb-input-controller"),value:new yr.scalarAttr(xa(Ca("content",e,[])))},r.s="input";for(var c=t.s(Ga,e),l=0,d=c.length;d>l;l++){var u=c[l];r.a[u.name]=new yr.scalarAttr(xa(t.s(Ya,u)))}return za("name",e)&&(r.a.name=new yr.scalarAttr(ka("name",e))),za("tabindex",e)&&!za("disabled",e)&&(r.a.tabindex=new yr.scalarAttr(ka("tabindex",e))),za("disabled",e)&&(r.a.disabled=new yr.scalarAttr("disabled")),za("hint",e)&&!_a("",t.s(fr,e))&&(r.a.placeholder=new yr.scalarAttr(ka("hint",e))),s+=Ma(r),s+="",s+='<span class="_nb-input-view"> </span>',s+="</span>",s+="</label>"},Sa.t2696.j=cr,Sa.t2696.a=0,Sa.t2697=function(t,e,a,n,r){var s="",i="nb-input_error"+yr.externals["_nb-uniq"]();s+=Ma(r),s+="<label",r.a={},r.s="label",t.f("f874",e,a,n,r,yr.object2nodeset(function(){var t={};return t.name="input",za("size",e)&&(t.size=yr.nodeset2data(Ca("size",e,[]))),t.type="complex",t}()));var o=r.a["class"];if(r.a["class"]=o?o.addscalar(" _init"):new yr.scalarAttr(" _init"),s+=t.a(t,0,t.s(Ya,e),"nb-main-attrs",r),ha(Ca("static",e,[]))||(r.a["data-nb"]=new yr.scalarAttr("input")),za("disabled",e)){var o=r.a["class"];r.a["class"]=o?o.addscalar(" _nb-is-disabled"):new yr.scalarAttr(" _nb-is-disabled"),r.a["data-nb-disabled"]=new yr.scalarAttr("true")}if(za("ghost",e)){var o=r.a["class"];r.a["class"]=o?o.addscalar(" _nb-is-ghost _init"):new yr.scalarAttr(" _nb-is-ghost _init"),r.a["data-nb-ghost"]=new yr.scalarAttr("true")}if(za("error",e)){var o=r.a["class"];r.a["class"]=o?o.addscalar(" _init"):new yr.scalarAttr(" _init"),r.a["data-nb-error"]=new yr.scalarAttr('{ "id": "'+i+'", "direction":"'+xa(t.s(lr,e))+'" }'),s+=Ma(r),s+=t.f("f881",e,a,n,r,yr.object2nodeset(function(){var a={};return a["class"]="_nb-error-popup",a.content=yr.nodeset2data(t.s(ur,e)),a.id=i,a}()))}s+=Ma(r),za("reset",e)&&(s+='<span class="_nb-input-reset"></span>'),za("leftContent",e)&&(s+='<span class="_nb-input-left">',s+=ka("leftContent",e),s+="</span>"),za("rightContent",e)&&(s+='<span class="_nb-input-right">',s+=ka("rightContent",e),s+="</span>"),s+='<span class="_nb-input-content">',s+="<textarea",r.a={"class":new yr.scalarAttr("_nb-input-controller")},r.s="textarea";for(var c=t.s(Ga,e),l=0,d=c.length;d>l;l++){var u=c[l];r.a[u.name]=new yr.scalarAttr(xa(t.s(Ya,u)))}return za("name",e)&&(r.a.name=new yr.scalarAttr(ka("name",e))),za("tabindex",e)&&!za("disabled",e)&&(r.a.tabindex=new yr.scalarAttr(ka("tabindex",e))),za("disabled",e)&&(r.a.disabled=new yr.scalarAttr("disabled")),s+=Ma(r),za("content",e)&&(s+=ma(Ca("content",e,[]))),s+="</textarea>",s+='<span class="_nb-input-view"> </span>',s+="</span>",s+="</label>"},Sa.t2697.j=br,Sa.t2697.a=0,Sa.t2698=function(t,e,a,n,r){var s="";s+=Ma(r),s+="<input",r.a={type:new yr.scalarAttr("text"),value:new yr.scalarAttr(xa(Ca("content",e,[]))),"data-nb-type":new yr.scalarAttr("simple")},r.s="input",t.f("f874",e,a,n,r,yr.object2nodeset(function(){var t={};return t.name="input",za("size",e)&&(t.size=yr.nodeset2data(Ca("size",e,[]))),t.type="simple",t}()));var i=r.a["class"];if(r.a["class"]=i?i.addscalar(" _init"):new yr.scalarAttr(" _init"),s+=t.a(t,0,t.s(Ya,e),"nb-main-attrs",r),za("name",e)&&(r.a.name=new yr.scalarAttr(ka("name",e))),za("tabindex",e)&&!za("disabled",e)&&(r.a.tabindex=new yr.scalarAttr(ka("tabindex",e))),ha(Ca("static",e,[]))||(r.a["data-nb"]=new yr.scalarAttr("input")),za("disabled",e)){var i=r.a["class"];
r.a["class"]=i?i.addscalar(" _nb-is-disabled"):new yr.scalarAttr(" _nb-is-disabled"),r.a.disabled=new yr.scalarAttr("disabled"),r.a["data-nb-disabled"]=new yr.scalarAttr("true")}return s+=Ma(r),s+=""},Sa.t2698.j=pr,Sa.t2698.a=0,Sa.t2699=function(t,e,a,n,r){var s="";s+=Ma(r),s+="<textarea",r.a={"data-nb-type":new yr.scalarAttr("simple")},r.s="textarea",t.f("f874",e,a,n,r,yr.object2nodeset(function(){var t={};return t.name="input",za("size",e)&&(t.size=yr.nodeset2data(Ca("size",e,[]))),t.type="simple",t}()));var i=r.a["class"];if(r.a["class"]=i?i.addscalar(" _init"):new yr.scalarAttr(" _init"),s+=t.a(t,0,t.s(Ya,e),"nb-main-attrs",r),za("name",e)&&(r.a.name=new yr.scalarAttr(ka("name",e))),za("tabindex",e)&&!za("disabled",e)&&(r.a.tabindex=new yr.scalarAttr(ka("tabindex",e))),ha(Ca("static",e,[]))||(r.a["data-nb"]=new yr.scalarAttr("input")),za("disabled",e)){var i=r.a["class"];r.a["class"]=i?i.addscalar(" _nb-is-disabled"):new yr.scalarAttr(" _nb-is-disabled"),r.a.disabled=new yr.scalarAttr("disabled"),r.a["data-nb-disabled"]=new yr.scalarAttr("true")}return s+=Ma(r),za("content",e)&&(s+=ma(Ca("content",e,[]))),s+="</textarea>"},Sa.t2699.j=_r,Sa.t2699.a=0,Sa.t2700=function(t,e,a,n,r){var s="";if(s+=Ma(r),s+="<div",r.a={"class":new yr.scalarAttr("nb-input-group"),"data-nb":new yr.scalarAttr("input-group")},r.s="div",s+=t.a(t,0,t.s(Ya,e),"nb-main-attrs",r),za("disabled",e)){var i=r.a["class"];r.a["class"]=i?i.addscalar(" _nb-is-disabled"):new yr.scalarAttr(" _nb-is-disabled"),r.a["data-nb-disabled"]=new yr.scalarAttr("true")}s+=Ma(r);for(var o=Ca("*",e,[]),c=0,l=o.length;l>c;c++){var d=o[c];"button"==d.name?s+=t.f("f876",d,c,l,r,t.s(Ya,d)):"input"==d.name&&(s+=t.f("f891",d,c,l,r,t.s(Ya,d)))}return s+="</div>"},Sa.t2700.j=mr,Sa.t2700.a=0,Sa.t2701=function(t,e,a,n,r){var s="";s+=Ma(r),s+="<div",r.a={"data-nb":new yr.scalarAttr("progress"),"data-nb-type":new yr.scalarAttr(xa(Ca("type",e,[])))},r.s="div",t.f("f874",e,a,n,r,yr.object2nodeset(function(){var t={};return t.name="progress",t.type=yr.nodeset2data(Ca("type",e,[])),t}()));var i=r.a["class"];return r.a["class"]=i?i.addscalar(" _init"):new yr.scalarAttr(" _init"),s+=t.a(t,0,t.s(Ya,e),"nb-main-attrs",r),s+=Ma(r),za("bar",e)&&(s+='<div class="_nb-progress-bar js-bar" style="width: '+wa(Ca("start",e,[]))+"%"+'"></div>'),za("title",e)&&(s+='<div class="_nb-progress-title js-title">',s+=_a("percentage",Ca("type",e,[]))?ja(ka("start",e)+"%"):ma(Ca("title",e,[])),s+="</div>"),s+='<input type="hidden" value="'+wa(Ca("start",e,[]))+"%"+'"/>',s+="</div>"},Sa.t2701.j=hr,Sa.t2701.a=0,Sa.t2702=function(t,e,a,n,r){var s="";return s+=Ma(r),s+="<div",r.a={},r.s="div",t.f("f874",e,a,n,r,yr.object2nodeset(function(){var t={};return t.name="paranja",t.theme=yr.nodeset2data(Ca("theme",e,[])),t}())),s+=t.a(t,0,t.s(Ya,e),"nb-main-attrs",r),s+=Ma(r),za("content",e)&&(s+=ka("content",e)),s+="</div>"},Sa.t2702.j=xr,Sa.t2702.a=0,Sa.t2703=function(t,e,a,n,r){var s="",i="";i+=za("type",e)?"-"+ka("type",e):"";var o=i,i="";_a("s",Ca("padding",e,[]))?i+="-small":_a("l",Ca("padding",e,[]))?i+="-large":_a("m",Ca("padding",e,[]))&&(i+="");var c=i;s+=Ma(r),s+="<div",r.a={},r.s="div",s+=t.a(t,0,t.s(Ya,e),"nb-main-attrs",r);var l=r.a["class"];return r.a["class"]=l?l.addscalar(" nb-island _nb"+c+o+"-island"):new yr.scalarAttr(" nb-island _nb"+c+o+"-island"),s+=Ma(r),za("content",e)&&(s+=ka("content",e)),s+="</div>"},Sa.t2703.j=gr,Sa.t2703.a=0,Sa.t2704=function(t,e,a,n,r){var s="";return s+=Ma(r),s+="<div",r.a={},r.s="div",t.f("f874",e,a,n,r,yr.object2nodeset(function(){var t={};return t.name="dropzone",t.type=yr.nodeset2data(Ca("type",e,[])),t}())),s+=t.a(t,0,t.s(Ya,e),"nb-main-attrs",r),s+=Ma(r),za("head",e)&&(s+='<div class="_nb-dropzone-head">',s+=ma(Ca("head",e,[])),s+="</div>"),za("content",e)&&(s+='<div class="_nb-dropzone-text">',za("content",e)&&(s+=ka("content",e)),_a("false",Ca("button",e,[]))||(s+=t.f("f876",e,a,n,r,Ca("button",e,[]))),s+="</div>"),_a("modal",Ca("type",e,[]))&&(s+='<div class="_nb-dropzone-cover"></div>'),s+="</div>"},Sa.t2704.j=jr,Sa.t2704.a=0,Sa.t2705=function(t,e,a,n,r){var s="";if(s+=Ma(r),s+="<span",r.a={},r.s="span",t.f("f874",e,a,n,r,yr.object2nodeset(function(){var t={};return t.name="loader",t.size=yr.nodeset2data(Ca("size",e,[])),t}())),s+=t.a(t,0,t.s(Ya,e),"nb-main-attrs",r),s+=Ma(r),s+="<span",r.a={"class":new yr.scalarAttr("_nb-loader-spinner")},r.s="span",za("color",e)){var i=r.a["class"];r.a["class"]=i?i.addscalar(" _nb-loader-"+xa(Ca("color",e,[]))+"-spinner"):new yr.scalarAttr(" _nb-loader-"+xa(Ca("color",e,[]))+"-spinner")}return s+=Ma(r),s+="</span>",s+="</span>"},Sa.t2705.j=Ar,Sa.t2705.a=0,Sa.t2706=function(t,e,a,n,r){var s="";s+=Ma(r),s+="<div",r.a={},r.s="div",t.f("f874",e,a,n,r,yr.object2nodeset(function(){var t={};return t.name="slider",t.size=yr.nodeset2data(Ca("size",e,[])),t}()));var i=r.a["class"];if(r.a["class"]=i?i.addscalar(" _init _nb-"+xa(Ca("orientation",e,[]))+"-slider _nb-slider-"+xa(Ca("type",e,[]))+"-handle"):new yr.scalarAttr(" _init _nb-"+xa(Ca("orientation",e,[]))+"-slider _nb-slider-"+xa(Ca("type",e,[]))+"-handle"),s+=t.a(t,0,t.s(Ya,e),"nb-main-attrs",r),r.a["data-nb-value"]=new yr.scalarAttr(xa(Ca("value",e,[]))),za("static",e)||(r.a["data-nb"]=new yr.scalarAttr("slider")),za("disabled",e)){var i=r.a["class"];r.a["class"]=i?i.addscalar(" _nb-is-disabled"):new yr.scalarAttr(" _nb-is-disabled")}if(s+=Ma(r),s+='<div class="_nb-slider-body _nb-slider-'+wa(Ca("type",e,[]))+"-body"+'">',s+="<label",r.a={"class":new yr.scalarAttr("ui-slider-handle")},r.s="label",_a("s",Ca("size",e,[]))){var i=r.a["class"];r.a["class"]=i?i.addscalar(" _nb-slider-small-handle"):new yr.scalarAttr(" _nb-slider-small-handle")}else{var i=r.a["class"];r.a["class"]=i?i.addscalar(" _nb-slider-handle"):new yr.scalarAttr(" _nb-slider-handle")}if(ha(t.s(zr,e))){var i=r.a["class"];r.a["class"]=i?i.addscalar(" "+xa(t.s(zr,e))):new yr.scalarAttr(" "+xa(t.s(zr,e)))}if(za("tabindex",e)&&!za("disabled",e)&&(r.a.tabindex=new yr.scalarAttr(ka("tabindex",e))),s+=Ma(r),s+="<span",r.a={"class":new yr.scalarAttr("nb-button-content")},r.s="span",za("content",e)){var i=r.a["class"];r.a["class"]=i?i.addscalar(" nb-is-hidden"):new yr.scalarAttr(" nb-is-hidden")}return s+=Ma(r),s+="<input",r.a={tabindex:new yr.scalarAttr("-1"),"class":new yr.scalarAttr("_nb-slider-fallback"),type:new yr.scalarAttr("text"),value:new yr.scalarAttr(xa(Ca("value",e,[]))),readonly:new yr.scalarAttr("readonly")},r.s="input",za("name",e)&&(r.a.name=new yr.scalarAttr(xa(Ca("name",e,[])))),s+=Ma(r),s+="",s+="</span>",za("content",e)&&(s+=ka("content",e)),s+="</label>",s+="</div>",s+="</div>"},Sa.t2706.j=kr,Sa.t2706.a=0,Sa.t2707=function(t,e,a,n,r){var s="",i="tabs-"+yr.externals["_nb-uniq"]();s+=Ma(r),s+="<div",r.a={"data-nb":new yr.scalarAttr("tabs")},r.s="div",t.f("f874",e,a,n,r,yr.object2nodeset(function(){var t={};return t.name="tabs",t.size=yr.nodeset2data(Ca("size",e,[])),za("rise",e)&&(t.type="rise-"+ka("rise",e)),t}()));var o=r.a["class"];r.a["class"]=o?o.addscalar(" _init"):new yr.scalarAttr(" _init"),s+=t.a(t,0,t.s(Ya,e),"nb-main-attrs",r),s+=Ma(r),s+='<ul class="_nb-tabs-tabs">';for(var c=Ca("items",e,[]),l=0,d=c.length;d>l;l++){var u=c[l];if(s+="<li",r.a={"class":new yr.scalarAttr("_nb-tabs-tab")},r.s="li",za("active",u)){var f=r.a["class"];r.a["class"]=f?f.addscalar(" ui-tabs-active"):new yr.scalarAttr(" ui-tabs-active")}s+=Ma(r),s+='<a class="_nb-tabs-link _link" href="#'+ga(i)+"-"+ga(l)+'">',s+=ma(Ca("title",u,[])),s+="</a>",s+="</li>"}s+="</ul>";for(var c=Ca("items",e,[]),l=0,d=c.length;d>l;l++){var u=c[l];s+='<div class="_nb-tabs-panel" id="'+ga(i)+"-"+ga(l)+'">',za("content",u)&&(s+=ka("content",u)),s+="</div>"}return s+="</div>"},Sa.t2707.j=Cr,Sa.t2707.a=0,Sa.t2708=function(t,e,a,n,r){var s="",i="";i+=za("text",e)?'<a href="'+ka("href",e)+'" class="_nb-search-arrow-label">'+ka("text",e)+"</a>":"";var o=i,i="";i+=za("requests",e)?" — "+ka("requests",e):"";var c=i;return s+=Ma(r),s+="<form",r.a={"data-nb":new yr.scalarAttr("arrow"),"class":new yr.scalarAttr("nb-arrow _init _nb-search-arrow")},r.s="form",s+=t.a(t,0,t.s(Ya,e),"nb-main-attrs",r),s+=Ma(r),s+='<span class="_nb-arrow-tail"></span>',s+=t.f("f876",e,a,n,r,yr.object2nodeset(function(){var t={};t.size="m",t["class"]="_nb-search-arrow-button",t.tabindex=yr.nodeset2data(Ca("buttonTabindex",e,[])),t.content=yr.nodeset2data(Ca("buttonContent",e,[]));var a={};return a.type="submit",t.attrs=a,t}())),s+='<div class="_nb-search-arrow-content">',s+=t.f("f891",e,a,n,r,yr.object2nodeset(function(){var t={};t.size="m",t["class"]="_nb-search-arrow-input",t.tabindex=yr.nodeset2data(Ca("inputTabindex",e,[])),t.leftContent=o;var a={};a.autocomplete="off",a.value=yr.nodeset2data(Ca("value",e,[])),a.name="text",t.attrs=a;var a={};return a.text=c,a.ghost=!0,t.hint=a,t}())),s+="</div>",s+="</form>"},Sa.t2708.j=Mr,Sa.t2708.a=0,Sa.t2709=function(t,e,a,n,r){var s="";return s+=Ma(r),s+="<div",r.a={"class":new yr.scalarAttr("_nb-service-arrow")},r.s="div",s+=t.a(t,0,t.s(Ya,e),"nb-main-attrs",r),s+=Ma(r),s+='<span class="_nb-arrow-tail"></span>',s+=ma(Ca("text",e,[])),s+="</div>"},Sa.t2709.j=Sr,Sa.t2709.a=0,Sa.t2710=function(t,e,a,n,r){var s="";return s+=Ma(r),s+="<a",r.a={href:new yr.scalarAttr(xa(Ca("href",e,[]))),"class":new yr.scalarAttr("_nb-service-arrow")},r.s="a",s+=t.a(t,0,t.s(Ya,e),"nb-main-attrs",r),s+=Ma(r),s+='<span class="_nb-arrow-tail"></span>',s+=ma(Ca("text",e,[])),s+="</a>"},Sa.t2710.j=Pr,Sa.t2710.a=0,Sa.t2711=function(t,e,a,n,r){var s="";return s+=Ma(r),s+="<div",r.a={"class":new yr.scalarAttr("nb-header _init"),"data-nb":new yr.scalarAttr("header")},r.s="div",s+=t.a(t,0,t.s(Ya,e),"nb-main-attrs",r),s+=Ma(r),s+='<div class="_nb-header-actions">',za("settings",e)&&(ha(t.s(Fr,e))?s+=xa(t.s(Fr,e)):(s+='<div class="_nb-header-button">',s+='<div class="_nb-header-button-icon">',s+=t.f("f875",e,a,n,r,yr.object2nodeset(function(){var t={};return t.icon="settings",t.size="m",t}())),s+="</div>",s+="</div>")),za("services",e)&&(ha(t.s(Tr,e))?s+=xa(t.s(Rr,e)):(s+='<div class="_nb-header-button">',s+='<div class="_nb-header-button-icon">',s+=t.f("f875",e,a,n,r,yr.object2nodeset(function(){var t={};return t.icon="services",t.size="m",t}())),s+="</div>",s+="</div>")),za("user",e)&&(s+=ha(t.s(Lr,e))?xa(t.s(Lr,e)):t.f("f902",e,a,n,r,Ca("user",e,[]))),za("auth",e)&&ha(t.s(Rr,e))&&(s+=xa(t.s(Rr,e))),s+="</div>",s+='<div class="_nb-header-main">',s+='<a href="'+wa(Ca("yaHref",e,[]))+'" class="'+"_nb-header-logo"+'"></a>',s+=t.f("f900",e,a,n,r,Ca("arrow",e,[])),s+="</div>",s+="</div>"},Sa.t2711.j=Dr,Sa.t2711.a=0,Sa.t2712=function(t,e,a,n,r){var s="";s+=Ma(r),s+="<span",r.a={},r.s="span",t.f("f874",e,a,n,r,yr.object2nodeset(function(){var t={};return t.name="user",t.size=yr.nodeset2data(Ca("size",e,[])),t}()));var i=r.a["class"];if(r.a["class"]=i?i.addscalar(" _init"):new yr.scalarAttr(" _init"),za("justify",e)){var i=r.a["class"];r.a["class"]=i?i.addscalar(" _nb-user_justify"):new yr.scalarAttr(" _nb-user_justify")}if(s+=t.a(t,0,t.s(Ya,e),"nb-main-attrs",r),za("rightToLeft",e)){var i=r.a["class"];r.a["class"]=i?i.addscalar(" _nb-user_rtl"):new yr.scalarAttr(" _nb-user_rtl")}else{var i=r.a["class"];r.a["class"]=i?i.addscalar(" _nb-user_ltr"):new yr.scalarAttr(" _nb-user_ltr")}return s+=t.a(t,0,t.s(Ya,e),"nb-user-pic",r),s+=t.a(t,0,t.s(Ya,e),"nb-user-name",r),s+=Ma(r),s+="</span>"},Sa.t2712.j=Ir,Sa.t2712.a=0,Sa.t2713=function(t,e,a,n,r){var s="";if(s+=Ma(r),s+="<span",r.a={},r.s="span",t.f("f874",e,a,n,r,yr.object2nodeset(function(){var t={};return t.name="user-avatar",t.size=yr.nodeset2data(Ca("size",e,[])),t}())),za("userpic",e)){var i=r.a.style;r.a.style=i?i.addscalar(" background-image: url('"+xa(Ca("userpic",e,[]))+"')"):new yr.scalarAttr(" background-image: url('"+xa(Ca("userpic",e,[]))+"')")}return s+=Ma(r),ka("notices",e)>0&&(s+='<span class="_nb-user-notice-count">',s+=ma(Ca("notices",e,[])),s+="</span>"),s+="</span>"},Sa.t2713.j=Ir,Sa.t2713.a=0,Sa.t2714=function(t,e,a,n,r){var s="";return s+=Ma(r),s+='<span class="_nb-user-label">',s+='<span class="_nb-user-name _link" title="'+wa(Ca("username",e,[]))+'">',s+=ma(Ca("username",e,[])),s+="</span>",za("email",e)&&(s+='<span class="_nb-user-email" title="'+wa(Ca("email",e,[]))+'">',s+=ma(Ca("email",e,[])),s+="</span>"),s+="</span>"},Sa.t2714.j=Ir,Sa.t2714.a=0,Sa.t2715=function(t,e,a,n,r){var s="";if(s+=Ma(r),s+="<div",r.a={"class":new yr.scalarAttr("nb-suggest _init"),"data-nb":new yr.scalarAttr("suggest")},r.s="div",r.a["data-countMax"]=new yr.scalarAttr(ka("countMax",e)),r.a["data-type"]=new yr.scalarAttr(ka("type",e)),r.a["data-size"]=new yr.scalarAttr(ka("size",e)),r.a["data-source"]=new yr.scalarAttr(ka("source",e)),r.a["data-highlight"]=new yr.scalarAttr(ka("highlight",e)),r.a["data-class-suggest"]=new yr.scalarAttr("nb-island _nb-fly-island _nb-suggest-container _nb-"+xa(Ca("size",e,[]))+"-suggest"),za("class",e)){var i=r.a["data-class-suggest"];r.a["data-class-suggest"]=i?i.addscalar(" "+xa(Ca("classSuggest",e,[]))):new yr.scalarAttr(" "+xa(Ca("classSuggest",e,[])))}if(s+=t.a(t,0,t.s(Ya,e),"nb-main-attrs",r),za("disabled",e)){var i=r.a["class"];r.a["class"]=i?i.addscalar(" _nb-is-disabled"):new yr.scalarAttr(" _nb-is-disabled")}return s+=Ma(r),s+=t.f("f891",e,a,n,r,yr.object2nodeset(function(){var a={};return a.size=yr.nodeset2data(Ca("size",e,[])),a["class"]="_nb-suggest-input",a.attrs=yr.nodeset2data(t.s(Vr,e)),a.tabindex=yr.nodeset2data(Ca("tabindex",e,[])),a.disabled=yr.nodeset2data(Ca("disabled",e,[])),a.name=yr.nodeset2data(Ca("name",e,[])),a.content=yr.nodeset2data(Ca("content",e,[])),a.leftContent=yr.nodeset2data(t.s(Hr,e)),a.rightContent=yr.nodeset2data(t.s(Er,e)),a.labelContent=yr.nodeset2data(t.s(Or,e)),a.reset=yr.nodeset2data(t.s(Yr,e)),a.ghost=yr.nodeset2data(t.s(Nr,e)),a.error=yr.nodeset2data(t.s(Br,e)),a.hint=yr.nodeset2data(t.s(Gr,e)),a}())),s+="</div>"},Sa.t2715.j=qr,Sa.t2715.a=0,Sa.t2716=function(t,e,a,n,r){var s="";return s+=Ma(r),s+="<li",r.a={"class":new yr.scalarAttr("_nb-suggest-item")},r.s="li",s+=t.a(t,0,Ca("item",e,[]),"nb-suggest",r),s+=Ma(r),s+="</li>"},Sa.t2716.j=1,Sa.t2716.a=1,Sa.t2717=function(t,e,a,n,r){var s="";return s+=Ma(r),za("labelContent",e)&&(s+=ka("labelContent",e)),s},Sa.t2717.j=Ur,Sa.t2717.a=1,Sa.t2718=function(t,e,a,n,r){var s="",i={};i.size=yr.nodeset2data(Ca("size",e.doc.root,[])),i.mod="suggest";var o=[];za("username",e)?o+=yr.nodeset2data(Ca("username",e,[])):za("email",e)&&(o+=yr.nodeset2data(Ca("email",e,[]))),i.username=o,i.rightToLeft=!0,za("username",e)&&za("email",e)&&(i.email=yr.nodeset2data(Ca("email",e,[]))),i.justify=!0,za("userpic",e)&&(i.userpic=yr.nodeset2data(Ca("userpic",e,[]))),za("usernameHighlighted",e)&&(i.usernameHighlighted=yr.nodeset2data(Ca("usernameHighlighted",e,[]))),za("emailHighlighted",e)&&(i.emailHighlighted=yr.nodeset2data(Ca("emailHighlighted",e,[])));var c=i;return s+=Ma(r),s+=t.f("f902",e,a,n,r,yr.object2nodeset(c))},Sa.t2718.j=Kr,Sa.t2718.a=1,Sa.t2719=function(t,e,a,n,r){var s="";return s+=Ma(r),s+=xa(t.s(Zr,e))},Sa.t2719.j=Xr,Sa.t2719.a=0,Sa.t2720=function(t,e,a,n,r){var s="";return s+=Ma(r),s+=xa(t.s(Qr,e))},Sa.t2720.j=Wr,Sa.t2720.a=0,Sa.t2721=function(t,e,a,n,r){var s="";s+=Ma(r),s+="<a",r.a={"data-nb":new yr.scalarAttr("toggler")},r.s="a",t.f("f874",e,a,n,r,yr.object2nodeset(function(){var t={};return t.name="toggler",t.size=yr.nodeset2data(Ca("size",e,[])),t}()));var i=r.a["class"];if(r.a["class"]=i?i.addscalar(" _init"):new yr.scalarAttr(" _init"),s+=t.a(t,0,t.s(Ya,e),"nb-main-attrs",r),za("checked",e)){var i=r.a["class"];r.a["class"]=i?i.addscalar(" _nb-is-checked"):new yr.scalarAttr(" _nb-is-checked")}if(za("tabindex",e)&&!za("disabled",e)&&(r.a.tabindex=new yr.scalarAttr(ka("tabindex",e))),za("disabled",e)){var i=r.a["class"];r.a["class"]=i?i.addscalar(" _nb-is-disabled"):new yr.scalarAttr(" _nb-is-disabled")}s+=Ma(r),s+='<label class="_nb-toggler-label">',s+="<input",r.a={type:new yr.scalarAttr("checkbox"),"class":new yr.scalarAttr("_nb-toggler-checkbox")},r.s="input";for(var o=t.s(Ga,e),c=0,l=o.length;l>c;c++){var d=o[c];r.a[d.name]=new yr.scalarAttr(xa(t.s(Ya,d)))}return za("name",e)&&(r.a.name=new yr.scalarAttr(ka("name",e))),za("checked",e)&&(r.a.checked=new yr.scalarAttr("checked")),za("disabled",e)&&(r.a.disabled=new yr.scalarAttr("disabled")),s+=Ma(r),s+="",s+="</label>",s+='<span class="_nb-toggler-container">',s+='<span class="_nb-toggler-sticker _nb-toggler-left-sticker">',s+='<span class="_nb-toggler-text">',s+=ma(Ca("leftText",e,[])),s+="</span>",s+="</span>",s+='<span class="_nb-toggler-sticker _nb-toggler-right-sticker">',s+='<span class="_nb-toggler-text">',s+=ma(Ca("rightText",e,[])),s+="</span>",s+="</span>",s+="</span>",s+='<span class="_nb-toggler-knob"></span>',s+="</a>"},Sa.t2721.j=Jr,Sa.t2721.a=0,Sa.t2722=function(t,e,a,n,r){var s="";return s+=Ma(r),s+="<span",r.a={},r.s="span",s+=t.a(t,0,t.s(Ya,e),"nb-icon-social-attrs",r),s+=t.a(t,0,t.s(Ya,e),"nb-icon-social-content",r),s+=Ma(r),s+="</span>"},Sa.t2722.j=$r,Sa.t2722.a=0,Sa.t2723=function(t,e,a,n,r){var s="";return s+=Ma(r),s+="<a",r.a={},r.s="a",s+=t.a(t,0,t.s(Ya,e),"nb-icon-social-attrs",r),s+=t.a(t,0,t.s(Ya,e),"nb-icon-social-content",r),s+=Ma(r),s+="</a>"},Sa.t2723.j=ts,Sa.t2723.a=0,Sa.t2724=function(t,e,a,n,r){var s="";return s+=Ma(r),s+='<span class="icon-social__inner">',s+=t.f("f875",e,a,n,r,yr.object2nodeset(function(){var t={};return t["class"]="icon-social__"+xa(Ca("icon",e,[])),t}())),s+="</span>",za("content",e)&&(s+=ka("content",e)),s},Sa.t2724.j=$r,Sa.t2724.a=0,Sa.t2725=function(t,e,a,n,r){var s="";s+=t.a(t,0,t.s(Ya,e),"nb-main-attrs",r);var i="";i+=" icon-social icon-social_size_"+xa(Ca("size",e,[])),za("theme",e)&&(i+=" icon-social_theme_"+xa(Ca("theme",e,[]))),za("rounded",e)&&(i+=" icon-social_rounded"),za("content",e)&&(i+=" icon-social_inline");var o=r.a["class"];return r.a["class"]=o?o.addscalar(i):new yr.scalarAttr(i),s},Sa.t2725.j=$r,Sa.t2725.a=0,Sa.t2726=function(t,e,a,n,r){var s="";if(s+=Ma(r),s+="<form",r.a={method:new yr.scalarAttr("POST"),"data-nb":new yr.scalarAttr("form-auth")},r.s="form",za("isMobile",e)){var i=r.a["class"];r.a["class"]=i?i.addscalar(" form-auth_mobile"):new yr.scalarAttr(" form-auth_mobile")}return s+=t.a(t,0,t.s(Ya,e),"nb-main-attrs",r),s+=t.a(t,0,t.s(Ya,e),"nb-form-auth-content",r),s+=Ma(r),s+="</form>"},Sa.t2726.j=es,Sa.t2726.a=0,Sa.t2727=function(t,e,a,n,r){var s="",i="";i+=za("isMobile",e)?"nb-form-auth__input-mobile":"nb-form-auth__input";var o=i;return s+=Ma(r),za("loginReadonly",e)?(s+='<div class="nb-form-auth__input nb-form-auth__input_readonly">',s+=ma(Ca("loginReadonly",e,[])),s+="</div>",s+='<input type="hidden" name="login" value="'+wa(Ca("loginReadonly",e,[]))+'"/>'):s+=t.f("f891",e,a,n,r,yr.object2nodeset(function(){var a={};if(a.size="m",a["class"]=o,ha(t.s(as,e)))a.error=yr.nodeset2data(t.s(as,e));else if(!za("isMobile",e)){var n={};n.content=!0,a.error=n}var n={};return n.placeholder="Логин",n.name="login",n.value=yr.nodeset2data(t.s(ns,e)),a.attrs=n,a}())),s+=t.f("f891",e,a,n,r,yr.object2nodeset(function(){var a={};if(a.size="m",a["class"]=o,ha(t.s(rs,e)))a.error=yr.nodeset2data(t.s(rs,e));else if(!za("isMobile",e)){var n={};n.content=!0,a.error=n}return a.attrs=yr.nodeset2data(yr.externals["nb-extend"](yr.object2nodeset(function(){var a={};return a.placeholder="Пароль",a.name="password",a.type="password",a.value=yr.nodeset2data(t.s(ss,e)),a}()))),a}())),za("isMobile",e)||(s+='<div class="nb-form-auth__line">',s+='<a href="'+wa(Ca("restore",e,[]))+'" class="'+"_link nb-form-auth__remind"+'">',s+="Напомнить пароль",s+="</a>",s+=t.f("f890",e,a,n,r,yr.object2nodeset(function(){var t={};return t.content="Чужой компьютер",t.size="s",t.name="other-computer",t}())),s+="</div>"),s+='<div class="nb-form-auth__line nb-form-auth__line_submit">',s+='<div class="nb-input-group">',s+=t.f("f876",e,a,n,r,yr.object2nodeset(function(){var t={};t.content="Войти",t.size="m",t.theme="action",t["class"]="nb-form-auth__submit";var e={};return e.type="submit",t.attrs=e,t}())),s+=t.f("f876",e,a,n,r,yr.object2nodeset(function(){var t={};t.size="m",t.theme="action",t.type="link",t["class"]="js-qrcode";var a={};return a.href=yr.nodeset2data(Ca("qrcode",e,[])),t.attrs=a,t.icon="qrcode",t}())),s+="</div>",s+=t.a(t,0,t.s(is,e),"nb-form-auth-social-buttons",r),s+="</div>",za("register",e)&&(s+='<div class="nb-form-auth__line nb-form-auth__line_register">',s+=t.f("f876",e,a,n,r,yr.object2nodeset(function(){var t={};t.type="link",t.theme="pseudo",t.content="Зарегистрироваться",t.size="s",t["class"]="nb-form-auth__sign-in js-register";var a={};return a.href=yr.nodeset2data(Ca("register",e,[])),t.attrs=a,t}())),s+="</div>"),s},Sa.t2727.j=es,Sa.t2727.a=0,Sa.t2728=function(t,e,a,n,r){var s="";s+=Ma(r),s+='<div class="nb-form-auth__social">';for(var i=t.s(os,e),o=0,c=i.length;c>o;o++){var l=i[o],d=t.s(Ya,l);s+=t.f("f905",l,o,c,r,yr.object2nodeset(function(){var t={};t.icon=yr.nodeset2data(d),t.size="l",t.theme="gray",t["class"]="nb-form-auth__icon-social js-link-social",t.rounded=!0;var e={};return e["data-service"]=yr.nodeset2data(d),t.attrs=e,t}()))}if(t.s(cs,e).length){var u="popup-face-social-"+yr.externals["nb-uniq"]();s+="<div",r.a={"class":new yr.scalarAttr("nb-form-auth__toggler-popup-social")},r.s="div",r.a["data-nb"]=new yr.scalarAttr("popup-toggler"),r.a["data-nb-popup-toggler"]=new yr.scalarAttr(yr.externals.json(yr.object2nodeset(function(){var t={};return t.id=u,t.how="fixed",t}()))),s+=Ma(r),s+=t.f("f875",e,a,n,r,yr.object2nodeset(function(){var t={};return t.icon="three-dots",t["class"]="nb-form-auth__icon-more nb-icon_social",t}())),s+=t.f("f881",e,a,n,r,yr.object2nodeset(function(){var a={};a.id=u,a.withoutTail=!0,a["class"]="nb-popup_form-auth";var n="",r={a:{}};return n+=t.a(t,0,t.s(Ya,e),"nb-form-auth-popup-social",r),a.content=n,a}())),s+="</div>"}return s+="</div>"},Sa.t2728.j=es,Sa.t2728.a=0,Sa.t2729=function(t,e,a,n,r){var s="";s+=Ma(r);for(var i=t.s(cs,e),o=0,c=i.length;c>o;o++){var l=i[o],d=t.s(Ya,l);s+="<div",r.a={"class":new yr.scalarAttr("nb-form-auth__popup-line js-link-social")},r.s="div",r.a["data-service"]=new yr.scalarAttr(xa(d)),s+=Ma(r),s+=t.f("f905",l,o,c,r,yr.object2nodeset(function(){var t={};return t.icon=yr.nodeset2data(d),t.size="xs",t.content=yr.externals.getTitleSocial(xa(d)),t}())),s+="</div>"}return s},Sa.t2729.j=es,Sa.t2729.a=0,Sa.t2730=function(t,e,a,n,r){var s="";if(s+=Ma(r),s+="<div",r.a={"class":new yr.scalarAttr("nb-checkbox-resource js-resource-checkbox")},r.s="div",s+=t.a(t,0,t.s(Ya,e),"nb-main-attrs",r),za("theme",e)){var i=r.a["class"];r.a["class"]=i?i.addscalar(" nb-checkbox-resource_theme_"+xa(Ca("theme",e,[]))):new yr.scalarAttr(" nb-checkbox-resource_theme_"+xa(Ca("theme",e,[])))}if(za("selected",e)){var i=r.a["class"];r.a["class"]=i?i.addscalar(" nb-checkbox-resource_selected"):new yr.scalarAttr(" nb-checkbox-resource_selected")}return s+=Ma(r),s+=t.f("f890",e,a,n,r,yr.object2nodeset(function(){var t={};t["class"]="nb-checkbox-resource__checkbox",za("checked",e)&&(t.checked=!0);var a={};return a.tabindex="-1",t.attrs=a,t}())),s+="</div>"},Sa.t2730.j=ls,Sa.t2730.a=0,Sa.t2731=function(t,e,a,n,r){var s="";return s+=Ma(r),s+="<div",r.a={"class":new yr.scalarAttr("icon-start-play icon-start-play_"+xa(Ca("size",e,[])))},r.s="div",s+=t.a(t,0,t.s(Ya,e),"nb-main-attrs",r),s+=Ma(r),s+=t.f("f875",e,a,n,r,yr.object2nodeset(function(){var t={};return t.icon="start-play",t.size=yr.nodeset2data(Ca("size",e,[])),t["class"]="nb-icon_start-play nb-icon_size_"+xa(Ca("size",e,[]))+" icon-start-play__icon",t}())),s+="</div>"},Sa.t2731.j=ds,Sa.t2731.a=0,Sa.t2732=function(t,e,a,n,r){var s="";if(s+=Ma(r),s+="<div",r.a={"class":new yr.scalarAttr("nb-icon-resource _init nb-icon-resource_size-"+xa(Ca("size",e,[])))},r.s="div",za("clickable",e)){var i=r.a["class"];r.a["class"]=i?i.addscalar(" nb-icon-resource_clickable"):new yr.scalarAttr(" nb-icon-resource_clickable")}if(_a("cover",Ca("image-sizing",e,[]))){var i=r.a["class"];r.a["class"]=i?i.addscalar(" nb-icon-resource_cover"):new yr.scalarAttr(" nb-icon-resource_cover")}if(za("preview",e)&&za("static",e)){var i=r.a["class"];r.a["class"]=i?i.addscalar(" nb-icon-resource_loaded-preview"):new yr.scalarAttr(" nb-icon-resource_loaded-preview")}return r.a["data-nb"]=new yr.scalarAttr("icon-resource"),r.a["data-params"]=new yr.scalarAttr(yr.externals.json(t.s(Ya,e))),s+=t.a(t,0,t.s(Ya,e),"nb-main-attrs",r),s+=Ma(r),s+="<div",r.a={"class":new yr.scalarAttr("nb-icon-resource__wrap")},r.s="div",_a("video-stub",Ca("preview",e,[]))?s+=t.a(t,0,t.s(Ya,e),"nb-icon-resource-video-stub",r):(s+=t.a(t,0,t.s(Ya,e),"nb-icon-resource-icon",r),t.f("f912",e,a,n)&&(s+=t.a(t,0,t.s(Ya,e),"nb-icon-resource-preview",r))),s+=Ma(r),s+="</div>",s+="</div>"},Sa.t2732.j=us,Sa.t2732.a=0,Sa.t2733=function(t,e,a,n,r){var s="";if(s+=Ma(r),s+="<div",r.a={"class":new yr.scalarAttr("nb-icon-resource__image nb-icon-resource__image_preview")},r.s="div",_a("document",Ca("type",e,[]))){var i=r.a["class"];r.a["class"]=i?i.addscalar(" nb-icon-resource__image_document"):new yr.scalarAttr(" nb-icon-resource__image_document")}if(_a("dark",Ca("theme",e,[]))){var i=r.a["class"];r.a["class"]=i?i.addscalar(" nb-icon-resource__image_no-outline"):new yr.scalarAttr(" nb-icon-resource__image_no-outline")}if(za("icon-video",e)){var i=r.a["class"];r.a["class"]=i?i.addscalar(" nb-icon-resource__image_video"):new yr.scalarAttr(" nb-icon-resource__image_video"),s+=Ma(r),s+=t.f("f910",e,a,n,r,yr.object2nodeset(function(){var t={};return t["class"]="nb-icon-resource__icon-start-play",t.size=yr.nodeset2data(Ca("size-icon-video",e,[])),t}()))}return s+=Ma(r),za("checkbox",e)&&(s+=t.f("f908",e,a,n,r,yr.object2nodeset(function(){var t={};return t.selected=yr.nodeset2data(Ca("selected",e,[])),t}()))),s+=t.f("f909",e,a,n,r,function(){var t={};return t["class"]="nb-icon-resource__public",t.published=yr.nodeset2data(Ca("published",e,[])),t}()),s+=t.a(t,0,t.s(Ya,e),"nb-icon-resource-image",r),s+="</div>"},Sa.t2733.j=us,Sa.t2733.a=0,Sa.t2734=function(t,e,a,n,r){var s="";return s+=Ma(r),s+="<img",r.a={},r.s="img",r.a["class"]=new yr.scalarAttr("nb-icon-resource__img nb-icon-resource__img_size-"+xa(Ca("size",e,[]))+" js-icon-preview"),r.a["data-src"]=new yr.scalarAttr(ka("preview",e)),r.a.src=new yr.scalarAttr("//yastatic.net/lego/_/La6qi18Z8LwgnZdsAr1qy1GwCwo.gif"),s+=Ma(r),s+=""},Sa.t2734.j=us,Sa.t2734.a=0,Sa.t2735=function(t,e,a,n,r){var s="";return s+=Ma(r),s+='<div class="nb-icon-resource__img js-cover-preview">',s+="<img",r.a={"class":new yr.scalarAttr("nb-icon-resource__img-fake js-icon-preview")},r.s="img",r.a["data-src"]=new yr.scalarAttr(ka("preview",e)),r.a.src=new yr.scalarAttr("//yastatic.net/lego/_/La6qi18Z8LwgnZdsAr1qy1GwCwo.gif"),s+=Ma(r),s+="",s+="</div>"},Sa.t2735.j=fs,Sa.t2735.a=0,Sa.t2736=function(t,e,a,n,r){var s="";return s+=Ma(r),s+="<img",r.a={},r.s="img",r.a["class"]=new yr.scalarAttr("nb-icon-resource__img nb-icon-resource__img_size-"+xa(Ca("size",e,[]))),r.a.src=new yr.scalarAttr(ka("preview",e)),s+=Ma(r),s+=""},Sa.t2736.j=ys,Sa.t2736.a=0,Sa.t2737=function(t,e,a,n,r){var s="";return s+=Ma(r),s+='<div class="nb-icon-resource__video-stub">',za("icon-video",e)&&(s+=t.f("f910",e,a,n,r,yr.object2nodeset(function(){var t={};return t["class"]="nb-icon-resource__icon-start-play",t.size=yr.nodeset2data(Ca("size-icon-video",e,[])),t}()))),za("checkbox",e)&&(s+=t.f("f908",e,a,n,r,yr.object2nodeset(function(){var t={};return t.selected=yr.nodeset2data(Ca("selected",e,[])),t}()))),s+=t.f("f909",e,a,n,r,function(){var t={};return t["class"]="nb-icon-resource__public",t.published=yr.nodeset2data(Ca("published",e,[])),t}()),s+="</div>"},Sa.t2737.j=us,Sa.t2737.a=0,Sa.t2738=function(t,e,a,n,r){var s="";if(s+=Ma(r),s+="<div",r.a={"class":new yr.scalarAttr("nb-icon-resource__image nb-icon-resource__image_icon nb-icon-resource__image_icon-"+xa(Ca("icon",e,[])))},r.s="div",_a("xs",Ca("size",e,[]))||_a("xxs",Ca("size",e,[]))){var i=r.a["class"];r.a["class"]=i?i.addscalar(" nb-icon-resource__image_icon-"+xa(Ca("icon",e,[]))+"_small"):new yr.scalarAttr(" nb-icon-resource__image_icon-"+xa(Ca("icon",e,[]))+"_small")}if(!_a("dir",Ca("type",e,[]))){var i=r.a["class"];r.a["class"]=i?i.addscalar(" nb-icon-resource__image_file"):new yr.scalarAttr(" nb-icon-resource__image_file")}if(_a("trash",Ca("icon",e,[]))&&za("full",e)){var i=r.a["class"];r.a["class"]=i?i.addscalar(" nb-icon-resource__image_icon-trash-full"):new yr.scalarAttr(" nb-icon-resource__image_icon-trash-full")}return s+=Ma(r),za("checkbox",e)&&(s+=t.f("f908",e,a,n,r,yr.object2nodeset(function(){var t={};return t.selected=yr.nodeset2data(Ca("selected",e,[])),t}()))),t.f("f912",e,a,n)||(s+=t.f("f909",e,a,n,r,function(){var t={};return t["class"]="nb-icon-resource__public",t.published=yr.nodeset2data(Ca("published",e,[])),t}())),s+="</div>"},Sa.t2738.j=vs,Sa.t2738.a=0,Sa.t2739=function(t,e,a,n,r){var s="";return s+=Ma(r),s+="<div",r.a={"class":new yr.scalarAttr("player-video-flash _init"),"data-nb":new yr.scalarAttr("player-video-flash")},r.s="div",s+=t.a(t,0,t.s(Ya,e),"nb-main-attrs",r),s+=Ma(r),s+='<div class="player-video-flash__viewport" id="'+ga(yr.externals["nb-uniq"]())+'"></div>',s+="</div>"},Sa.t2739.j=bs,Sa.t2739.a=0,Sa.t2740=function(t,e,a,n,r){var s="";if(s+=Ma(r),s+="<div",r.a={"class":new yr.scalarAttr("nb-loader-thin nb-loader-thin_"+xa(Ca("size",e,[]))+" "),"data-nb":new yr.scalarAttr("loader-thin")},r.s="div",s+=t.a(t,0,t.s(Ya,e),"nb-main-attrs",r),za("centered",e)){var i=r.a["class"];r.a["class"]=i?i.addscalar(" nb-loader-thin_centered"):new yr.scalarAttr(" nb-loader-thin_centered")}return s+=Ma(r),s+='<div class="nb-loader-thin__spinner">',s+='<div class="nb-loader-thin__circle"></div>',s+="</div>",za("content",e)&&(s+='<span class="nb-loader-thin__text js-text">',s+=ka("content",e),s+="</span>"),s+="</div>"},Sa.t2740.j=ps,Sa.t2740.a=0,Sa.t2741=function(t,e,a,n,r){var s="",i=xa(t.s(ms,e))/xa(t.s(hs,e)),o="";.75==i?o+="3:4":i==16/9&&(o+="16:9");var c=o;if(s+=Ma(r),s+="<div",r.a={"class":new yr.scalarAttr("player-video-html player-video-html_paused _init"),"data-nb":new yr.scalarAttr("player-video-html")},r.s="div",s+=t.a(t,0,t.s(Ya,e),"nb-main-attrs",r),s+=Ma(r),s+="<div",r.a={"class":new yr.scalarAttr("player-video-html__viewport js-video-viewport ")},r.s="div",za("preview",e)){var l=r.a.style;r.a.style=l?l.addscalar("background-image:url('"+xa(Ca("preview",e,[]))+"')"):new yr.scalarAttr("background-image:url('"+xa(Ca("preview",e,[]))+"')")}return s+=Ma(r),s+='<div class="player-video-html__cover js-toggle"></div>',s+='<div class="player-video-html__info">',s+='<div class="player-video-html__title">',s+=ja(yr.externals.stringCrop(ka("title",e),80)),s+="</div>",s+="</div>",s+=t.f("f910",e,a,n,r,yr.object2nodeset(function(){var t={};return t["class"]="player-video-html__start js-start",t.size="l",t}())),za("isIOS",e)||(s+=t.f("f916",e,a,n,r,function(){var t={};return t.resolution=c,t}())),s+='<video class="player-video-html__video js-video-el" preload="auto" id="video-'+ga(yr.externals["nb-uniq"]())+'" data-resolution="'+ga(c)+'"></video>',s+="</div>",s+="</div>"},Sa.t2741.j=_s,Sa.t2741.a=0,Sa.t2742=function(t,e,a,n,r){var s="";return s+=Ma(r),s+="<div",r.a={"class":new yr.scalarAttr("player-video-yandex _init"),"data-nb":new yr.scalarAttr("player-video-yandex")},r.s="div",s+=t.a(t,0,t.s(Ya,e),"nb-main-attrs",r),s+=Ma(r),s+='<div class="player-video-yandex__viewport" id="'+ga(yr.externals["nb-uniq"]())+'"></div>',s+="</div>"},Sa.t2742.j=ws,Sa.t2742.a=0,Sa.t2743=function(t,e,a,n,r){var s="";return s+=Ma(r),s+=t.f("f881",e,a,n,r,yr.object2nodeset(function(){var a={},n="",r={a:{}};if(n+=t.a(t,0,t.s(Ya,e),"popup-account__content",r),a.content=n,a.id=yr.nodeset2data(Ca("idPopup",e,[])),a.withoutTail=!0,za("fixed",e)){var n={},r={a:{}};n.how="fixed",a["data-nb"]=n}return a}()))},Sa.t2743.j=xs,Sa.t2743.a=0,Sa.t2744=function(t,e,a,n,r){var s="";return s+=Ma(r),s+="<div",r.a={"class":new yr.scalarAttr("popup-account _init")},r.s="div",s+=t.a(t,0,t.s(Ya,e),"nb-main-attrs",r),r.a["data-nb"]=new yr.scalarAttr("popup-account"),r.a["data-nb-popup-account"]=new yr.scalarAttr(yr.externals.json(yr.object2nodeset(function(){var t={};
return t.idPopup=yr.nodeset2data(Ca("idPopup",e,[])),t}()))),s+=Ma(r),s+="<div",r.a={"class":new yr.scalarAttr("popup-account__accounts")},r.s="div",s+=t.a(t,0,t.s(Ya,e),"popup-account__accounts",r),s+=Ma(r),s+="</div>",s+='<div class="popup-account__menu">',s+='<a class="popup-account__link" href="'+wa(t.s(gs,e))+'">',s+="Паспорт",s+="</a>",s+="<a",r.a={"class":new yr.scalarAttr("popup-account__link")},r.s="a",r.a.href=new yr.scalarAttr(xa(t.s(js,e))),r.a["data-metrika-click"]=new yr.scalarAttr("countLeave"),r.a["data-metrika-params"]=new yr.scalarAttr("interface elements,login popup,click,logout"),s+=Ma(r),s+="Выход",s+="</a>",s+="</div>",s+="</div>"},Sa.t2744.j=xs,Sa.t2744.a=0,Sa.t2745=function(t,e,a,n,r){var s="",i=r.a["class"];return r.a["class"]=i?i.addscalar(" js-promo"):new yr.scalarAttr(" js-promo"),s+=Ma(r),s+="<div",r.a={"class":new yr.scalarAttr("popup-account__close js-close-promo")},r.s="div",r.a["data-metrika-click"]=new yr.scalarAttr("count"),r.a["data-metrika-params"]=new yr.scalarAttr("interface elements,login popup,click,close promo"),s+=Ma(r),s+="</div>",s+='<div class="popup-account__desc">',s+="Работайте с несколькими Дисками одновременно",s+="</div>",s+=t.f("f876",e,a,n,r,yr.object2nodeset(function(){var a={};a.theme="action",a.content="Добавить",a.size="s",a["class"]="popup-account__button",a.type="link";var n={};return n.href=yr.nodeset2data(t.s(As,e)),n["data-metrika-click"]="countLeave",n["data-metrika-params"]="interface elements,login popup,click,add account promo",a.attrs=n,a}()))},Sa.t2745.j=xs,Sa.t2745.a=0,Sa.t2746=function(t,e,a,n,r){var s="";s+=Ma(r),s+='<div class="popup-account__users">';for(var i=Ca("accountsExtra",e,[]),o=0,c=i.length;c>o;o++){var l=i[o];s+="<div",r.a={"class":new yr.scalarAttr("popup-account__user js-switch-account")},r.s="div",r.a["data-uid"]=new yr.scalarAttr(ka("uid",l)),s+=Ma(r),s+=t.f("f902",l,o,c,r,yr.object2nodeset(function(){var t={};return t.size="s",t.username=yr.nodeset2data(Ca("name",l,[])),t.userpic=yr.nodeset2data(Ca("avatar",l,[])),t.justify=!0,t}())),s+="</div>"}return s+="</div>",s+="<a",r.a={"class":new yr.scalarAttr("popup-account__add-user")},r.s="a",r.a.href=new yr.scalarAttr(xa(t.s(As,e))),r.a["data-metrika-click"]=new yr.scalarAttr("countLeave"),r.a["data-metrika-params"]=new yr.scalarAttr("interface elements,login popup,click,add account"),s+=Ma(r),s+='<div class="popup-account__icon-add"></div>',s+="Добавить пользователя",s+="</a>"},Sa.t2746.j=ks,Sa.t2746.a=0,Sa.t2747=function(t,e,a,n,r){var s="";if(s+=Ma(r),s+="<div",r.a={"class":new yr.scalarAttr("logo-yandex")},r.s="div",za("theme",e)){var i=r.a["class"];r.a["class"]=i?i.addscalar(" logo-yandex_"+xa(Ca("theme",e,[]))):new yr.scalarAttr(" logo-yandex_"+xa(Ca("theme",e,[])))}if(za("hostPDD",e)){var i=r.a["class"];r.a["class"]=i?i.addscalar(" logo-yandex_pdd"):new yr.scalarAttr(" logo-yandex_pdd")}else if(za("size",e)){var i=r.a["class"];r.a["class"]=i?i.addscalar(" logo-yandex_"+xa(Ca("size",e,[]))):new yr.scalarAttr(" logo-yandex_"+xa(Ca("size",e,[])))}return s+=t.a(t,0,t.s(Ya,e),"nb-main-attrs",r),s+=Ma(r),s+=t.f("f921",e,a,n,r,ka("lang",e)),s+=t.a(t,0,Ca("hostPDD",e,[]),"logo-yandex",r),s+="</div>"},Sa.t2747.j=zs,Sa.t2747.a=0,Sa.t2748=function(t,e,a,n,r){var s="";return s+=Ma(r),s+='<div class="logo-yandex__host">',s+=ma(t.s(Ya,e)),s+="</div>"},Sa.t2748.j=Cs,Sa.t2748.a=0,Sa.t2749=function(t,e,a,n,r){var s="";return s+=Ma(r),s+=t.f("f882",e,a,n,r,yr.object2nodeset(function(){var r={};r["static"]=!0,r.theme="default";var s="",i={a:{}};s+=za("extend",e)?"popup-auth-extended":"popup-auth",r["class"]=s;var s="",i={a:{}};return s+=Ma(i),za("extend",e)?(s+=t.f("f926",e,a,n,i),s+='<div class="popup-auth-extended__auth">',s+=t.f("f923",e,a,n,i),s+=za("action-button",e)?t.f("f925",e,a,n,i):t.f("f924",e,a,n,i),s+="</div>"):(s+='<div class="popup-auth__roof"></div>',s+='<div class="popup-auth__content">',s+=t.f("f923",e,a,n,i),s+=t.f("f924",e,a,n,i),s+="</div>"),r.content=s,r.close=yr.nodeset2data(Ca("close",e,[])),r}()))},Sa.t2749.j=Ms,Sa.t2749.a=0,Sa.t2750=function(t,e,a,n,r){var s="";return s+=Ma(r),s+=t.f("f928",e,a,n,r,function(){var t={};return t.close=!1,t}())},Sa.t2750.j=Ss,Sa.t2750.a=0,Sa.t2751=function(t,e,a,n,r){var s="",i=t.k("k26","config",e.doc.root);return s+=Ma(r),s+=t.f("f928",e,a,n,r,function(){var r={};r.register=!1;var s={},o="",c={a:{}};o+=Ma(c),o+="Вы уверены, что хотите завести новый логин?",s.title=o;var o="",c={a:{}};return o+=Ma(c),o+='<div class="dialog-auth-register__desc">',o+="Войдите в Диск, используя логин и пароль любого сервиса Яндекса.",o+='<svg xmlns="http://www.w3.org/2000/svg" width="120" height="70" class="dialog-auth-register__arrow">',o+='<path stroke="red" fill="none" id="bezier-path" stroke-width="1.2" d="M0,70 C45,70 30,23 68,23 "></path>',o+='<polygon points="61,28 64,23 61,18 71,23" fill="red"></polygon>',o+="</svg>",o+="</div>",o+=t.f("f876",e,a,n,c,yr.object2nodeset(function(){var e={};e.type="link",e.content="Да, завести новый логин",e.size="m",e["class"]="dialog-auth-register__button";var a={};return a.href=yr.nodeset2data(t.n(Sn,i)),a["data-metrika-click"]="countLeave",a["data-metrika-params"]="l-cookie popup,register",e.attrs=a,e}())),s.description=o,r.extend=s,r}())},Sa.t2751.j=Ps,Sa.t2751.a=0,Sa.t2752=function(t,e,a,n,r){var s="";t.k("k26","config",e.doc.root);var i=t.k("k26","resource",e.doc.root),o=t.k("k26","userCurrent",e.doc.root),c=t.k("k26","stateDialogAuth",e.doc.root);return s+=Ma(r),s+=t.f("f928",e,a,n,r,function(){var r={},s={},l="",d={a:{}};l+=Ma(d),l+=t.f("f911",e,a,n,d,yr.object2nodeset(function(){var e={};return e.size="xl",e.icon=yr.nodeset2data(t.n(Ha,i)),e["class"]="dialog-auth-edit__icon-doc",e}())),s.previewContent=l;var l="",d={a:{}};l+=Ma(d),l+="Редактировать в Яндекс.Диске",s.title=l;var l="",d={a:{}};if(l+=Ma(d),l+="Файл «"+yr.externals.entityify(xa(t.n(Ta,i)))+"» сохранится после авторизации или регистрации на Яндексе.",s.description=l,r.extend=s,ha(t.n(gn,o))){var s={};s["class"]="js-edit",s.login=yr.nodeset2data(t.n(cn,o)),s.content="Редактировать",s.link=yr.nodeset2data(t.n(jn,c)),r["action-button"]=s,r.close=!1}return r}())},Sa.t2752.j=Ds,Sa.t2752.a=0,Sa.t2753=function(t,e,a,n,r){var s="",i=t.k("k26","config",e.doc.root),o=t.k("k26","inviteCurrent",e.doc.root);return s+=Ma(r),s+=t.f("f928",e,a,n,r,function(){var e={},a={},n="",r={a:{}};n+=Ma(r),n+='<div class="dialog-auth-invite__userpic" style="background-image: url(\''+wa(t.n(Ts,i))+wa(t.n(cn,o))+"/islands-retina-50')"+'"></div>',a.previewContent=n;var n="",r={a:{}};n+=Ma(r),n+='<span class="b-text_bold dialog-auth-invite__username">'+yr.externals.entityify(xa(t.n(cn,o)))+"</span>"+" приглашает вас в&nbsp;Диск",a.title=n;var n="",r={a:{}};return n+=Ma(r),n+='Если вы заведете себе Яндекс.Диск по этому приглашению, то получите <span class="b-text_bold"> 1 ГБ </span> дополнительного места в подарок.',a.description=n,e.extend=a,e}())},Sa.t2753.j=Fs,Sa.t2753.a=0,Sa.t2754=function(t,e,a,n,r){var s="";t.k("k26","config",e.doc.root);var i=t.k("k26","inviteCurrent",e.doc.root);return s+=Ma(r),s+=t.f("f928",e,a,n,r,function(){var r={},s={},o="",c={a:{}};o+=Ma(c),o+=t.f("f911",e,a,n,c,yr.object2nodeset(function(){var t={};return t.size="xl",t.icon="shared",t["class"]="dialog-auth-folder__icon-dir",t}())),s.previewContent=o;var o="",c={a:{}};o+=Ma(c),o+='Приглашение в папку <span class="b-text_bold">«'+yr.externals.entityify(xa(t.n(Is,i)))+"»"+"</span>",s.title=o;var o="",c={a:{}};return o+=Ma(c),_a(660,t.n(Ls,i))?o+=yr.externals.entityify(xa(t.n(qs,i)))+" предлагает вам полный доступ к общей папке «"+yr.externals.entityify(xa(t.n(Is,i)))+"» на Яндекс.Диске.":_a(640,t.n(Ls,i))&&(o+=yr.externals.entityify(xa(t.n(qs,i)))+" предлагает вам доступ на просмотр общей папки «"+yr.externals.entityify(xa(t.n(Is,i)))+"» в Яндекс.Диске."),s.description=o,r.extend=s,r}())},Sa.t2754.j=Rs,Sa.t2754.a=0,Sa.t2755=function(t,e,a,n,r){var s="",i=t.k("k26","resource",e.doc.root),o=t.f("f927",e,a,n);return s+=Ma(r),s+=t.f("f928",e,a,n,r,function(){var r={},s={},c="",l={a:{}};c+=Ma(l),c+=t.f("f911",e,a,n,l,yr.object2nodeset(function(){var e={};e.size="xl",e.icon=yr.nodeset2data(t.n(Ha,i));var a="",n={a:{}};_a("file",t.n(La,i))&&!ha(t.n(Hs,i))?a+="dialog-auth-copy__icon-file":_a("dir",t.n(La,i))&&(a+="dialog-auth-copy__icon-dir"),e["class"]=a;var a="",n={a:{}};return a+=t.a(t,0,i,"dialog-auth-copy__params-type",n),e.type=a,ha(t.n(Hs,i))&&(e.preview=xa(t.n(Es,i))+"&size=145x145&crop=1",e["static"]=!0),e}())),s.previewContent=c,s.title="Сохранить себе на Яндекс.Диск";var c="",l={a:{}};return c+=Ma(l),c+=_a("file",t.n(La,i))?"Файл «"+yr.externals.entityify(xa(t.n(Ta,i)))+"» сохранится после авторизации или регистрации на Яндексе.":"Папка «"+yr.externals.entityify(xa(t.n(Ta,i)))+"» сохранится после авторизации или регистрации на Яндексе.",s.description=c,r.extend=s,ha(t.n(Va,yr.object2nodeset(o)))&&(r["action-button"]=o,r.close=!1),r}())},Sa.t2755.j=Vs,Sa.t2755.a=0,Sa.t2756=function(t,e,a,n,r){var s="";t.k("k26","config",e.doc.root);var i=t.k("k26","album",e.doc.root),o=t.f("f927",e,a,n);return s+=Ma(r),s+=t.f("f928",e,a,n,r,function(){var e={},a={},n="",r={a:{}};n+=Ma(r),n+="<div",r.a={"class":new yr.scalarAttr("dialog-auth-copy-album__preview")},r.s="div",r.a.style=new yr.scalarAttr("background-image: url('"+xa(t.n(Ys,i))+"&size=370x145&crop=1');"),n+=Ma(r),n+="</div>",a.previewContent=n;var n="",r={a:{}};n+=Ma(r),n+="Сохранить себе на Яндекс.Диск",a.title=n;var n="",r={a:{}};return n+=Ma(r),n+="Папка «"+yr.externals.entityify(xa(t.n(wr,i)))+"» сохранится после авторизации или регистрации на Яндексе.",a.description=n,e.extend=a,ha(t.n(Va,yr.object2nodeset(o)))&&(e["action-button"]=o,e.close=!1),e}())},Sa.t2756.j=Os,Sa.t2756.a=0,Sa.t2757=function(t,e,a,n,r){var s="",i=t.k("k26","resource",e.doc.root),o=t.f("f927",e,a,n);return s+=Ma(r),s+=t.f("f928",e,a,n,r,function(){var e={},a={},n="",r={a:{}};n+=Ma(r),n+="<div",r.a={"class":new yr.scalarAttr("dialog-auth-copy-album__preview")},r.s="div",r.a.style=new yr.scalarAttr("background-image: url('"+xa(t.n(Es,i))+"&size=370x145&crop=1');"),n+=Ma(r),n+="</div>",a.previewContent=n;var n="",r={a:{}};n+=Ma(r),n+="Сохранить себе на Яндекс.Диск",a.title=n;var n="",r={a:{}};return n+=Ma(r),n+="Файл «"+yr.externals.entityify(xa(t.n(Ta,i)))+"» сохранится после авторизации или регистрации на Яндексе.",a.description=n,e.extend=a,ha(t.n(Va,yr.object2nodeset(o)))&&(e["action-button"]=o,e.close=!1),e}())},Sa.t2757.j=Ns,Sa.t2757.a=0,Sa.t2758=function(t,e,a,n,r){var s="";return s+=Ma(r),s+="image"},Sa.t2758.j=Gs,Sa.t2758.a=0,Sa.t2759=function(t,e,a,n,r){var s="";return s+=Ma(r),s+="video"},Sa.t2759.j=Us,Sa.t2759.a=0,Sa.t2760=function(t,e,a,n,r){var s="";return s+=Ma(r),s+="document"},Sa.t2760.j=Ks,Sa.t2760.a=0,Sa.t2761=function(t,e,a,n,r){var s="";return s+=Ma(r),s+="dir"},Sa.t2761.j=Xs,Sa.t2761.a=0,Sa.t2762=function(t,e,a,n,r){var s="";s+=Ma(r),s+="<iframe",r.a={scrolling:new yr.scalarAttr("no")},r.s="iframe",r.a["class"]=new yr.scalarAttr("yandex-direct yandex-direct_"+xa(Ca("view",e,[])));var i="";return i+="/direct.html?type="+xa(Ca("type",e,[])),za("cvText",e)&&(i+="&cv_text="+xa(Ca("cvText",e,[]))),i+="&nonce="+xa(Ca("nonce",e,[])),r.a.src=new yr.scalarAttr(i),s+=Ma(r),s+="</iframe>"},Sa.t2762.j=Zs,Sa.t2762.a=0,Sa.t2763=function(t,e,a,n,r){var s="";return s+=Ma(r),s+=" direct-aside-public"},Sa.t2763.s=[Ws,Qs],Sa.t2763.a=[0,0],Sa.t2764=function(t,e,a,n,r){var s="",i=t.n(Js,t.k("k26","config",e.doc.root));if(s+=Ma(r),_a("ru",i)||_a("ua",i)){var o="",c={a:{}};o+=t.a(t,0,t.s(Ya,e),"direct-aside-public__type",c);var l=o;s+=t.f("f930",e,a,n,r,yr.object2nodeset(function(){var a={};return a.view="rtb",a.type=l,"rtb-cv-tags_1_text_1"==Aa(l)&&(a.cvText=yr.nodeset2data(t.n($s,t.k("k26","cvInfo",e.doc.root)))),a.nonce=yr.nodeset2data(t.n(ti,t.k("k26","environment",e.doc.root))),a}()))}return s},Sa.t2764.s=[Ws,Qs],Sa.t2764.a=[0,0],Sa.t2765=function(t,e,a,n,r){var s="";return s+=Ma(r),s+="rtb"},Sa.t2765.j=Ws,Sa.t2765.a=0,Sa.t2766=function(t,e,a,n,r){var s="";return s+=Ma(r),s+=ja(yr.externals.getExperimentalDirectBlockId(function(){var a={};return a.type="rtb",a.cvText=yr.nodeset2data(t.n($s,t.k("k26","cvInfo",e.doc.root))),a.experiment=yr.nodeset2data(t.n(ei,t.k("k26","environment",e.doc.root))),a}()))},Sa.t2766.j=Qs,Sa.t2766.a=0,Sa.t2767=function(t,e,a,n,r){var s="",i=t.n(vn,t.k("k26","config",e.doc.root));return s+=Ma(r),(_a("ru",i)||_a("ua",i))&&(s+=ha(t.n(ri,t.k("k26","environment",e.doc.root)))?" direct-content-public-mobile":" direct-content-public"),s},Sa.t2767.s=[ai,ni],Sa.t2767.a=[0,0],Sa.t2768=function(t,e,a,n,r){var s="",i=t.n(Js,t.k("k26","config",e.doc.root)),o="",c={a:{}};o+=t.a(t,0,t.s(Ya,e),"direct-content-public__type",c);var l=o;return s+=Ma(r),(_a("ru",i)||_a("ua",i))&&(s+=t.f("f930",e,a,n,r,yr.object2nodeset(function(){var a={},n="";return n+=ha(t.n(ri,t.k("k26","environment",e.doc.root)))?"row-mobile":"row",a.view=n,a.type=l,"row-cv-tags_1_text_1"==Aa(l)&&(a.cvText=yr.nodeset2data(t.n($s,t.k("k26","cvInfo",e.doc.root)))),a.nonce=yr.nodeset2data(t.n(ti,t.k("k26","environment",e.doc.root))),a}()))),s},Sa.t2768.s=[ai,ni],Sa.t2768.a=[0,0],Sa.t2769=function(t,e,a,n,r){var s="";return s+=Ma(r),s+=ha(t.n(ri,t.k("k26","environment",e.doc.root)))?"row-mobile":"row"},Sa.t2769.j=ai,Sa.t2769.a=0,Sa.t2770=function(t,e,a,n,r){var s="";return s+=Ma(r),s+=ja(yr.externals.getExperimentalDirectBlockId(function(){var a={};return a.type="row",a.cvText=yr.nodeset2data(t.n($s,t.k("k26","cvInfo",e.doc.root))),a.experiment=yr.nodeset2data(t.n(ei,t.k("k26","environment",e.doc.root))),a}()))},Sa.t2770.j=ni,Sa.t2770.a=0,Sa.t2771=function(t,e,a,n,r){var s="";return s+=Ma(r),s+='<div class="preview-resource__content">',s+='<div class="preview-resource__image-wrapper">',s+="<img",r.a={"class":new yr.scalarAttr("preview-resource__image js-preview-resource__image "+xa(Ca("img-class",e,[])))},r.s="img",r.a.src=new yr.scalarAttr(ka("img-src",e)),s+=Ma(r),s+="",s+='<span class="preview-resource__button">',s+=t.f("f876",e,a,n,r,yr.object2nodeset(function(){var t={};return t.size="s",t.icon="eye",t.content="Просмотреть",t}())),s+="</span>",s+="</div>",s+="</div>"},Sa.t2771.j=si,Sa.t2771.a=0,Sa.t2772=function(t,e,a,n,r){var s="";return s+=Ma(r),s+='<div class="preview-resource__content">',s+="<img",r.a={"class":new yr.scalarAttr("preview-resource__image js-preview-resource__image "+xa(Ca("img-class",e,[])))},r.s="img",r.a.src=new yr.scalarAttr(ka("img-src",e)),s+=Ma(r),s+="",s+="</div>"},Sa.t2772.j=ii,Sa.t2772.a=0,Sa.t2773=function(t,e,a,n,r){var s="";return t.n(Bs,t.k("k26","resource",e.doc.root)),s+=Ma(r),s+=" file-public"},Sa.t2773.j=oi,Sa.t2773.a=0,Sa.t2774=function(t,e,a,n,r){var s="";return s+=t.a(t,0,t.k("k26","resource",e.doc.root),"file-public",r)},Sa.t2774.j=oi,Sa.t2774.a=0,Sa.t2775=function(t,e,a,n,r){var s="";return s+=Ma(r),s+=t.f("f911",e,a,n,r,yr.object2nodeset(function(){var t={};return t.size="480",t.icon=yr.nodeset2data(Ca("icon",e,[])),t}()))},Sa.t2775.j=ci,Sa.t2775.a=0,Sa.t2776=function(t,e,a,n,r){var s="",i={};i["data-click-action"]="resource.view-docviewer",i["data-params"]=yr.externals.json(yr.object2nodeset(function(){var t={};return t.id=yr.nodeset2data(Ca("id",e,[])),t.name=yr.nodeset2data(Ca("name",e,[])),t}())),i["data-metrika-click"]="count",i["data-metrika-params"]="interface elements,public content,view in DV";var o=i;return s+=Ma(r),s+='<div class="file-public__wrapper-button-preview">',s+=t.f("f876",e,a,n,r,yr.object2nodeset(function(){var t={};return t.size="s",t.icon="eye",t.content="Просмотреть",t["class"]="ns-action",t.attrs=o,t}())),s+="</div>",s+=t.f("f911",e,a,n,r,yr.object2nodeset(function(){var t={};return t.size="480",t.icon=yr.nodeset2data(Ca("icon",e,[])),t["class"]="file-public__icon file-public__icon_viewable ns-action",t.attrs=o,t}()))},Sa.t2776.j=di,Sa.t2776.a=0,Sa.t2777=function(t,e,a,n,r){var s="";return s+=Ma(r),s+=t.f("f911",e,a,n,r,yr.object2nodeset(function(){var t={};return t.size="480",t.icon="virus",t}()))},Sa.t2777.j=fi,Sa.t2777.a=0,Sa.t2778=function(t,e,a,n,r){var s="";return s+=Ma(r),s+='<div class="preview-responsive__image-wrapper">',s+=t.f("f931",e,a,n,r,yr.object2nodeset(function(){var a={};a["img-src"]=yr.nodeset2data(t.s(vi,e)),a["img-class"]="js-preview";var n={},r={};return r["class"]="ns-action",r["data-click-action"]="resource.view-docviewer",r["data-params"]=yr.externals.json(yr.object2nodeset(function(){var t={};return t.id=yr.nodeset2data(Ca("id",e,[])),t.name=yr.nodeset2data(Ca("name",e,[])),t}())),r["data-metrika-click"]="count",r["data-metrika-params"]="interface elements,public content,view in DV",n.attrs=r,a["preview-resource"]=n,a}())),s+='<div class="file-public__loader _hidden js-loader">',s+=t.f("f914",e,a,n,r),s+="</div>",s+="</div>"},Sa.t2778.j=yi,Sa.t2778.a=0,Sa.t2779=function(t,e,a,n,r){var s="";return s+=Ma(r),s+='<div class="preview-responsive__image-wrapper">',s+=t.f("f931",e,a,n,r,yr.object2nodeset(function(){var a={};a["img-src"]=yr.nodeset2data(t.s(vi,e)),a["img-class"]="js-preview";var n={};n["class"]="ns-action";var r={};return r["data-click-action"]="resource.show-fullsize",r["data-params"]=yr.externals.json(yr.object2nodeset(function(){var t={};return t.id=yr.nodeset2data(Ca("id",e,[])),t}())),n.attrs=r,a["preview-resource"]=n,a.type="image",a}())),s+='<div class="file-public__loader _hidden js-loader">',s+=t.f("f914",e,a,n,r),s+="</div>",s+="</div>"},Sa.t2779.j=Gs,Sa.t2779.a=0,Sa.t2780=function(t,e,a,n,r){var s="";return s+=t.a(t,0,t.s(pi,e.doc.root),"ns-view",r)},Sa.t2780.j=bi,Sa.t2780.a=0,Sa.t2781=function(t,e,a,n,r){var s="";return s+=Ma(r),s+="<div",r.a={"class":new yr.scalarAttr("file-public__video-wrapper js-container-video")},r.s="div",s+=t.a(t,0,t.s(_i,e.doc.root),"ns-view",r),s+=Ma(r),s+='<img class="file-public__image js-preview-video _hidden" src="'+wa(t.s(vi,e))+'"/>',s+="</div>"},Sa.t2781.j=Us,Sa.t2781.a=0,Sa.t2782=function(t,e,a,n,r){function s(t,e,a,n,r){r=void 0===r?[]:r;for(var s=[],i=Ca("current",e,[]),o=r,c=0,l=o.length;l>c;c++){var d=o[c],u="";u+="ns-action b-switcher-locale__item",pa(i,t.s(Ya,d))&&(u+=" b-switcher-locale__item_current");var f=u,u={},y="",v={a:{}};y+=t.a(t,0,t.s(Ya,d),"nb-switcher-locale-content",v),u.content=y,u["class"]=f;var y={},v={a:{}};y["data-click-action"]="locale.set",y["data-params"]=yr.externals.json(yr.object2nodeset(function(){var e={};return e.locale=yr.nodeset2data(t.s(Ya,d)),e}())),u.attrs=y,u.href=xa(Ca("tune",d.doc.root,[]))+"&intl="+xa(t.s(Ya,d)),s.push(u)}return s}var i="",o=yr.externals["nb-uniq"]();return i+=Ma(r),i+="<a",r.a={"data-nb":new yr.scalarAttr("popup-toggler"),"class":new yr.scalarAttr("b-switcher-locale"),"data-nb-popup-toggler":new yr.scalarAttr("{id: 'b-switcher-locale__popup-"+o+"'}")},r.s="a",i+=t.a(t,0,t.s(Ya,e),"nb-main-attrs",r),i+=t.a(t,0,Ca("current",e,[]),"nb-switcher-locale-content",r),i+=Ma(r),i+="</a>",i+=t.f("f880",e,a,n,r,yr.object2nodeset(function(){var r={};return r.id="b-switcher-locale__popup-"+o,r["class"]="b-switcher-locale__popup",r.tail="bottom",r.menu=s(t,e,a,n,Ca("available",e,[])),r}()))},Sa.t2782.j=mi,Sa.t2782.a=0,Sa.t2783=function(t,e,a,n,r){var s="";return s+=Ma(r),s+=t.f("f875",e,a,n,r,yr.object2nodeset(function(){var a={};return a.icon="lang",a["class"]="nb-icon nb-icon_lang nb-icon_size_s b-switcher-locale__icon-lang b-switcher-locale__icon-lang-"+xa(t.s(Ya,e)),a}())),s+=" ",s+=_a("uk",t.s(Ya,e))?"Ua":yr.externals.capitalize(xa(t.s(Ya,e)))},Sa.t2783.j=Fa,Sa.t2783.a=0,Sa.t2784=function(t,e,a,n,r){var s="";s+=Ma(r),s+="<div",r.a={"class":new yr.scalarAttr("footer")},r.s="div",s+=t.a(t,0,t.s(Ya,e),"nb-main-attrs",r),s+=Ma(r),s+='<div class="footer__copyright">',s+="© 2012—"+ja(yr.externals.getFullYear())+" ",s+='<span class="footer__yandex">',s+="«",s+='<a href="'+wa(Ca("linkYandex",e,[]))+'" class="'+"footer__link footer__link_yandex _link"+'">',s+="Яндекс",s+="</a>",s+="»",s+="</span>",s+=t.f("f932",e,a,n,r,function(){var a={};return a["class"]="footer__switcher",a.current=yr.nodeset2data(t.s(wi,e)),a.tune=yr.nodeset2data(t.s(xi,e)),a.available=yr.nodeset2data(t.s(gi,e)),a}()),s+="</div>",s+='<div class="footer__links">';for(var i=t.s(ji,e),o=0,c=i.length;c>o;o++){var l=i[o];s+="<a",r.a={"class":new yr.scalarAttr("footer__link _link"),href:new yr.scalarAttr(xa(Ca("href",l,[]))),target:new yr.scalarAttr("_blank")},r.s="a",za("paramsMetrika",l)&&(r.a["data-metrika-click"]=new yr.scalarAttr("count"),r.a["data-metrika-params"]=new yr.scalarAttr(ka("paramsMetrika",l))),s+=Ma(r),s+=ja(l.name),s+="</a>"}return s+="</div>",s+="</div>"},Sa.t2784.j=hi,Sa.t2784.a=0,Sa.t2785=function(t,e,a,n,r){var s="",i=t.k("k26","config",e.doc.root),o=t.k("k26","environment",e.doc.root),c=t.k("k26","resource",e.doc.root);return s+=Ma(r),s+=t.f("f933",e,a,n,r,function(){var a={};ha(t.s(ki,e.doc.root))&&(a["class"]="footer_poster");var n={};n.current=yr.nodeset2data(t.n(An,o)),n.tune=xa(t.n(zi,i))+"?&sk="+xa(t.n(Ci,i)),n.available=yr.nodeset2data(t.n(Mi,i)),a.switcher=n,a.linkYandex=yr.nodeset2data(t.n(Si,i));var n={},r={};if(r.href=yr.nodeset2data(t.n(Pi,i)),n[Aa("Помощь")]=r,_a("dir",t.n(La,c))||_a("image",t.n(Bs,c))||_a("video",t.n(Bs,c))){var r={};r.href=yr.nodeset2data(t.n(Di,i)),n[Aa("Пожаловаться")]=r}return a.links=n,a}())},Sa.t2785.j=Ai,Sa.t2785.a=0,Sa.t2786=function(t,e,a,n,r){var s="";if(s+=Ma(r),s+="<span",r.a={"class":new yr.scalarAttr("arrow-service")},r.s="span",za("theme",e)){var i=r.a["class"];r.a["class"]=i?i.addscalar(" arrow-service_"+xa(Ca("theme",e,[]))):new yr.scalarAttr(" arrow-service_"+xa(Ca("theme",e,[])))}return s+=t.a(t,0,t.s(Ya,e),"nb-main-attrs",r),s+=Ma(r),s+=ma(Ca("content",e,[])),s+="</span>"},Sa.t2786.j=Fi,Sa.t2786.a=0,Sa.t2787=function(t,e,a,n,r){var s="";return s+=Ma(r),s+="<form",r.a={"class":new yr.scalarAttr("nb-form-search js-search")},r.s="form",s+=t.a(t,0,t.s(Ya,e),"nb-main-attrs",r),s+=Ma(r),s+=t.f("f934",e,a,n,r,function(){var t={};t.content="Диск";var a="";return a+=za("disabled",e)?"":"js-arrow",t["class"]=a,t}()),s+=t.f("f892",e,a,n,r,yr.object2nodeset(function(){var t={},a={};a.size="m",a["class"]="js-query";var n={},r="",s={a:{}};r+=Ma(s),_a("/trash",Ca("scopeSearch",e,[]))?r+="Поиск по Корзине":_a("/mail",Ca("scopeSearch",e,[]))?r+="Поиск по вложениям":_a("/journal",Ca("scopeSearch",e,[]))&&(r+="Поиск по Истории"),n.placeholder=r,a.attrs=n,a.disabled=yr.nodeset2data(Ca("disabled",e,[])),t.input=a;var a={};a.size="s",a.content="Найти",a.theme="pseudo",a["class"]="js-button-submit";var n={};return n.type="submit",a.attrs=n,a.disabled=yr.nodeset2data(Ca("disabled",e,[])),t.button=a,t}())),s+='<div class="nb-form-search__clear-w">',s+='<span class="nb-form-search__clear js-clear"></span>',s+="</div>",s+="</form>"},Sa.t2787.j=Ti,Sa.t2787.a=0,Sa.t2788=function(t,e,a,n,r){var s="";return s+=Ma(r),s+=t.f("f935",e,a,n,r,function(){var a={};return a["class"]="js-prevent-deselect",a.scopeSearch=yr.nodeset2data(t.s(Ii,e.doc.root)),a.disabled=yr.nodeset2data(t.n(Li,t.k("k26","environment",e.doc.root))),a}())},Sa.t2788.j=Ri,Sa.t2788.a=0,Sa.t2789=function(t,e,a,n,r){var s="";return s+=Ma(r),s+=" header__wrap"},Sa.t2789.j=Dr,Sa.t2789.a=0,Sa.t2790=function(t,e,a,n,r){var s="";return s+=Ma(r),s+=" notifications"},Sa.t2790.j=qi,Sa.t2790.a=0,Sa.t2791=function(t,e,a,n,r){var s="";return s+=t.a(t,0,Ca("notification",e,[]),"",r)},Sa.t2791.j=1,Sa.t2791.a=1,Sa.t2792=function(t,e,a,n,r){var s="";return s+=Ma(r),s+="<div",r.a={"class":new yr.scalarAttr("notifications__item nb-island")},r.s="div",s+=t.a(t,0,t.s(Ya,e),"notification-inner",r),s+=Ma(r),s+="</div>"},Sa.t2792.j=Vi,Sa.t2792.a=0,Sa.t2793=function(t,e,a,n,r){var s="";return s+=t.a(t,0,t.s(Ya,e),"message",r)},Sa.t2793.j=Hi,Sa.t2793.a=0,Sa.t2794=function(t,e,a,n,r){var s="";return s+=Ma(r),s+="<a",r.a={href:new yr.scalarAttr("/client/trash"),"class":new yr.scalarAttr("notifications__item nb-island")},r.s="a",r.a["data-metrika-click"]=new yr.scalarAttr("count"),r.a["data-metrika-params"]=new yr.scalarAttr("navigation,via notification,trash"),s+=t.a(t,0,t.s(Ya,e),"notification-inner",r),s+=Ma(r),s+="</a>"},Sa.t2794.j=Ei,Sa.t2794.a=0,Sa.t2795=function(t,e,a,n,r){var s="";return s+=Ma(r),s+="<div",r.a={"class":new yr.scalarAttr("notifications__text js-message")},r.s="div",s+=t.a(t,0,t.s(Ya,e),"message",r),s+=Ma(r),s+="</div>"},Sa.t2795.j=Vi,Sa.t2795.a=0,Sa.t2796=function(t,e,a,n,r){var s="";return s+=Ma(r),s+="Файл «"+yr.externals.entityify(xa(t.s(Yi,e)))+"» перемещен в «"+yr.externals.entityify(xa(t.n(Ta,yr.externals.last(t.s(Ni,e)))))+"»"},Sa.t2796.j=Oi,Sa.t2796.a=0,Sa.t2797=function(t,e,a,n,r){var s="";return s+=Ma(r),s+="Папка «"+yr.externals.entityify(xa(t.s(Yi,e)))+"» перемещена в папку «"+yr.externals.entityify(xa(t.n(Ta,yr.externals.last(t.s(Ni,e)))))+"»"},Sa.t2797.j=Gi,Sa.t2797.a=0,Sa.t2798=function(t,e,a,n,r){var s="";return s+=Ma(r),s+="Перемещено "+__i18n__.i18n.convert(["1 объект",yr.externals.entityify(ka("count",e))+" объект",yr.externals.entityify(ka("count",e))+" объекта",yr.externals.entityify(ka("count",e))+" объектов"],yr.externals.entityify(ka("count",e)))+" в папку «"+yr.externals.entityify(xa(t.n(Ta,yr.externals.last(t.s(Ni,e)))))+"»"},Sa.t2798.j=Ui,Sa.t2798.a=0,Sa.t2799=function(t,e,a,n,r){var s="";return s+=Ma(r),s+="Не удалось переместить файл «"+yr.externals.entityify(xa(t.s(Xi,e)))+"» в папку «"+yr.externals.entityify(xa(t.n(Ta,yr.externals.last(t.s(Ni,e)))))+"»"},Sa.t2799.j=Ki,Sa.t2799.a=0,Sa.t2800=function(t,e,a,n,r){var s="";return s+=Ma(r),s+="Не удалось переместить папку «"+yr.externals.entityify(xa(t.s(Xi,e)))+"» в папку «"+yr.externals.entityify(xa(t.n(Ta,yr.externals.last(t.s(Ni,e)))))+"»"},Sa.t2800.j=Zi,Sa.t2800.a=0,Sa.t2801=function(t,e,a,n,r){var s="";return s+=Ma(r),s+="Перемещение файла «"+yr.externals.entityify(xa(t.s(Xi,e)))+"» в папку «"+yr.externals.entityify(xa(t.n(Ta,yr.externals.last(t.s(Ni,e)))))+"» отменено"},Sa.t2801.j=Wi,Sa.t2801.a=0,Sa.t2802=function(t,e,a,n,r){var s="";return s+=Ma(r),s+="Перемещение папки «"+yr.externals.entityify(xa(t.s(Xi,e)))+"» в папку «"+yr.externals.entityify(xa(t.n(Ta,yr.externals.last(t.s(Ni,e)))))+"» отменено"},Sa.t2802.j=Qi,Sa.t2802.a=0,Sa.t2803=function(t,e,a,n,r){var s="";return s+=Ma(r),s+="Не удалось очистить Корзину."},Sa.t2803.j=Ji,Sa.t2803.a=0,Sa.t2804=function(t,e,a,n,r){var s="";return s+=Ma(r),s+="Корзина успешно очищена."},Sa.t2804.j=$i,Sa.t2804.a=0,Sa.t2805=function(t,e,a,n,r){var s="";return s+=Ma(r),s+="Файл «"+yr.externals.entityify(xa(t.s(Xi,e)))+"» был удален"},Sa.t2805.j=to,Sa.t2805.a=0,Sa.t2806=function(t,e,a,n,r){var s="";return s+=Ma(r),s+="Папка «"+yr.externals.entityify(xa(t.s(Xi,e)))+"» была удалена"},Sa.t2806.j=eo,Sa.t2806.a=0,Sa.t2807=function(t,e,a,n,r){var s="";return s+=Ma(r),s+="Не удалось удалить файл «"+yr.externals.entityify(xa(t.s(Xi,e)))+"»"},Sa.t2807.j=ao,Sa.t2807.a=0,Sa.t2808=function(t,e,a,n,r){var s="";return s+=Ma(r),s+="Не удалось удалить папку «"+yr.externals.entityify(xa(t.s(Xi,e)))+"»"},Sa.t2808.j=no,Sa.t2808.a=0,Sa.t2809=function(t,e,a,n,r){var s="";return s+=Ma(r),_a("file",Ca("typeResources",e,[]))&&(s+=__i18n__.i18n.convert(["1 файл",yr.externals.entityify(ka("count",e))+" файл",yr.externals.entityify(ka("count",e))+" файла",yr.externals.entityify(ka("count",e))+" файлов"],yr.externals.entityify(ka("count",e)))+" "+__i18n__.i18n.convert(["удален","удален","удалены","удалены"],yr.externals.entityify(ka("count",e)))),_a("dir",Ca("typeResources",e,[]))&&(s+=__i18n__.i18n.convert(["одна папка",yr.externals.entityify(ka("count",e))+" папка",yr.externals.entityify(ka("count",e))+" папки",yr.externals.entityify(ka("count",e))+" папок"],yr.externals.entityify(ka("count",e)))+" "+__i18n__.i18n.convert(["удалена","удалена","удалены","удалены"],yr.externals.entityify(ka("count",e)))),_a("mix",Ca("typeResources",e,[]))&&(s+=__i18n__.i18n.convert(["1 объект",yr.externals.entityify(ka("count",e))+" объект",yr.externals.entityify(ka("count",e))+" объекта",yr.externals.entityify(ka("count",e))+" объектов"],yr.externals.entityify(ka("count",e)))+" "+__i18n__.i18n.convert(["удален","удален","удалены","удалены"],yr.externals.entityify(ka("count",e)))),s},Sa.t2809.j=ro,Sa.t2809.a=0,Sa.t2810=function(t,e,a,n,r){var s="";return s+=Ma(r),s+=yr.externals.entityify(ka("nameUser",e))+" больше не является участником папки «"+yr.externals.entityify(ka("nameFolder",e))+"»"},Sa.t2810.j=so,Sa.t2810.a=0,Sa.t2811=function(t,e,a,n,r){var s="";return s+=Ma(r),s+="Не удалось переименовать файл «"+yr.externals.entityify(xa(t.s(Xi,e)))+"»"},Sa.t2811.j=io,Sa.t2811.a=0,Sa.t2812=function(t,e,a,n,r){var s="";return s+=Ma(r),s+="Не удалось переименовать папку «"+yr.externals.entityify(xa(t.s(Xi,e)))+"»"},Sa.t2812.j=oo,Sa.t2812.a=0,Sa.t2813=function(t,e,a,n,r){var s="";return s+=Ma(r),s+="Название файла не может содержать символ «/»"},Sa.t2813.j=co,Sa.t2813.a=0,Sa.t2814=function(t,e,a,n,r){var s="";return s+=Ma(r),s+="Название папки не может содержать символ «/»"},Sa.t2814.j=lo,Sa.t2814.a=0,Sa.t2815=function(t,e,a,n,r){var s="";return s+=Ma(r),s+="Название папки не может содержать символ «/»"},Sa.t2815.j=uo,Sa.t2815.a=0,Sa.t2816=function(t,e,a,n,r){var s="";return s+=Ma(r),s+="Папка с именем «"+yr.externals.entityify(ka("nameProposed",e))+"» уже существует"},Sa.t2816.j=fo,Sa.t2816.a=0,Sa.t2817=function(t,e,a,n,r){var s="";return s+=Ma(r),s+="Файл с именем «"+yr.externals.entityify(ka("nameProposed",e))+"» уже существует"},Sa.t2817.j=yo,Sa.t2817.a=0,Sa.t2818=function(t,e,a,n,r){var s="";return s+=Ma(r),s+="Файл «"+yr.externals.entityify(xa(t.s(Xi,e)))+"» удален в "+'<span class="notifications__link">'+"Корзину"+"</span>"},Sa.t2818.j=Ei,Sa.t2818.a=0,Sa.t2819=function(t,e,a,n,r){var s="";return s+=Ma(r),s+="Папка «"+yr.externals.entityify(xa(t.s(Xi,e)))+"» удалена в "+'<span class="notifications__link">'+"Корзину"+"</span>"},Sa.t2819.j=vo,Sa.t2819.a=0,Sa.t2820=function(t,e,a,n,r){var s="";return s+=Ma(r),_a("file",Ca("typeResources",e,[]))&&(s+=__i18n__.i18n.convert(["1 файл",yr.externals.entityify(ka("count",e))+" файл",yr.externals.entityify(ka("count",e))+" файла",yr.externals.entityify(ka("count",e))+" файлов"],yr.externals.entityify(ka("count",e)))+" "+__i18n__.i18n.convert(["удален","удален","удалены","удалены"],yr.externals.entityify(ka("count",e)))+" в "+'<span class="notifications__link">'+"Корзину"+"</span>"),_a("dir",Ca("typeResources",e,[]))&&(s+=__i18n__.i18n.convert(["одна папка",yr.externals.entityify(ka("count",e))+" папка",yr.externals.entityify(ka("count",e))+" папки",yr.externals.entityify(ka("count",e))+" папок"],yr.externals.entityify(ka("count",e)))+" "+__i18n__.i18n.convert(["удалена","удалена","удалены","удалены"],yr.externals.entityify(ka("count",e)))+" в "+'<span class="notifications__link">'+"Корзину"+"</span>"),_a("mix",Ca("typeResources",e,[]))&&(s+=__i18n__.i18n.convert(["1 объект",yr.externals.entityify(ka("count",e))+" объект",yr.externals.entityify(ka("count",e))+" объекта",yr.externals.entityify(ka("count",e))+" объектов"],yr.externals.entityify(ka("count",e)))+" "+__i18n__.i18n.convert(["удален","удален","удалены","удалены"],yr.externals.entityify(ka("count",e)))+" в "+'<span class="notifications__link">'+"Корзину"+"</span>"),s},Sa.t2820.j=bo,Sa.t2820.a=0,Sa.t2821=function(t,e,a,n,r){var s="";return s+=Ma(r),s+="Файл «"+yr.externals.entityify(xa(t.s(Yi,e)))+"» восстановлен"},Sa.t2821.j=po,Sa.t2821.a=0,Sa.t2822=function(t,e,a,n,r){var s="";return s+=Ma(r),s+="Не удалось восстановить файл «"+yr.externals.entityify(xa(t.s(Xi,e)))+"»"},Sa.t2822.j=_o,Sa.t2822.a=0,Sa.t2823=function(t,e,a,n,r){var s="";return s+=Ma(r),s+="Папка «"+yr.externals.entityify(xa(t.s(Yi,e)))+"» восстановлена"},Sa.t2823.j=ho,Sa.t2823.a=0,Sa.t2824=function(t,e,a,n,r){var s="";return s+=Ma(r),s+="Не удалось восстановить папку «"+yr.externals.entityify(xa(t.s(Xi,e)))+"»"},Sa.t2824.j=wo,Sa.t2824.a=0,Sa.t2825=function(t,e,a,n,r){var s="";return s+=Ma(r),_a("file",Ca("typeResources",e,[]))&&(s+=__i18n__.i18n.convert(["1 файл",yr.externals.entityify(ka("count",e))+" файл",yr.externals.entityify(ka("count",e))+" файла",yr.externals.entityify(ka("count",e))+" файлов"],yr.externals.entityify(ka("count",e)))+" "+__i18n__.i18n.convert(["восстановлен","восстановлен","восстановлены","восстановлены"],yr.externals.entityify(ka("count",e)))),_a("dir",Ca("typeResources",e,[]))&&(s+=__i18n__.i18n.convert(["одна папка",yr.externals.entityify(ka("count",e))+" папка",yr.externals.entityify(ka("count",e))+" папки",yr.externals.entityify(ka("count",e))+" папок"],yr.externals.entityify(ka("count",e)))+" "+__i18n__.i18n.convert(["восстановлена","восстановлена","восстановлены","восстановлены"],yr.externals.entityify(ka("count",e)))),_a("mix",Ca("typeResources",e,[]))&&(s+=__i18n__.i18n.convert(["1 объект",yr.externals.entityify(ka("count",e))+" объект",yr.externals.entityify(ka("count",e))+" объекта",yr.externals.entityify(ka("count",e))+" объектов"],yr.externals.entityify(ka("count",e)))+" "+__i18n__.i18n.convert(["восстановлен","восстановлен","восстановлены","восстановлены"],yr.externals.entityify(ka("count",e)))),s
},Sa.t2825.j=xo,Sa.t2825.a=0,Sa.t2826=function(t,e,a,n,r){var s="";return s+=Ma(r),s+="Файл «"+yr.externals.entityify(xa(t.s(Yi,e)))+"» скопирован в папку «"+yr.externals.entityify(xa(t.n(Ta,yr.externals.last(t.s(Ni,e)))))+"»"},Sa.t2826.j=go,Sa.t2826.a=0,Sa.t2827=function(t,e,a,n,r){var s="";return s+=Ma(r),s+="Папка «"+yr.externals.entityify(xa(t.s(Yi,e)))+"» скопирована в папку «"+yr.externals.entityify(xa(t.n(Ta,yr.externals.last(t.s(Ni,e)))))+"»"},Sa.t2827.j=jo,Sa.t2827.a=0,Sa.t2828=function(t,e,a,n,r){var s="";return s+=Ma(r),s+="Скопировано "+__i18n__.i18n.convert(["1 объект",yr.externals.entityify(ka("count",e))+" объект",yr.externals.entityify(ka("count",e))+" объекта",yr.externals.entityify(ka("count",e))+" объектов"],yr.externals.entityify(ka("count",e)))+" в папку «"+yr.externals.entityify(xa(t.n(Ta,yr.externals.last(t.s(Ni,e)))))+"»"},Sa.t2828.j=Ao,Sa.t2828.a=0,Sa.t2829=function(t,e,a,n,r){var s="";return s+=Ma(r),s+="Не удалось скопировать файл «"+yr.externals.entityify(xa(t.s(Xi,e)))+"» в папку «"+yr.externals.entityify(xa(t.n(Ta,yr.externals.last(t.s(Ni,e)))))+"»"},Sa.t2829.j=ko,Sa.t2829.a=0,Sa.t2830=function(t,e,a,n,r){var s="";return s+=Ma(r),s+="Не удалось скопировать папку «"+yr.externals.entityify(xa(t.s(Xi,e)))+"» в папку «"+yr.externals.entityify(xa(t.n(Ta,yr.externals.last(t.s(Ni,e)))))+"»"},Sa.t2830.j=zo,Sa.t2830.a=0,Sa.t2831=function(t,e,a,n,r){var s="";return s+=Ma(r),s+="Папка с именем «"+yr.externals.entityify(ka("nameFolderDst",e))+"» уже существует"},Sa.t2831.j=Co,Sa.t2831.a=0,Sa.t2832=function(t,e,a,n,r){var s="";return s+=Ma(r),s+="Не удалось создать папку «"+yr.externals.entityify(ka("nameFolderDst",e))+"»"},Sa.t2832.j=Mo,Sa.t2832.a=0,Sa.t2833=function(t,e,a,n,r){var s="";return s+=Ma(r),s+="Файл с именем «"+yr.externals.entityify(ka("nameDst",e))+"» уже существует"},Sa.t2833.j=So,Sa.t2833.a=0,Sa.t2834=function(t,e,a,n,r){var s="";return s+=Ma(r),s+="Не удалось загрузить файл «"+yr.externals.entityify(ka("nameDst",e))+"»"},Sa.t2834.j=Po,Sa.t2834.a=0,Sa.t2835=function(t,e,a,n,r){var s="";return s+=Ma(r),s+="Публичная ссылка на файл «"+yr.externals.entityify(xa(t.s(Xi,e)))+"» удалена"},Sa.t2835.j=Do,Sa.t2835.a=0,Sa.t2836=function(t,e,a,n,r){var s="";return s+=Ma(r),s+="Публичная ссылка на папку «"+yr.externals.entityify(xa(t.s(Xi,e)))+"» удалена"},Sa.t2836.j=Fo,Sa.t2836.a=0,Sa.t2837=function(t,e,a,n,r){var s="";return s+=Ma(r),s+="Не удалось опубликовать файл «"+yr.externals.entityify(xa(t.s(Xi,e)))+"»"},Sa.t2837.j=To,Sa.t2837.a=0,Sa.t2838=function(t,e,a,n,r){var s="";return s+=Ma(r),s+="Не удалось опубликовать папку «"+yr.externals.entityify(xa(t.s(Xi,e)))+"»"},Sa.t2838.j=Ro,Sa.t2838.a=0,Sa.t2839=function(t,e,a,n,r){var s="";return s+=Ma(r),s+="Не удалось удалить публичную ссылку на файл «"+yr.externals.entityify(xa(t.s(Xi,e)))+"»"},Sa.t2839.j=Io,Sa.t2839.a=0,Sa.t2840=function(t,e,a,n,r){var s="";return s+=Ma(r),s+="Не удалось удалить публичную ссылку на папку «"+yr.externals.entityify(xa(t.s(Xi,e)))+"»"},Sa.t2840.j=Lo,Sa.t2840.a=0,Sa.t2841=function(t,e,a,n,r){var s="";return s+=Ma(r),s+="Приглашение в папку «"+yr.externals.entityify(xa(t.s(Yi,e)))+"» принято"},Sa.t2841.j=qo,Sa.t2841.a=0,Sa.t2842=function(t,e,a,n,r){var s="";return s+=Ma(r),s+="Не удалось принять приглашение в папку «"+yr.externals.entityify(xa(t.s(Xi,e)))+"»"},Sa.t2842.j=Vo,Sa.t2842.a=0,Sa.t2843=function(t,e,a,n,r){var s="";return s+=Ma(r),s+="Ваше приглашение в папку «"+yr.externals.entityify(ka("nameFolder",e))+"» было принято. "+yr.externals.entityify(ka("nameUser",e))+" теперь имеет доступ к файлам в ней."},Sa.t2843.j=Ho,Sa.t2843.a=0,Sa.t2844=function(t,e,a,n,r){var s="";return s+=Ma(r),s+="Приглашение в папку «"+yr.externals.entityify(xa(t.s(Xi,e)))+"» отклонено"},Sa.t2844.j=Eo,Sa.t2844.a=0,Sa.t2845=function(t,e,a,n,r){var s="";return s+=Ma(r),s+="Не удалось отклонить приглашение в папку «"+yr.externals.entityify(xa(t.s(Xi,e)))+"»"},Sa.t2845.j=Oo,Sa.t2845.a=0,Sa.t2846=function(t,e,a,n,r){var s="";return s+=Ma(r),s+="Приглашение отправлено"},Sa.t2846.j=Yo,Sa.t2846.a=0,Sa.t2847=function(t,e,a,n,r){var s="";return s+=Ma(r),s+="Не удалось отправить приглашение, попробуйте снова"},Sa.t2847.j=No,Sa.t2847.a=0,Sa.t2848=function(t,e,a,n,r){var s="",i=[];i=za("name",e)?Ca("name",e,[]):Ca("userid",e,[]);var o=i;return s+=Ma(r),s+="У "+yr.externals.entityify(xa(o))+" уже есть Яндекс.Диск"},Sa.t2848.j=Bo,Sa.t2848.a=0,Sa.t2849=function(t,e,a,n,r){var s="";return s+=Ma(r),s+="Владелец закрыл доступ к папке «"+yr.externals.entityify(ka("nameFolder",e))+"». Она будет удалена с вашего Диска."},Sa.t2849.j=Go,Sa.t2849.a=0,Sa.t2850=function(t,e,a,n,r){var s="";return s+=Ma(r),s+="Владелец закрыл доступ к папке «"+yr.externals.entityify(ka("nameFolder",e))+"». Она будет удалена с вашего Диска."},Sa.t2850.j=Uo,Sa.t2850.a=0,Sa.t2851=function(t,e,a,n,r){var s="";return s+=Ma(r),s+="Права доступа к папке «"+yr.externals.entityify(ka("nameFolder",e))+"» изменились: теперь у вас есть полный доступ."},Sa.t2851.j=Ko,Sa.t2851.a=0,Sa.t2852=function(t,e,a,n,r){var s="";return s+=Ma(r),s+="Права доступа к папке «"+yr.externals.entityify(ka("nameFolder",e))+"» изменились: вы можете только просматривать файлы."},Sa.t2852.j=Xo,Sa.t2852.a=0,Sa.t2853=function(t,e,a,n,r){var s="",i="",o={a:{}};i+=Ma(o),_a("odnoklassniki",Ca("service",e,[]))?i+="Одноклассников":_a("mailru",Ca("service",e,[]))?i+="Моего Мира":_a("vkontakte",Ca("service",e,[]))?i+="ВКонтакте":_a("facebook",Ca("service",e,[]))?i+="Facebook":_a("instagram",Ca("service",e,[]))?i+="Instagram":_a("google",Ca("service",e,[]))&&(i+="Google+");var c=i;return s+=Ma(r),s+="Фото из "+yr.externals.entityify(Aa(c))+" загрузить не удалось"},Sa.t2853.j=Zo,Sa.t2853.a=0,Sa.t2854=function(t,e,a,n,r){var s="",i="",o={a:{}};i+=Ma(o),_a("odnoklassniki",Ca("service",e,[]))?i+="Одноклассников":_a("mailru",Ca("service",e,[]))?i+="Моего Мира":_a("vkontakte",Ca("service",e,[]))?i+="ВКонтакте":_a("facebook",Ca("service",e,[]))?i+="Facebook":_a("instagram",Ca("service",e,[]))?i+="Instagram":_a("google",Ca("service",e,[]))&&(i+="Google+");var c=i,i="",o={a:{}};i+=Ma(o),i+='<a class="_link" href="/client'+wa(Ca("idFolder",e,[]))+'">',i+=c,i+="</a>";var l=i;return s+=Ma(r),s+=za("partial",e)?yr.externals.deentityify(Aa("Из "+yr.externals.entityify(Aa(l))+" удалось загрузить только часть фото")):za("countTasks",e)?yr.externals.deentityify(Aa("Фото из "+yr.externals.entityify(Aa(l))+" загружены")):"Нет новых фото для загрузки из "+yr.externals.entityify(Aa(c))},Sa.t2854.j=Wo,Sa.t2854.a=0,Sa.t2855=function(t,e,a,n,r){var s="";return s+=Ma(r),s+="Ссылка с приглашением скопирована в буфер обмена"},Sa.t2855.j=Qo,Sa.t2855.a=0,Sa.t2856=function(t,e,a,n,r){var s="";return s+=Ma(r),s+="<span",r.a={"class":new yr.scalarAttr("notifications__item nb-island ns-action")},r.s="span",r.a["data-click-action"]=new yr.scalarAttr("app.openSlider"),r.a["data-params"]=new yr.scalarAttr(yr.externals.json(yr.object2nodeset(function(){var a={};return a.id=yr.nodeset2data(t.s($o,e)),a.idContext=yr.nodeset2data(Ca("idContext",e,[])),a}()))),r.a["data-metrika-params"]=new yr.scalarAttr(yr.externals.join(yr.array2nodeset(function(){var t=[];return t.push("interface elements"),t.push("image editor"),t.push("complete"),t.push("click"),t}()))),r.a["data-metrika-click"]=new yr.scalarAttr("count"),s+=Ma(r),s+='<div class="notifications__text">',s+='Отредактированная копия «<span class="notifications__link">'+yr.externals.entityify(xa(t.s(Yi,e)))+"</span>"+"» сохранена",s+="</div>",s+="</span>"},Sa.t2856.j=Jo,Sa.t2856.a=0,Sa.t2857=function(t,e,a,n,r){var s="";return s+=Ma(r),s+="Ошибка редактирования"},Sa.t2857.j=ec,Sa.t2857.a=0,Sa.t2858=function(t,e,a,n,r){var s="";return s+=Ma(r),s+="Ошибка редактирования. Попробуйте позднее"},Sa.t2858.j=ac,Sa.t2858.a=0,Sa.t2859=function(t,e,a,n,r){var s="";return s+=Ma(r),_a("vkontakte",Ca("service",e,[]))?s+=_a(1,Ca("count",e,[]))?"Фото загружено во ВКонтакте":"Все фото загружены во ВКонтакте":_a("facebook",Ca("service",e,[]))?s+=_a(1,Ca("count",e,[]))?"Фото опубликовано в Facebook":"Все фото загружены в Facebook":_a("odnoklassniki",Ca("service",e,[]))?s+=_a(1,Ca("count",e,[]))?"Фото опубликовано в Одноклассники":"Все фото загружены в Одноклассники":_a("mailru",Ca("service",e,[]))&&(s+=_a(1,Ca("count",e,[]))?"Фото опубликовано в Мой Мир":"Все фото загружены в Мой Мир"),s},Sa.t2859.j=nc,Sa.t2859.a=0,Sa.t2860=function(t,e,a,n,r){var s="";return s+=Ma(r),_a("vkontakte",Ca("service",e,[]))?s+="Загрузить фото во ВКонтакте не удалось":_a("facebook",Ca("service",e,[]))?s+="Загружить фото в Facebook не удалось":_a("odnoklassniki",Ca("service",e,[]))?s+="Загрузить фото в Одноклассники не удалось":_a("mailru",Ca("service",e,[]))&&(s+="Загрузить фото в Мой Мир не удалось"),s},Sa.t2860.j=rc,Sa.t2860.a=0,Sa.t2861=function(t,e,a,n,r){var s="";return s+=Ma(r),_a("vkontakte",Ca("service",e,[]))?s+="Во ВКонтакте удалось загрузить только часть фото":_a("facebook",Ca("service",e,[]))?s+="В Facebook удалось загрузить только часть фото":_a("odnoklassniki",Ca("service",e,[]))?s+="В Одноклассники удалось загрузить только часть фото":_a("mailru",Ca("service",e,[]))&&(s+="В Мой Мир удалось загрузить только часть фото"),s},Sa.t2861.j=sc,Sa.t2861.a=0,Sa.t2862=function(t,e,a,n,r){var s="",i="",o={a:{}};i+=Ma(o),za("mobileDialog",e)?(i+='&lt;button class="_link ns-action" data-click-action="dialog-mobile-app.open"&gt;',i+="папку «Загрузки»",i+="&lt;/button&gt;"):(i+='&lt;a class="_link" href="'+ma(Ca("linkDownloads",e,[]))+'"&gt;',i+="папку «Загрузки»",i+="&lt;/a&gt;");var c=i;return s+=Ma(r),_a("dir",Ca("typeSrc",e,[]))&&_a("progressing",Ca("status",e,[]))&&(s+="«"+yr.externals.entityify(ka("nameSrc",e))+"» сохраняется в "+Aa(c)+" на вашем Яндекс.Диске. Это может занять некоторое время."),_a("dir",Ca("typeSrc",e,[]))&&_a("done",Ca("status",e,[]))&&(s+="Папка сохранена на ваш Яндекс.Диск в "+Aa(c)+"."),_a("file",Ca("typeSrc",e,[]))&&_a("done",Ca("status",e,[]))&&(s+="Файл «"+yr.externals.entityify(ka("nameSrc",e))+"» сохранен на ваш Яндекс.Диск в "+Aa(c)),s},Sa.t2862.j=ic,Sa.t2862.a=0,Sa.t2863=function(t,e,a,n,r){var s="";return s+=Ma(r),s+=_a("dir",Ca("typeSrc",e,[]))?"Не удалось сохранить папку на Диск.":"Не удалось сохранить файл «"+yr.externals.entityify(ka("nameSrc",e))+"» на Диск.",s+=" ",s+=_a("NO_SPACE",Ca("reason",e,[]))?"Недостаточно свободного места.":"Повторите попытку позже."},Sa.t2863.j=oc,Sa.t2863.a=0,Sa.t2864=function(t,e,a,n,r){var s="";return s+=Ma(r),s+="Невозможно выполнить операцию. Файл доступен только для просмотра и скачивания."},Sa.t2864.j=cc,Sa.t2864.a=0,Sa.t2865=function(t,e,a,n,r){var s="";return s+=Ma(r),s+="Извините, удаление невозможно, идет очистка Корзины. Попробуйте повторить операцию через пару минут."},Sa.t2865.j=lc,Sa.t2865.a=0,Sa.t2866=function(t,e,a,n,r){var s="";return s+=Ma(r),s+="Не удалось создать альбом"},Sa.t2866.j=dc,Sa.t2866.a=0,Sa.t2867=function(t,e,a,n,r){var s="";return s+=Ma(r),s+="Альбом «"+yr.externals.entityify(ka("title",e))+"» был удален"},Sa.t2867.j=uc,Sa.t2867.a=0,Sa.t2868=function(t,e,a,n,r){var s="";return s+=Ma(r),s+="Не удалось удалить альбом «"+yr.externals.entityify(ka("title",e))+"»"},Sa.t2868.j=fc,Sa.t2868.a=0,Sa.t2869=function(t,e,a,n,r){var s="";return s+=Ma(r),s+="Опубликован альбом «"+yr.externals.entityify(xa(t.s(vc,e)))+"»"},Sa.t2869.j=yc,Sa.t2869.a=0,Sa.t2870=function(t,e,a,n,r){var s="";return s+=Ma(r),s+="Теперь альбом «"+yr.externals.entityify(xa(t.s(vc,e)))+"» виден только вам"},Sa.t2870.j=bc,Sa.t2870.a=0,Sa.t2871=function(t,e,a,n,r){var s="";return s+=Ma(r),s+="Не удалось опубликовать альбом «"+yr.externals.entityify(xa(t.s(vc,e)))+"»"},Sa.t2871.j=pc,Sa.t2871.a=0,Sa.t2872=function(t,e,a,n,r){var s="";return s+=Ma(r),s+="Не удалось удалить публичную ссылку на альбом «"+yr.externals.entityify(xa(t.s(vc,e)))+"»"},Sa.t2872.j=_c,Sa.t2872.a=0,Sa.t2873=function(t,e,a,n,r){var s="",i="",o={a:{}};i+=Ma(o),i+="<a",o.a={"class":new yr.scalarAttr("_link ns-action")},o.s="a",o.a["data-click-action"]=new yr.scalarAttr("album.open"),o.a["data-params"]=new yr.scalarAttr(yr.externals.json(yr.object2nodeset(function(){var a={};return a.url=yr.nodeset2data(t.s(hc,e)),a}()))),o.a["data-metrika-click"]=new yr.scalarAttr("count"),o.a["data-metrika-params"]=new yr.scalarAttr("navigation,via notification,albums"),i+=Ma(o),i+=ja(yr.externals.entityify(yr.externals.entityify(xa(t.s(wc,e))))),i+="</a>";var c=i;return s+=Ma(r),s+=_a("half",Ca("typeAddition",e,[]))?yr.externals.capitalize(Aa(__i18n__.i18n.convert(["один новый файл",ka("count",e)+" новый файл",ka("count",e)+" новых файла",ka("count",e)+" новых файлов"],ka("count",e))+" "+__i18n__.i18n.convert(["добавлен","добавлен","добавлены","добавлено"],ka("count",e))+" в альбом «"+Aa(c)+"»")):_a(1,Ca("count",e,[]))?yr.externals.capitalize(Aa("Файл добавлен в альбом «"+Aa(c)+"»")):yr.externals.capitalize(Aa(__i18n__.i18n.convert(["1 файл",ka("count",e)+" файл",ka("count",e)+" файла",ka("count",e)+" файлов"],ka("count",e))+" "+__i18n__.i18n.convert(["добавлен","добавлен","добавлены","добавлено"],ka("count",e))+" в альбом «"+Aa(c)+"»"))},Sa.t2873.j=mc,Sa.t2873.a=0,Sa.t2874=function(t,e,a,n,r){var s="";return s+=Ma(r),s+=_a("none",Ca("typeAddition",e,[]))?"Выбранные файлы уже находятся в альбоме":"Не удалось добавить "+__i18n__.i18n.convert(["1 файл",yr.externals.entityify(ka("count",e))+" файл",yr.externals.entityify(ka("count",e))+" файла",yr.externals.entityify(ka("count",e))+" файлов"],yr.externals.entityify(ka("count",e)))+" в альбом «"+yr.externals.entityify(xa(t.s(wc,e)))+"»"},Sa.t2874.j=xc,Sa.t2874.a=0,Sa.t2875=function(t,e,a,n,r){var s="",i="",o={a:{}};i+=Ma(o),i+='&lt;a class="_link" href="'+ma(Ca("hrefSrc",e,[]))+'"&gt;',i+=_a("file",Ca("typeSrc",e,[]))?"папку «Загрузки»":ja(yr.externals.entityify(ka("nameSrc",e))),i+="&lt;/a&gt;";var c=i;return s+=Ma(r),s+=_a("file",Ca("typeSrc",e,[]))?"Файл сохранен на ваш Яндекс.Диск в "+Aa(c)+".":"Папка «"+Aa(c)+"» сохранена на ваш Яндекс.Диск"},Sa.t2875.j=gc,Sa.t2875.a=0,Sa.t2876=function(t,e,a,n,r){var s="",i="";i+='<a class="_link" target="_blank" href="'+xa(Ca("hrefSrc",e,[]))+'">',i+=yr.externals.entityify(ka("nameSrc",e)),i+="</a>";var o=i;return s+=Ma(r),s+="«"+o+"» сохраняется на ваш Яндекс.Диск. Это может занять некоторое время."},Sa.t2876.j=jc,Sa.t2876.a=0,Sa.t2877=function(t,e,a,n,r){var s="";return s+=Ma(r),s+=_a("file",Ca("typeSrc",e,[]))?"Не удалось сохранить файл на Диск.":"Альбом «"+yr.externals.entityify(ka("nameSrc",e))+"» не удалось сохранить на ваш Яндекс.Диск.",s+=" ",s+=_a("NO_SPACE",Ca("reason",e,[]))?"Недостаточно свободного места.":"Повторите попытку позже."},Sa.t2877.j=Ac,Sa.t2877.a=0,Sa.t2878=function(t,e,a,n,r){var s="";return s+=Ma(r),s+="Файл удален из альбома"},Sa.t2878.j=kc,Sa.t2878.a=0,Sa.t2879=function(t,e,a,n,r){var s="";return s+=Ma(r),s+="Не удалось удалить файл из альбома"},Sa.t2879.j=zc,Sa.t2879.a=0,Sa.t2880=function(t,e,a,n,r){var s="";return s+=Ma(r),s+="Не удалось переименовать альбом"},Sa.t2880.j=Cc,Sa.t2880.a=0,Sa.t2881=function(t,e,a,n,r){var s="";return s+=Ma(r),s+="Название альбома не может содержать символ «/»"},Sa.t2881.j=Mc,Sa.t2881.a=0,Sa.t2882=function(t,e,a,n,r){var s="";return s+=Ma(r),s+="Обложка изменена"},Sa.t2882.j=Sc,Sa.t2882.a=0,Sa.t2883=function(t,e,a,n,r){var s="";return s+=Ma(r),s+="Не удалось изменить обложку"},Sa.t2883.j=Pc,Sa.t2883.a=0,Sa.t2884=function(t,e,a,n,r){var s="";return s+=Ma(r),s+="Не удалось скачать файл. Попробуйте позже."},Sa.t2884.j=Dc,Sa.t2884.a=0,Sa.t2885=function(t,e,a,n,r){var s="",i=t.k("k26","environment",e.doc.root);t.n(Tc,i);var o="",c={a:{}};o+=Ma(c),o+='<span class="_link js-page-reload">',o+="обновить страницу",o+="</span>";var l=o;if(s+=Ma(r),s+="<div",r.a={"class":new yr.scalarAttr("page-error")},r.s="div",ha(t.n(ri,i))){var d=r.a["class"];r.a["class"]=d?d.addscalar(" page-error_mobile"):new yr.scalarAttr(" page-error_mobile")}return s+=Ma(r),s+="Сервер временно недоступен, попробуйте "+Aa(l),s+="</div>"},Sa.t2885.j=Fc,Sa.t2885.a=0,Sa.t2886=function(t,e,a,n,r){var s="";return s+=Ma(r),s+="<div",r.a={"class":new yr.scalarAttr("nb-layer nb-layer_type_without-aside-nav")},r.s="div",s+=t.a(t,0,t.s(Ic,e.doc.root),"ns-view",r),s+=Ma(r),s+="</div>",s+='<div class="nb-layer nb-layer_type_fixed">',s+="<div",r.a={"class":new yr.scalarAttr("nb-bar nb-bar_top")},r.s="div",s+=t.a(t,0,t.s(Lc,e.doc.root),"ns-view",r),s+=Ma(r),s+="</div>",s+="</div>"},Sa.t2886.j=Rc,Sa.t2886.a=0,Sa.t2887=function(t,e,a,n,r){var s="",i=t.n(Bs,t.k("k26","resource",e.doc.root));return s+=Ma(r),s+=" content-public",ha(t.n(Hs,t.k("k26","resource",e.doc.root)))&&(_a("book",i)||_a("image",i)||_a("document",i))&&(s+=" wrapper-preview-responsive"),s},Sa.t2887.j=qc,Sa.t2887.a=0,Sa.t2888=function(t,e,a,n,r){var s="";return s+=Ma(r),s+="<div",r.a={"class":new yr.scalarAttr("nb-layer nb-layer_type_public content-public__content")},r.s="div",s+=t.a(t,0,t.s(Ya,e),"content-public__nav",r),s+=t.a(t,0,t.s(Vc,e.doc.root),"ns-view",r),s+=t.a(t,0,t.s(Hc,e.doc.root),"ns-view",r),s+=t.a(t,0,t.s(Ec,e.doc.root),"ns-view",r),s+=t.a(t,0,t.s(Oc,e.doc.root),"ns-view",r),s+=t.a(t,0,t.s(Yc,e.doc.root),"ns-view",r),s+=Ma(r),s+="</div>",s+='<div class="nb-layer nb-layer_type_fixed">',s+="<div",r.a={"class":new yr.scalarAttr("nb-bar nb-bar_top")},r.s="div",s+=t.a(t,0,t.s(Lc,e.doc.root),"ns-view",r),s+=Ma(r),s+="</div>",s+='<div class="nb-panel nb-panel_aside content-public__aside">',s+="<div",r.a={"class":new yr.scalarAttr("content-public__aside-inner")},r.s="div",s+=t.a(t,0,t.s(Nc,e.doc.root),"ns-view",r),s+=t.a(t,0,t.s(Bc,e.doc.root),"ns-view",r),s+=t.a(t,0,t.s(Gc,e.doc.root),"ns-view",r),s+=t.a(t,0,t.s(Uc,e.doc.root),"ns-view",r),s+=Ma(r),s+="</div>",s+="</div>",s+=t.a(t,0,t.s(Kc,e.doc.root),"ns-view",r),s+="</div>"},Sa.t2888.j=qc,Sa.t2888.a=0,Sa.t2889=function(t,e,a,n,r){var s="";t.k("k26","userCurrent",e.doc.root),t.k("k26","config",e.doc.root);var i=t.k("k26","poster",e.doc.root);if(s+=Ma(r),s+='<div class="nb-layer content-public__poster">',s+="<a",r.a={"class":new yr.scalarAttr("content-public__poster-bg"),target:new yr.scalarAttr("_blank")},r.s="a",ha(t.n(En,i))){var o=r.a["class"];r.a["class"]=o?o.addscalar(" content-public__poster-bg_"+xa(t.n(En,i))):new yr.scalarAttr(" content-public__poster-bg_"+xa(t.n(En,i)))}return ha(t.n(Zc,i))&&(r.a.style=new yr.scalarAttr("background-image: url('"+xa(t.n(Zc,i))+"')")),r.a.href=new yr.scalarAttr(xa(t.n(Wc,i))),r.a["data-metrika-click"]=new yr.scalarAttr("count"),r.a["data-metrika-params"]=new yr.scalarAttr("adv-poster,click,bg"),s+=Ma(r),s+="</a>",s+=t.a(t,0,t.s(Ya,e),"content-public__nav",r),s+='<div class="content-public__poster-content">',s+="<div",r.a={"class":new yr.scalarAttr("content-public__poster-aside")},r.s="div",s+=t.a(t,0,t.s(Nc,e.doc.root),"ns-view",r),s+=Ma(r),s+="</div>",s+="</div>",s+="</div>",s+='<div class="nb-layer nb-layer_type_fixed">',s+="<div",r.a={"class":new yr.scalarAttr("nb-bar nb-bar_top")},r.s="div",s+=t.a(t,0,t.s(Lc,e.doc.root),"ns-view",r),s+=Ma(r),s+="</div>",s+=t.a(t,0,t.s(Kc,e.doc.root),"ns-view",r),s+="</div>",s+=t.a(t,0,t.s(Yc,e.doc.root),"ns-view",r)},Sa.t2889.j=Xc,Sa.t2889.a=0,Sa.t2890=function(t,e,a,n,r){var s="",i=t.k("k26","userCurrent",e.doc.root);if(s+=Ma(r),s+="<div",r.a={"class":new yr.scalarAttr("nb-bar nb-bar_nav content-public__navigation js-nav")},r.s="div",!ha(t.n(Qc,i))){var o=r.a["class"];r.a["class"]=o?o.addscalar(" content-public__navigation_hidden"):new yr.scalarAttr(" content-public__navigation_hidden")}if(ha(t.s(ki,e.doc.root))){var o=r.a["class"];r.a["class"]=o?o.addscalar(" content-public__navigation_poster"):new yr.scalarAttr(" content-public__navigation_poster")}return s+=t.a(t,0,t.s(Jc,e.doc.root),"ns-view",r),s+=Ma(r),s+="</div>"},Sa.t2890.j=qc,Sa.t2890.a=0,Sa.t2891=function(t,e,a,n,r){var s="";return s+=Ma(r),s+=" player-audio-public player-audio-public_inactive"},Sa.t2891.j=$c,Sa.t2891.a=0,Sa.t2892=function(t,e,a,n,r){var s="";return s+=t.a(t,0,t.k("k26","resource",e.doc.root),"player-audio-public",r)},Sa.t2892.j=$c,Sa.t2892.a=0,Sa.t2893=function(t,e,a,n,r){var s="";return s+=Ma(r),s+=t.f("f911",e,a,n,r,yr.object2nodeset(function(){var t={};return t.size="480",t.icon=yr.nodeset2data(Ca("icon",e,[])),t["class"]="js-icon _hidden",t}())),s+='<div class="js-player">',s+='<div class="player-audio-public__title">',s+=ma(Ca("name",e,[])),s+="</div>",s+='<div class="player-audio-public__slider player-audio-public__slider_inactive">',s+='<div class="player-audio-public__time player-audio-public__time_current js-time-current">',s+="00:00",s+="</div>",s+='<div class="player-audio-public__time player-audio-public__time_total js-time-total">',s+="--:--",s+="</div>",s+=t.f("f898",e,a,n,r,yr.object2nodeset(function(){var t={};t.size="s";var e="",a={a:{}};e+=Ma(a),e+='<div class="player-audio-public__handle-content"></div>',t.content=e,t["class"]="player-audio-public__slider-track js-slider";var e={},a={a:{}};return e["class"]="player-audio-public__handle",t.handle=e,t}())),s+="</div>",s+='<div class="player-audio-public__actions">',s+=t.f("f876",e,a,n,r,yr.object2nodeset(function(){var t={};t["static"]=!0,t.icon="play",t["class"]="player-audio-public__button player-audio-public__play js-play ns-action";var a={};return a["data-click-action"]="resource.play",a["data-params"]=yr.externals.json(yr.object2nodeset(function(){var t={};return t.id=yr.nodeset2data(Ca("id",e,[])),t}())),t.attrs=a,t}())),s+=t.f("f876",e,a,n,r,yr.object2nodeset(function(){var t={};t["static"]=!0,t.icon="pause",t["class"]="player-audio-public__button player-audio-public__pause ns-action";var a={};return a["data-click-action"]="resource.pause",a["data-params"]=yr.externals.json(yr.object2nodeset(function(){var t={};return t.id=yr.nodeset2data(Ca("id",e,[])),t}())),t.attrs=a,t}())),s+="</div>",s+="</div>"},Sa.t2893.j=ci,Sa.t2893.a=0,Sa.t2894=function(t,e,a,n,r){var s="";return s+=Ma(r),s+=" player-video"},Sa.t2894.j=tl,Sa.t2894.a=0,Sa.t2895=function(t,e,a,n,r){var s="";return s+=Ma(r),s+=t.f("f914",e,a,n,r,yr.object2nodeset(function(){var t={};return t.centered=!0,t}()))},Sa.t2895.j=tl,Sa.t2895.a=0,Sa.t2896=function(t,e,a,n,r){var s="",i=t.k("k26","environment",e.doc.root),o=t.k("k26","videoInfo",e.doc.root),c=t.k("k26","resource",e.doc.root),l=t.k("k26","stateResource",e.doc.root),d=t.n(el,o),u=_a("on",t.n(al,i));if(s+=Ma(r),_a("flv",d))s+=t.f("f913",e,a,n,r,yr.object2nodeset(function(){var a={};a["class"]="js-player";var n={};return n["data-nb-params"]=yr.externals.json(yr.object2nodeset(function(){var a={};return a.urlFlash=yr.nodeset2data(t.n(fl,t.v("v2635",e.doc.root))),a.lang=yr.nodeset2data(t.n(An,i)),a.preview=yr.nodeset2data(t.n(vi,c)),a.host=yr.nodeset2data(t.n(yl,o)),a.stid=yr.nodeset2data(t.n(ol,o)),a.dimension=yr.nodeset2data(t.n(il,o)),a.autoplay=yr.nodeset2data(t.n(ll,l)),a.hq=u,a}())),a.attrs=n,a}()));else if(_a("yavideo",d))s+=t.f("f917",e,a,n,r,yr.object2nodeset(function(){var a={};a["class"]="js-player";var n={};return n["data-nb-params"]=yr.externals.json(yr.object2nodeset(function(){var a={};return a.hostVideo=yr.nodeset2data(t.n(nl,t.v("v2635",e.doc.root))),a.authorVideo=yr.nodeset2data(t.n(rl,o)),a.storageVideo=yr.nodeset2data(t.n(sl,o)),a.dimension=yr.nodeset2data(t.n(il,o)),a.lang=yr.nodeset2data(t.n(An,i)),a.stid=yr.nodeset2data(t.n(ol,o)),a.token=yr.nodeset2data(t.n(cl,o)),a.autoplay=yr.nodeset2data(t.n(ll,l)),a.extended=yr.externals.isParent("/yavideo",xa(t.n(En,c))),a.preview=yr.nodeset2data(t.n(vi,c)),a.hq=u,a}())),a.attrs=n,a}()));else if(_a("html",d)){var f={};f.dimension=yr.nodeset2data(t.n(il,o)),f.isIOS=_a("iOS",t.n(dl,i)),f.isMobile=yr.nodeset2data(t.n(ri,i)),f.autoplay=yr.nodeset2data(t.n(ll,l)),f.duration=yr.nodeset2data(t.n(ul,o)),f.resolutions=yr.nodeset2data(t.n(on,o)),f.preview=yr.nodeset2data(t.n(vi,c)),f.title=yr.nodeset2data(t.n(Ta,c)),f.hq=u;var y=f;s+=t.f("f915",e,a,n,r,yr.externals["nb-extend"](yr.object2nodeset(function(){var t={};t["class"]="js-player";var e={};return e["data-nb-params"]=yr.externals.json(yr.object2nodeset(y)),t.attrs=e,t}()),yr.object2nodeset(y)))}return s},Sa.t2896.j=tl,Sa.t2896.a=0,Sa.t2897=function(t,e,a,n,r){var s="";return s+=Ma(r),s+=" public-resource-info-row"},Sa.t2897.j=vl,Sa.t2897.a=0,Sa.t2898=function(t,e,a,n,r){var s="",i=t.k("k26","directRowAd",e.doc.root);if(ha(t.n(Wc,t.k("k26","directRowAd",e.doc.root))))s+=Ma(r),s+='<a href="'+wa(t.n(bl,i))+'" target="'+"_blank"+'" class="'+"public-resource-info-row__sponsored-link js-sponsored-link"+'">',s+=ma(t.n(pl,i)),s+="</a>",s+='<a class="public-resource-info-row__title js-link" target="_blank" href="#">',s+='<span class="public-resource-info-row__title-link">',s+='<img src="https://favicon.yandex.net/favicon/'+wa(t.n(_l,i))+'" class="'+"public-resource-info-row__favicon"+'"/>',s+='<span class="public-resource-info-row__title-text">',s+=ma(t.n(wr,i)),s+="</span>",s+="</span>",s+="</a>",s+='<a class="public-resource-info-row__body js-link" target="_blank" href="#">',s+=ma(t.n(ml,i)),s+="</a>";else{var o=r.a["class"];r.a["class"]=o?o.addscalar(" public-resource-info-row_empty"):new yr.scalarAttr(" public-resource-info-row_empty")}return s},Sa.t2898.j=vl,Sa.t2898.a=0,Sa.t2899=function(t,e,a,n,r){var s="";if(s+=Ma(r),s+="<a",r.a={"class":new yr.scalarAttr("item-nav")},r.s="a",s+=t.a(t,0,t.s(Ya,e),"nb-main-attrs",r),za("isCurrent",e)){var i=r.a["class"];r.a["class"]=i?i.addscalar(" item-nav_current"):new yr.scalarAttr(" item-nav_current")}return s+=Ma(r),za("content",e)&&(s+=ka("content",e)),za("count",e)&&(s+='<span class="item-nav__count">',ka("count",e)>99?s+=" 99+":ka("count",e)>0&&(s+=" +"+ma(Ca("count",e,[]))),s+="</span>"),s+="</a>"},Sa.t2899.j=hl,Sa.t2899.a=0,Sa.t2900=function(t,e,a,n,r){var s="";return s+=Ma(r),s+=" slices__item slices__item_mail"},Sa.t2900.j=wl,Sa.t2900.a=0,Sa.t2901=function(t,e,a,n,r){var s="",i=t.n(xl,t.k("k26","slices",e.doc.root));return s+=Ma(r),s+=t.f("f936",e,a,n,r,yr.object2nodeset(function(){var e={};e.content=yr.nodeset2data(t.n(Ta,i));var a={};return a.href=yr.nodeset2data(t.n($n,i)),e.attrs=a,e["class"]="js-link-mail",e}()))},Sa.t2901.j=wl,Sa.t2901.a=0,Sa.t2902=function(t,e,a,n,r){var s="",i=t.n(xl,t.k("k26","slices",e.doc.root));return s+=Ma(r),s+=t.f("f936",e,a,n,r,yr.object2nodeset(function(){var a={};a.content=yr.nodeset2data(t.n(Ta,i)),a.count=yr.nodeset2data(t.n(gl,t.k("k26","counterMail",e.doc.root)));var n={};return n.href=yr.nodeset2data(t.n($n,i)),a.attrs=n,a["class"]="js-link-mail",a}()))},Sa.t2902.j=wl,Sa.t2902.a=0,Sa.t2903=function(t,e,a,n,r){var s="";return s+=Ma(r),s+=" slices__item"},Sa.t2903.j=jl,Sa.t2903.a=0,Sa.t2904=function(t,e,a,n,r){var s="",i=t.n(Al,t.k("k26","slices",e.doc.root));return s+=Ma(r),s+=t.f("f936",e,a,n,r,yr.object2nodeset(function(){var a={};a["class"]="ns-action";var n={},r="",s={a:{}};return r+=t.a(t,0,i,"slices__item-href",s),n.href=r,n["data-click-action"]="listing.openFolder",n["data-params"]=yr.externals.json(yr.object2nodeset(function(){var e={};return e.id=yr.nodeset2data(t.n(tc,i)),e}())),n["data-metrika-click"]="count",n["data-metrika-params"]="navigation,via tabs,shared",a.attrs=n,a.content=yr.nodeset2data(t.n(Ta,i)),a.isCurrent=pa(t.n(tc,i),t.s(kl,e.doc.root)),a}()))},Sa.t2904.j=jl,Sa.t2904.a=0,Sa.t2905=function(t,e,a,n,r){var s="",i=t.n(Al,t.k("k26","slices",e.doc.root));return s+=Ma(r),s+=t.f("f936",e,a,n,r,yr.object2nodeset(function(){var a={};a["class"]="ns-action";var n={},r="",s={a:{}};return r+=t.a(t,0,i,"slices__item-href",s),n.href=r,n["data-click-action"]="listing.openFolder",n["data-params"]=yr.externals.json(yr.object2nodeset(function(){var e={};return e.id=yr.nodeset2data(t.n(tc,i)),e}())),n["data-metrika-click"]="count",n["data-metrika-params"]="navigation,via tabs,shared",a.attrs=n,a.content=yr.nodeset2data(t.n(Ta,i)),a.count=t.n(zl,t.k("k26","invitesFolder",e.doc.root)).length,a.isCurrent=pa(t.n(tc,i),t.s(kl,e.doc.root)),a}()))},Sa.t2905.j=jl,Sa.t2905.a=0,Sa.t2906=function(t,e,a,n,r){var s="";return s+=Ma(r),s+=" slices"},Sa.t2906.j=Cl,Sa.t2906.a=0,Sa.t2907=function(t,e,a,n,r){var s="";"slices__popup-"+yr.externals["nb-uniq"](),s+=Ma(r);for(var i=t.n(Ml,t.k("k26","slices",e.doc.root)),o=0,c=i.length;c>o;o++){var l=i[o];s+="<div",r.a={"class":new yr.scalarAttr("slices__item-wrap js-item"),"data-id":new yr.scalarAttr(xa(Ca("id",l,[])))},r.s="div",_a("shared",Ca("id",l,[]))?s+=t.a(t,0,t.s(Dl,l.doc.root),"ns-view",r):(s+=Ma(r),s+=t.f("f936",l,o,c,r,yr.object2nodeset(function(){var e={},a="",n={a:{}};a+="slices__item ns-action",_a("trash",Ca("id",l,[]))&&(a+=" js-trash"),za("unvisited",l)&&(a+=" slices__item_unvisited"),e["class"]=a;var a={},n={a:{}},r="",s={a:{}};r+=t.a(t,0,t.s(Ya,l),"slices__item-href",s),a.href=r,a["data-click-action"]="listing.openFolder",a["data-params"]=yr.externals.json(yr.object2nodeset(function(){var t={};return t.id=yr.nodeset2data(Ca("idContext",l,[])),t.from="tabs",t}())),e.attrs=a,e.isCurrent=pa(Ca("id",l,[]),t.s(Sl,l.doc.root))||_a("albums",Ca("id",l,[]))&&ha(t.s(Pl,l.doc.root));var a="",n={a:{}};return a+=t.a(t,0,t.s(Ya,l),"slices__item-content",n),e.content=a,e}()))),s+=Ma(r),s+='<span class="slices__item slices__item_more js-more">',s+="...",s+="</span>",s+="</div>"}return s+=t.f("f880",e,a,n,r,yr.object2nodeset(function(){var a={};a["class"]="slices__popup js-popup";for(var n=[],r=t.n(Fl,t.k("k26","slices",e.doc.root)),s=0,i=r.length;i>s;s++){var o=r[s],c={};c.id=yr.nodeset2data(Ca("id",o,[]));var l="",d={a:{}};l+=t.a(t,0,t.s(Ya,o),"slices__item-href",d),c.href=l,c.content=yr.nodeset2data(Ca("name",o,[]));var l=[],d={a:{}};l.push("slices__item-popup js-item-popup"),pa(Ca("id",o,[]),t.s(Sl,o.doc.root))&&l.push("slices__item-popup_current"),za("hidden",o)&&l.push("slices__item-popup_hidden js-hidden"),za("inMenu",o)||l.push("slices__item-popup_hidden"),l.push("ns-action"),c["class"]=l;var l={},d={a:{}};l["data-click-action"]="listing.openFolder",l["data-params"]=yr.externals.json(yr.object2nodeset(function(){var t={};return t.id=yr.nodeset2data(Ca("idContext",o,[])),t.from="tabs",t}())),l["data-id"]=yr.nodeset2data(Ca("id",o,[])),c.attrs=l,n.push(c)}return a.menu=n,a}()))},Sa.t2907.j=Cl,Sa.t2907.a=0,Sa.t2908=function(t,e,a,n,r){var s="";return s+=Ma(r),s+=ma(Ca("name",e,[]))},Sa.t2908.j=Fl,Sa.t2908.a=0,Sa.t2909=function(t,e,a,n,r){var s="";return s+=Ma(r),s+='<span class="slices__name-visible">',s+=ma(Ca("name",e,[])),s+="</span>",s+='<span class="slices__name-hidden">',s+="Удалить",s+="</span>"},Sa.t2909.j=Tl,Sa.t2909.a=0,Sa.t2910=function(t,e,a,n,r){var s="";return s+=Ma(r),za("href",e)?s+=ma(Ca("href",e,[])):(_a("public",t.s(Rl,e.doc.root))&&(s+=ma(t.n(Dn,t.k("k26","config",e.doc.root)))),s+="/client"+ja(yr.externals.escapePath(ka("idContext",e)))),s},Sa.t2910.j=Fl,Sa.t2910.a=0,Sa.matcher={"":{"":["t2664"],notification:["t2856","t2794","t2793","t2792"]},"ns-view":{"*":["t2665"]},"ns-build-view":{"*":["t2666"]},"ns-build-view-content":{"*":["t2667"]},"ns-view-add-class":{"*":["t2668"],directAsidePublic:["t2763","t2668"],directAsidePublicImage:["t2763","t2668"],directContentPublic:["t2767","t2668"],directContentPublicImage:["t2767","t2668"],filePublic:["t2773","t2668"],header:["t2789","t2668"],notifications:["t2790","t2668"],contentPublic:["t2887","t2668"],playerAudioPublic:["t2891","t2668"],playerVideo:["t2894","t2668"],publicResourceInfoRow:["t2897","t2668"],sliceLinkMail:["t2900","t2668"],sliceShared:["t2903","t2668"],slices:["t2906","t2668"]},"ns-view-add-attrs":{"*":["t2669"]},"ns-view-content":{"*":["t2677","t2675","t2670"],dialogAuth:["t2750","t2677","t2675","t2670"],dialogAuthRegister:["t2751","t2677","t2675","t2670"],dialogAuthEdit:["t2752","t2677","t2675","t2670"],dialogAuthInvite:["t2753","t2677","t2675","t2670"],dialogAuthFolder:["t2754","t2677","t2675","t2670"],dialogAuthCopy:["t2755","t2677","t2675","t2670"],dialogAuthCopyAlbum:["t2756","t2677","t2675","t2670"],dialogAuthCopyAlbumResource:["t2757","t2677","t2675","t2670"],directAsidePublic:["t2764","t2677","t2675","t2670"],directAsidePublicImage:["t2764","t2677","t2675","t2670"],directContentPublic:["t2768","t2677","t2675","t2670"],directContentPublicImage:["t2768","t2677","t2675","t2670"],filePublic:["t2774","t2677","t2675","t2670"],footerPublic:["t2785","t2677","t2675","t2670"],formSearch:["t2788","t2677","t2675","t2670"],pageError:["t2885","t2677","t2675","t2670"],contentError:["t2886","t2677","t2675","t2670"],contentPublic:["t2889","t2888","t2677","t2675","t2670"],playerAudioPublic:["t2892","t2677","t2675","t2670"],playerVideo:["t2896","t2677","t2675","t2670"],publicResourceInfoRow:["t2898","t2677","t2675","t2670"],sliceLinkMail:["t2902","t2677","t2675","t2670"],sliceShared:["t2905","t2677","t2675","t2670"],slices:["t2907","t2677","t2675","t2670"]},"ns-view-desc":{"*":["t2671"]},"ns-view-collection":{"*":["t2672"]},"ns-view-async-content":{"*":["t2678","t2676","t2673"],playerVideo:["t2895","t2678","t2676","t2673"],sliceLinkMail:["t2901","t2678","t2676","t2673"],sliceShared:["t2904","t2678","t2676","t2673"]},"ns-view-error-content":{"*":["t2674"]},"nb-main-attrs":{"*":["t2679"]},"nb-main-content":{"*":["t2680"]},nb:{ico:["t2681"],button:["t2682"],buttonLink:["t2683"],buttonSpan:["t2684"],buttonLabel:["t2685"],buttonAttach:["t2686"],popupMenu:["t2687"],popup:["t2690"],modalPopup:["t2691"],"radio-button":["t2692"],select:["t2693"],checkbox:["t2695"],input:["t2696"],textarea:["t2697"],inputSimple:["t2698"],textareaSimple:["t2699"],"input-group":["t2700"],progress:["t2701"],paranja:["t2702"],island:["t2703"],dropzone:["t2704"],loader:["t2705"],slider:["t2706"],tabs:["t2707"],arrow:["t2710","t2709","t2708"],header:["t2711"],user:["t2712"],suggest:["t2715"],toggler:["t2721"],"icon-social":["t2723","t2722"],"form-auth":["t2726"],"checkbox-resource":["t2730"],"icon-start-play":["t2731"],"icon-resource":["t2732"],"player-video-flash":["t2739"],"loader-thin":["t2740"],"player-video-html":["t2741"],"player-video-yandex":["t2742"],"popup-account":["t2743"],"logo-yandex":["t2747"],"popup-auth":["t2749"],"yandex-direct":["t2762"],"preview-resource":["t2772","t2771"],"switcher-locale":["t2782"],footer:["t2784"],"nb-arrow-service":["t2786"],"form-search":["t2787"],"item-nav":["t2899"]},"nb-popup-menu-content":{popupMenu:["t2688"]},"nb-popup-menu-content-item":{menu:["t2689"]},"nb-select-options":{"":["t2694"],select:["t2694"]},"nb-user-pic":{user:["t2713"]},"nb-user-name":{user:["t2714"],username:["t2719"],email:["t2720"]},"nb-suggest":{"":["t2716"],item:["t2718","t2717"]},"nb-icon-social-content":{"icon-social":["t2724"]},"nb-icon-social-attrs":{"icon-social":["t2725"]},"nb-form-auth-content":{"form-auth":["t2727"]},"nb-form-auth-social-buttons":{"form-auth":["t2728"]},"nb-form-auth-popup-social":{"form-auth":["t2729"]},"nb-icon-resource-preview":{"icon-resource":["t2733"]},"nb-icon-resource-image":{"icon-resource":["t2736","t2735","t2734"]},"nb-icon-resource-video-stub":{"icon-resource":["t2737"]},"nb-icon-resource-icon":{"icon-resource":["t2738"]},"popup-account__content":{"popup-account":["t2744"]},"popup-account__accounts":{"popup-account":["t2746","t2745"]},"logo-yandex":{hostPDD:["t2748"]},"dialog-auth-copy__params-type":{resource:["t2761","t2760","t2759","t2758"]},"direct-aside-public__type":{directAsidePublic:["t2765"],directAsidePublicImage:["t2766"]},"direct-content-public__type":{directContentPublic:["t2769"],directContentPublicImage:["t2770"]},"file-public":{resource:["t2781","t2780","t2779","t2778","t2777","t2776","t2775"]},"nb-switcher-locale-content":{"*":["t2783"]},notification:{"":["t2791"]},"notification-inner":{notification:["t2795"]},message:{notification:["t2884","t2883","t2882","t2881","t2880","t2879","t2878","t2877","t2876","t2875","t2874","t2873","t2872","t2871","t2870","t2869","t2868","t2867","t2866","t2865","t2864","t2863","t2862","t2861","t2860","t2859","t2858","t2857","t2855","t2854","t2853","t2852","t2851","t2850","t2849","t2848","t2847","t2846","t2845","t2844","t2843","t2842","t2841","t2840","t2839","t2838","t2837","t2836","t2835","t2834","t2833","t2832","t2831","t2830","t2829","t2828","t2827","t2826","t2825","t2824","t2823","t2822","t2821","t2820","t2819","t2818","t2817","t2816","t2815","t2814","t2813","t2812","t2811","t2810","t2809","t2808","t2807","t2806","t2805","t2804","t2803","t2802","t2801","t2800","t2799","t2798","t2797","t2796"]},"content-public__nav":{contentPublic:["t2890"]},"player-audio-public":{resource:["t2893"]},"slices__item-content":{slice:["t2909","t2908"]},"slices__item-href":{slice:["t2910"]}},Sa.imports=[],yr.register("main",Sa)
}(),__i18n__={},__i18n__.i18n=__i18n__.i18n||{},__i18n__.i18n.convert=function(t,e){var a=t.length;if(4==a&&1==e)return t[0];var n=e%100,r=e%10,s=2;return n>10&&20>=n?s=2:1==r?s=0:r>1&&5>r&&(s=1),4==a&&s++,t[s]},__i18n__.i18n["if"]=function(t,e,a){return t?e:a},__i18n__.i18n.index=function(t,e){return t[+e]},__i18n__.i18n.plural=function(t,e,a){return t>1?e:a};